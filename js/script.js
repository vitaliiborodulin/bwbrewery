(function (factory) {
    if (typeof define === 'function' && define.amd) {
        // AMD. Register as an anonymous module.
        define(['jquery'], factory);
    } else if (typeof exports === 'object') {
        // Node/CommonJS
        factory(require('jquery'));
    } else {
        // Browser globals
        factory(jQuery);
    }
}(function ($) {

var ua = navigator.userAgent,
	iPhone = /iphone/i.test(ua),
	chrome = /chrome/i.test(ua),
	android = /android/i.test(ua),
	caretTimeoutId;

$.mask = {
	//Predefined character definitions
	definitions: {
		'9': "[0-9]",
		'a': "[A-Za-z]",
		'*': "[A-Za-z0-9]"
	},
	autoclear: true,
	dataName: "rawMaskFn",
	placeholder: '_'
};

$.fn.extend({
	//Helper Function for Caret positioning
	caret: function(begin, end) {
		var range;

		if (this.length === 0 || this.is(":hidden") || this.get(0) !== document.activeElement) {
			return;
		}

		if (typeof begin == 'number') {
			end = (typeof end === 'number') ? end : begin;
			return this.each(function() {
				if (this.setSelectionRange) {
					this.setSelectionRange(begin, end);
				} else if (this.createTextRange) {
					range = this.createTextRange();
					range.collapse(true);
					range.moveEnd('character', end);
					range.moveStart('character', begin);
					range.select();
				}
			});
		} else {
			if (this[0].setSelectionRange) {
				begin = this[0].selectionStart;
				end = this[0].selectionEnd;
			} else if (document.selection && document.selection.createRange) {
				range = document.selection.createRange();
				begin = 0 - range.duplicate().moveStart('character', -100000);
				end = begin + range.text.length;
			}
			return { begin: begin, end: end };
		}
	},
	unmask: function() {
		return this.trigger("unmask");
	},
	mask: function(mask, settings) {
		var input,
			defs,
			tests,
			partialPosition,
			firstNonMaskPos,
            lastRequiredNonMaskPos,
            len,
            oldVal;

		if (!mask && this.length > 0) {
			input = $(this[0]);
            var fn = input.data($.mask.dataName)
			return fn?fn():undefined;
		}

		settings = $.extend({
			autoclear: $.mask.autoclear,
			placeholder: $.mask.placeholder, // Load default placeholder
			completed: null
		}, settings);


		defs = $.mask.definitions;
		tests = [];
		partialPosition = len = mask.length;
		firstNonMaskPos = null;

		mask = String(mask);

		$.each(mask.split(""), function(i, c) {
			if (c == '?') {
				len--;
				partialPosition = i;
			} else if (defs[c]) {
				tests.push(new RegExp(defs[c]));
				if (firstNonMaskPos === null) {
					firstNonMaskPos = tests.length - 1;
				}
                if(i < partialPosition){
                    lastRequiredNonMaskPos = tests.length - 1;
                }
			} else {
				tests.push(null);
			}
		});

		return this.trigger("unmask").each(function() {
			var input = $(this),
				buffer = $.map(
    				mask.split(""),
    				function(c, i) {
    					if (c != '?') {
    						return defs[c] ? getPlaceholder(i) : c;
    					}
    				}),
				defaultBuffer = buffer.join(''),
				focusText = input.val();

            function tryFireCompleted(){
                if (!settings.completed) {
                    return;
                }

                for (var i = firstNonMaskPos; i <= lastRequiredNonMaskPos; i++) {
                    if (tests[i] && buffer[i] === getPlaceholder(i)) {
                        return;
                    }
                }
                settings.completed.call(input);
            }

            function getPlaceholder(i){
                if(i < settings.placeholder.length)
                    return settings.placeholder.charAt(i);
                return settings.placeholder.charAt(0);
            }

			function seekNext(pos) {
				while (++pos < len && !tests[pos]);
				return pos;
			}

			function seekPrev(pos) {
				while (--pos >= 0 && !tests[pos]);
				return pos;
			}

			function shiftL(begin,end) {
				var i,
					j;

				if (begin<0) {
					return;
				}

				for (i = begin, j = seekNext(end); i < len; i++) {
					if (tests[i]) {
						if (j < len && tests[i].test(buffer[j])) {
							buffer[i] = buffer[j];
							buffer[j] = getPlaceholder(j);
						} else {
							break;
						}

						j = seekNext(j);
					}
				}
				writeBuffer();
				input.caret(Math.max(firstNonMaskPos, begin));
			}

			function shiftR(pos) {
				var i,
					c,
					j,
					t;

				for (i = pos, c = getPlaceholder(pos); i < len; i++) {
					if (tests[i]) {
						j = seekNext(i);
						t = buffer[i];
						buffer[i] = c;
						if (j < len && tests[j].test(t)) {
							c = t;
						} else {
							break;
						}
					}
				}
			}

			function androidInputEvent(e) {
				var curVal = input.val();
				var pos = input.caret();
				if (oldVal && oldVal.length && oldVal.length > curVal.length ) {
					// a deletion or backspace happened
					checkVal(true);
					while (pos.begin > 0 && !tests[pos.begin-1])
						pos.begin--;
					if (pos.begin === 0)
					{
						while (pos.begin < firstNonMaskPos && !tests[pos.begin])
							pos.begin++;
					}
					input.caret(pos.begin,pos.begin);
				} else {
					var pos2 = checkVal(true);
					var lastEnteredValue = curVal.charAt(pos.begin);
					if (pos.begin < len){
						if(!tests[pos.begin]){
							pos.begin++;
							if(tests[pos.begin].test(lastEnteredValue)){
								pos.begin++;
							}
						}else{
							if(tests[pos.begin].test(lastEnteredValue)){
								pos.begin++;
							}
						}
					}
					input.caret(pos.begin,pos.begin);
				}
				tryFireCompleted();
			}


			function blurEvent(e) {
                checkVal();

                if (input.val() != focusText)
                    input.change();
            }

			function keydownEvent(e) {
                if (input.prop("readonly")){
                    return;
                }

				var k = e.which || e.keyCode,
					pos,
					begin,
					end;
                    oldVal = input.val();
				//backspace, delete, and escape get special treatment
				if (k === 8 || k === 46 || (iPhone && k === 127)) {
					pos = input.caret();
					begin = pos.begin;
					end = pos.end;

					if (end - begin === 0) {
						begin=k!==46?seekPrev(begin):(end=seekNext(begin-1));
						end=k===46?seekNext(end):end;
					}
					clearBuffer(begin, end);
					shiftL(begin, end - 1);

					e.preventDefault();
				} else if( k === 13 ) { // enter
					blurEvent.call(this, e);
				} else if (k === 27) { // escape
					input.val(focusText);
					input.caret(0, checkVal());
					e.preventDefault();
				}
			}

			function keypressEvent(e) {
                if (input.prop("readonly")){
                    return;
                }

				var k = e.which || e.keyCode,
					pos = input.caret(),
					p,
					c,
					next;

				if (e.ctrlKey || e.altKey || e.metaKey || k < 32) {//Ignore
					return;
				} else if ( k && k !== 13 ) {
					if (pos.end - pos.begin !== 0){
						clearBuffer(pos.begin, pos.end);
						shiftL(pos.begin, pos.end-1);
					}

					p = seekNext(pos.begin - 1);
					if (p < len) {
						c = String.fromCharCode(k);
						if (tests[p].test(c)) {
							shiftR(p);

							buffer[p] = c;
							writeBuffer();
							next = seekNext(p);

							if(android){
								//Path for CSP Violation on FireFox OS 1.1
								var proxy = function() {
									$.proxy($.fn.caret,input,next)();
								};

								setTimeout(proxy,0);
							}else{
								input.caret(next);
							}
                            if(pos.begin <= lastRequiredNonMaskPos){
		                         tryFireCompleted();
                             }
						}
					}
					e.preventDefault();
				}
			}

			function clearBuffer(start, end) {
				var i;
				for (i = start; i < end && i < len; i++) {
					if (tests[i]) {
						buffer[i] = getPlaceholder(i);
					}
				}
			}

			function writeBuffer() { input.val(buffer.join('')); }

			function checkVal(allow) {
				//try to place characters where they belong
				var test = input.val(),
					lastMatch = -1,
					i,
					c,
					pos;

				for (i = 0, pos = 0; i < len; i++) {
					if (tests[i]) {
						buffer[i] = getPlaceholder(i);
						while (pos++ < test.length) {
							c = test.charAt(pos - 1);
							if (tests[i].test(c)) {
								buffer[i] = c;
								lastMatch = i;
								break;
							}
						}
						if (pos > test.length) {
							clearBuffer(i + 1, len);
							break;
						}
					} else {
                        if (buffer[i] === test.charAt(pos)) {
                            pos++;
                        }
                        if( i < partialPosition){
                            lastMatch = i;
                        }
					}
				}
				if (allow) {
					writeBuffer();
				} else if (lastMatch + 1 < partialPosition) {
					if (settings.autoclear || buffer.join('') === defaultBuffer) {
						// Invalid value. Remove it and replace it with the
						// mask, which is the default behavior.
						if(input.val()) input.val("");
						clearBuffer(0, len);
					} else {
						// Invalid value, but we opt to show the value to the
						// user and allow them to correct their mistake.
						writeBuffer();
					}
				} else {
					writeBuffer();
					input.val(input.val().substring(0, lastMatch + 1));
				}
				return (partialPosition ? i : firstNonMaskPos);
			}

			input.data($.mask.dataName,function(){
				return $.map(buffer, function(c, i) {
					return tests[i]&&c!=getPlaceholder(i) ? c : null;
				}).join('');
			});


			input
				.one("unmask", function() {
					input
						.off(".mask")
						.removeData($.mask.dataName);
				})
				.on("focus.mask", function() {
                    if (input.prop("readonly")){
                        return;
                    }

					clearTimeout(caretTimeoutId);
					var pos;

					focusText = input.val();

					pos = checkVal();

					caretTimeoutId = setTimeout(function(){
                        if(input.get(0) !== document.activeElement){
                            return;
                        }
						writeBuffer();
						if (pos == mask.replace("?","").length) {
							input.caret(0, pos);
						} else {
							input.caret(pos);
						}
					}, 10);
				})
				.on("blur.mask", blurEvent)
				.on("keydown.mask", keydownEvent)
				.on("keypress.mask", keypressEvent)
				.on("input.mask paste.mask", function() {
                    if (input.prop("readonly")){
                        return;
                    }

					setTimeout(function() {
						var pos=checkVal(true);
						input.caret(pos);
                        tryFireCompleted();
					}, 0);
				});
                if (chrome && android)
                {
                    input
                        .off('input.mask')
                        .on('input.mask', androidInputEvent);
                }
				checkVal(); //Perform initial check for existing values
		});
	}
});
}));
// ==================================================
// fancyBox v3.5.7
//
// Licensed GPLv3 for open source use
// or fancyBox Commercial License for commercial use
//
// http://fancyapps.com/fancybox/
// Copyright 2019 fancyApps
//
// ==================================================
!function(t,e,n,o){"use strict";function i(t,e){var o,i,a,s=[],r=0;t&&t.isDefaultPrevented()||(t.preventDefault(),e=e||{},t&&t.data&&(e=h(t.data.options,e)),o=e.$target||n(t.currentTarget).trigger("blur"),(a=n.fancybox.getInstance())&&a.$trigger&&a.$trigger.is(o)||(e.selector?s=n(e.selector):(i=o.attr("data-fancybox")||"",i?(s=t.data?t.data.items:[],s=s.length?s.filter('[data-fancybox="'+i+'"]'):n('[data-fancybox="'+i+'"]')):s=[o]),r=n(s).index(o),r<0&&(r=0),a=n.fancybox.open(s,e,r),a.$trigger=o))}if(t.console=t.console||{info:function(t){}},n){if(n.fn.fancybox)return void console.info("fancyBox already initialized");var a={closeExisting:!1,loop:!1,gutter:50,keyboard:!0,preventCaptionOverlap:!0,arrows:!0,infobar:!0,smallBtn:"auto",toolbar:"auto",buttons:["zoom","slideShow","thumbs","close"],idleTime:3,protect:!1,modal:!1,image:{preload:!1},ajax:{settings:{data:{fancybox:!0}}},iframe:{tpl:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" allowfullscreen="allowfullscreen" allow="autoplay; fullscreen" src=""></iframe>',preload:!0,css:{},attr:{scrolling:"auto"}},video:{tpl:'<video class="fancybox-video" controls controlsList="nodownload" poster="{{poster}}"><source src="{{src}}" type="{{format}}" />Sorry, your browser doesn\'t support embedded videos, <a href="{{src}}">download</a> and watch with your favorite video player!</video>',format:"",autoStart:!0},defaultType:"image",animationEffect:"zoom",animationDuration:366,zoomOpacity:"auto",transitionEffect:"fade",transitionDuration:366,slideClass:"",baseClass:"",baseTpl:'<div class="fancybox-container" role="dialog" tabindex="-1"><div class="fancybox-bg"></div><div class="fancybox-inner"><div class="fancybox-infobar"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div><div class="fancybox-toolbar">{{buttons}}</div><div class="fancybox-navigation">{{arrows}}</div><div class="fancybox-stage"></div><div class="fancybox-caption"><div class="fancybox-caption__body"></div></div></div></div>',spinnerTpl:'<div class="fancybox-loading"></div>',errorTpl:'<div class="fancybox-error"><p>{{ERROR}}</p></div>',btnTpl:{download:'<a download data-fancybox-download class="fancybox-button fancybox-button--download" title="{{DOWNLOAD}}" href="javascript:;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.62 17.09V19H5.38v-1.91zm-2.97-6.96L17 11.45l-5 4.87-5-4.87 1.36-1.32 2.68 2.64V5h1.92v7.77z"/></svg></a>',zoom:'<button data-fancybox-zoom class="fancybox-button fancybox-button--zoom" title="{{ZOOM}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.7 17.3l-3-3a5.9 5.9 0 0 0-.6-7.6 5.9 5.9 0 0 0-8.4 0 5.9 5.9 0 0 0 0 8.4 5.9 5.9 0 0 0 7.7.7l3 3a1 1 0 0 0 1.3 0c.4-.5.4-1 0-1.5zM8.1 13.8a4 4 0 0 1 0-5.7 4 4 0 0 1 5.7 0 4 4 0 0 1 0 5.7 4 4 0 0 1-5.7 0z"/></svg></button>',close:'<button data-fancybox-close class="fancybox-button fancybox-button--close" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 10.6L6.6 5.2 5.2 6.6l5.4 5.4-5.4 5.4 1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4-1.4-1.4-5.4 5.4z"/></svg></button>',arrowLeft:'<button data-fancybox-prev class="fancybox-button fancybox-button--arrow_left" title="{{PREV}}"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11.28 15.7l-1.34 1.37L5 12l4.94-5.07 1.34 1.38-2.68 2.72H19v1.94H8.6z"/></svg></div></button>',arrowRight:'<button data-fancybox-next class="fancybox-button fancybox-button--arrow_right" title="{{NEXT}}"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.4 12.97l-2.68 2.72 1.34 1.38L19 12l-4.94-5.07-1.34 1.38 2.68 2.72H5v1.94z"/></svg></div></button>',smallBtn:'<button type="button" data-fancybox-close class="fancybox-button fancybox-close-small" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" version="1" viewBox="0 0 24 24"><path d="M13 12l5-5-1-1-5 5-5-5-1 1 5 5-5 5 1 1 5-5 5 5 1-1z"/></svg></button>'},parentEl:"body",hideScrollbar:!0,autoFocus:!0,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:3e3},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"},wheel:"auto",onInit:n.noop,beforeLoad:n.noop,afterLoad:n.noop,beforeShow:n.noop,afterShow:n.noop,beforeClose:n.noop,afterClose:n.noop,onActivate:n.noop,onDeactivate:n.noop,clickContent:function(t,e){return"image"===t.type&&"zoom"},clickSlide:"close",clickOutside:"close",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{preventCaptionOverlap:!1,idleTime:!1,clickContent:function(t,e){return"image"===t.type&&"toggleControls"},clickSlide:function(t,e){return"image"===t.type?"toggleControls":"close"},dblclickContent:function(t,e){return"image"===t.type&&"zoom"},dblclickSlide:function(t,e){return"image"===t.type&&"zoom"}},lang:"en",i18n:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow",FULL_SCREEN:"Full screen",THUMBS:"Thumbnails",DOWNLOAD:"Download",SHARE:"Share",ZOOM:"Zoom"},de:{CLOSE:"Schlie&szlig;en",NEXT:"Weiter",PREV:"Zur&uuml;ck",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es sp&auml;ter nochmal.",PLAY_START:"Diaschau starten",PLAY_STOP:"Diaschau beenden",FULL_SCREEN:"Vollbild",THUMBS:"Vorschaubilder",DOWNLOAD:"Herunterladen",SHARE:"Teilen",ZOOM:"Vergr&ouml;&szlig;ern"}}},s=n(t),r=n(e),c=0,l=function(t){return t&&t.hasOwnProperty&&t instanceof n},d=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||function(e){return t.setTimeout(e,1e3/60)}}(),u=function(){return t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||function(e){t.clearTimeout(e)}}(),f=function(){var t,n=e.createElement("fakeelement"),o={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in o)if(void 0!==n.style[t])return o[t];return"transitionend"}(),p=function(t){return t&&t.length&&t[0].offsetHeight},h=function(t,e){var o=n.extend(!0,{},t,e);return n.each(e,function(t,e){n.isArray(e)&&(o[t]=e)}),o},g=function(t){var o,i;return!(!t||t.ownerDocument!==e)&&(n(".fancybox-container").css("pointer-events","none"),o={x:t.getBoundingClientRect().left+t.offsetWidth/2,y:t.getBoundingClientRect().top+t.offsetHeight/2},i=e.elementFromPoint(o.x,o.y)===t,n(".fancybox-container").css("pointer-events",""),i)},b=function(t,e,o){var i=this;i.opts=h({index:o},n.fancybox.defaults),n.isPlainObject(e)&&(i.opts=h(i.opts,e)),n.fancybox.isMobile&&(i.opts=h(i.opts,i.opts.mobile)),i.id=i.opts.id||++c,i.currIndex=parseInt(i.opts.index,10)||0,i.prevIndex=null,i.prevPos=null,i.currPos=0,i.firstRun=!0,i.group=[],i.slides={},i.addContent(t),i.group.length&&i.init()};n.extend(b.prototype,{init:function(){var o,i,a=this,s=a.group[a.currIndex],r=s.opts;r.closeExisting&&n.fancybox.close(!0),n("body").addClass("fancybox-active"),!n.fancybox.getInstance()&&!1!==r.hideScrollbar&&!n.fancybox.isMobile&&e.body.scrollHeight>t.innerHeight&&(n("head").append('<style id="fancybox-style-noscroll" type="text/css">.compensate-for-scrollbar{margin-right:'+(t.innerWidth-e.documentElement.clientWidth)+"px;}</style>"),n("body").addClass("compensate-for-scrollbar")),i="",n.each(r.buttons,function(t,e){i+=r.btnTpl[e]||""}),o=n(a.translate(a,r.baseTpl.replace("{{buttons}}",i).replace("{{arrows}}",r.btnTpl.arrowLeft+r.btnTpl.arrowRight))).attr("id","fancybox-container-"+a.id).addClass(r.baseClass).data("FancyBox",a).appendTo(r.parentEl),a.$refs={container:o},["bg","inner","infobar","toolbar","stage","caption","navigation"].forEach(function(t){a.$refs[t]=o.find(".fancybox-"+t)}),a.trigger("onInit"),a.activate(),a.jumpTo(a.currIndex)},translate:function(t,e){var n=t.opts.i18n[t.opts.lang]||t.opts.i18n.en;return e.replace(/\{\{(\w+)\}\}/g,function(t,e){return void 0===n[e]?t:n[e]})},addContent:function(t){var e,o=this,i=n.makeArray(t);n.each(i,function(t,e){var i,a,s,r,c,l={},d={};n.isPlainObject(e)?(l=e,d=e.opts||e):"object"===n.type(e)&&n(e).length?(i=n(e),d=i.data()||{},d=n.extend(!0,{},d,d.options),d.$orig=i,l.src=o.opts.src||d.src||i.attr("href"),l.type||l.src||(l.type="inline",l.src=e)):l={type:"html",src:e+""},l.opts=n.extend(!0,{},o.opts,d),n.isArray(d.buttons)&&(l.opts.buttons=d.buttons),n.fancybox.isMobile&&l.opts.mobile&&(l.opts=h(l.opts,l.opts.mobile)),a=l.type||l.opts.type,r=l.src||"",!a&&r&&((s=r.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(a="video",l.opts.video.format||(l.opts.video.format="video/"+("ogv"===s[1]?"ogg":s[1]))):r.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?a="image":r.match(/\.(pdf)((\?|#).*)?$/i)?(a="iframe",l=n.extend(!0,l,{contentType:"pdf",opts:{iframe:{preload:!1}}})):"#"===r.charAt(0)&&(a="inline")),a?l.type=a:o.trigger("objectNeedsType",l),l.contentType||(l.contentType=n.inArray(l.type,["html","inline","ajax"])>-1?"html":l.type),l.index=o.group.length,"auto"==l.opts.smallBtn&&(l.opts.smallBtn=n.inArray(l.type,["html","inline","ajax"])>-1),"auto"===l.opts.toolbar&&(l.opts.toolbar=!l.opts.smallBtn),l.$thumb=l.opts.$thumb||null,l.opts.$trigger&&l.index===o.opts.index&&(l.$thumb=l.opts.$trigger.find("img:first"),l.$thumb.length&&(l.opts.$orig=l.opts.$trigger)),l.$thumb&&l.$thumb.length||!l.opts.$orig||(l.$thumb=l.opts.$orig.find("img:first")),l.$thumb&&!l.$thumb.length&&(l.$thumb=null),l.thumb=l.opts.thumb||(l.$thumb?l.$thumb[0].src:null),"function"===n.type(l.opts.caption)&&(l.opts.caption=l.opts.caption.apply(e,[o,l])),"function"===n.type(o.opts.caption)&&(l.opts.caption=o.opts.caption.apply(e,[o,l])),l.opts.caption instanceof n||(l.opts.caption=void 0===l.opts.caption?"":l.opts.caption+""),"ajax"===l.type&&(c=r.split(/\s+/,2),c.length>1&&(l.src=c.shift(),l.opts.filter=c.shift())),l.opts.modal&&(l.opts=n.extend(!0,l.opts,{trapFocus:!0,infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1})),o.group.push(l)}),Object.keys(o.slides).length&&(o.updateControls(),(e=o.Thumbs)&&e.isActive&&(e.create(),e.focus()))},addEvents:function(){var e=this;e.removeEvents(),e.$refs.container.on("click.fb-close","[data-fancybox-close]",function(t){t.stopPropagation(),t.preventDefault(),e.close(t)}).on("touchstart.fb-prev click.fb-prev","[data-fancybox-prev]",function(t){t.stopPropagation(),t.preventDefault(),e.previous()}).on("touchstart.fb-next click.fb-next","[data-fancybox-next]",function(t){t.stopPropagation(),t.preventDefault(),e.next()}).on("click.fb","[data-fancybox-zoom]",function(t){e[e.isScaledDown()?"scaleToActual":"scaleToFit"]()}),s.on("orientationchange.fb resize.fb",function(t){t&&t.originalEvent&&"resize"===t.originalEvent.type?(e.requestId&&u(e.requestId),e.requestId=d(function(){e.update(t)})):(e.current&&"iframe"===e.current.type&&e.$refs.stage.hide(),setTimeout(function(){e.$refs.stage.show(),e.update(t)},n.fancybox.isMobile?600:250))}),r.on("keydown.fb",function(t){var o=n.fancybox?n.fancybox.getInstance():null,i=o.current,a=t.keyCode||t.which;if(9==a)return void(i.opts.trapFocus&&e.focus(t));if(!(!i.opts.keyboard||t.ctrlKey||t.altKey||t.shiftKey||n(t.target).is("input,textarea,video,audio,select")))return 8===a||27===a?(t.preventDefault(),void e.close(t)):37===a||38===a?(t.preventDefault(),void e.previous()):39===a||40===a?(t.preventDefault(),void e.next()):void e.trigger("afterKeydown",t,a)}),e.group[e.currIndex].opts.idleTime&&(e.idleSecondsCounter=0,r.on("mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle",function(t){e.idleSecondsCounter=0,e.isIdle&&e.showControls(),e.isIdle=!1}),e.idleInterval=t.setInterval(function(){++e.idleSecondsCounter>=e.group[e.currIndex].opts.idleTime&&!e.isDragging&&(e.isIdle=!0,e.idleSecondsCounter=0,e.hideControls())},1e3))},removeEvents:function(){var e=this;s.off("orientationchange.fb resize.fb"),r.off("keydown.fb .fb-idle"),this.$refs.container.off(".fb-close .fb-prev .fb-next"),e.idleInterval&&(t.clearInterval(e.idleInterval),e.idleInterval=null)},previous:function(t){return this.jumpTo(this.currPos-1,t)},next:function(t){return this.jumpTo(this.currPos+1,t)},jumpTo:function(t,e){var o,i,a,s,r,c,l,d,u,f=this,h=f.group.length;if(!(f.isDragging||f.isClosing||f.isAnimating&&f.firstRun)){if(t=parseInt(t,10),!(a=f.current?f.current.opts.loop:f.opts.loop)&&(t<0||t>=h))return!1;if(o=f.firstRun=!Object.keys(f.slides).length,r=f.current,f.prevIndex=f.currIndex,f.prevPos=f.currPos,s=f.createSlide(t),h>1&&((a||s.index<h-1)&&f.createSlide(t+1),(a||s.index>0)&&f.createSlide(t-1)),f.current=s,f.currIndex=s.index,f.currPos=s.pos,f.trigger("beforeShow",o),f.updateControls(),s.forcedDuration=void 0,n.isNumeric(e)?s.forcedDuration=e:e=s.opts[o?"animationDuration":"transitionDuration"],e=parseInt(e,10),i=f.isMoved(s),s.$slide.addClass("fancybox-slide--current"),o)return s.opts.animationEffect&&e&&f.$refs.container.css("transition-duration",e+"ms"),f.$refs.container.addClass("fancybox-is-open").trigger("focus"),f.loadSlide(s),void f.preload("image");c=n.fancybox.getTranslate(r.$slide),l=n.fancybox.getTranslate(f.$refs.stage),n.each(f.slides,function(t,e){n.fancybox.stop(e.$slide,!0)}),r.pos!==s.pos&&(r.isComplete=!1),r.$slide.removeClass("fancybox-slide--complete fancybox-slide--current"),i?(u=c.left-(r.pos*c.width+r.pos*r.opts.gutter),n.each(f.slides,function(t,o){o.$slide.removeClass("fancybox-animated").removeClass(function(t,e){return(e.match(/(^|\s)fancybox-fx-\S+/g)||[]).join(" ")});var i=o.pos*c.width+o.pos*o.opts.gutter;n.fancybox.setTranslate(o.$slide,{top:0,left:i-l.left+u}),o.pos!==s.pos&&o.$slide.addClass("fancybox-slide--"+(o.pos>s.pos?"next":"previous")),p(o.$slide),n.fancybox.animate(o.$slide,{top:0,left:(o.pos-s.pos)*c.width+(o.pos-s.pos)*o.opts.gutter},e,function(){o.$slide.css({transform:"",opacity:""}).removeClass("fancybox-slide--next fancybox-slide--previous"),o.pos===f.currPos&&f.complete()})})):e&&s.opts.transitionEffect&&(d="fancybox-animated fancybox-fx-"+s.opts.transitionEffect,r.$slide.addClass("fancybox-slide--"+(r.pos>s.pos?"next":"previous")),n.fancybox.animate(r.$slide,d,e,function(){r.$slide.removeClass(d).removeClass("fancybox-slide--next fancybox-slide--previous")},!1)),s.isLoaded?f.revealContent(s):f.loadSlide(s),f.preload("image")}},createSlide:function(t){var e,o,i=this;return o=t%i.group.length,o=o<0?i.group.length+o:o,!i.slides[t]&&i.group[o]&&(e=n('<div class="fancybox-slide"></div>').appendTo(i.$refs.stage),i.slides[t]=n.extend(!0,{},i.group[o],{pos:t,$slide:e,isLoaded:!1}),i.updateSlide(i.slides[t])),i.slides[t]},scaleToActual:function(t,e,o){var i,a,s,r,c,l=this,d=l.current,u=d.$content,f=n.fancybox.getTranslate(d.$slide).width,p=n.fancybox.getTranslate(d.$slide).height,h=d.width,g=d.height;l.isAnimating||l.isMoved()||!u||"image"!=d.type||!d.isLoaded||d.hasError||(l.isAnimating=!0,n.fancybox.stop(u),t=void 0===t?.5*f:t,e=void 0===e?.5*p:e,i=n.fancybox.getTranslate(u),i.top-=n.fancybox.getTranslate(d.$slide).top,i.left-=n.fancybox.getTranslate(d.$slide).left,r=h/i.width,c=g/i.height,a=.5*f-.5*h,s=.5*p-.5*g,h>f&&(a=i.left*r-(t*r-t),a>0&&(a=0),a<f-h&&(a=f-h)),g>p&&(s=i.top*c-(e*c-e),s>0&&(s=0),s<p-g&&(s=p-g)),l.updateCursor(h,g),n.fancybox.animate(u,{top:s,left:a,scaleX:r,scaleY:c},o||366,function(){l.isAnimating=!1}),l.SlideShow&&l.SlideShow.isActive&&l.SlideShow.stop())},scaleToFit:function(t){var e,o=this,i=o.current,a=i.$content;o.isAnimating||o.isMoved()||!a||"image"!=i.type||!i.isLoaded||i.hasError||(o.isAnimating=!0,n.fancybox.stop(a),e=o.getFitPos(i),o.updateCursor(e.width,e.height),n.fancybox.animate(a,{top:e.top,left:e.left,scaleX:e.width/a.width(),scaleY:e.height/a.height()},t||366,function(){o.isAnimating=!1}))},getFitPos:function(t){var e,o,i,a,s=this,r=t.$content,c=t.$slide,l=t.width||t.opts.width,d=t.height||t.opts.height,u={};return!!(t.isLoaded&&r&&r.length)&&(e=n.fancybox.getTranslate(s.$refs.stage).width,o=n.fancybox.getTranslate(s.$refs.stage).height,e-=parseFloat(c.css("paddingLeft"))+parseFloat(c.css("paddingRight"))+parseFloat(r.css("marginLeft"))+parseFloat(r.css("marginRight")),o-=parseFloat(c.css("paddingTop"))+parseFloat(c.css("paddingBottom"))+parseFloat(r.css("marginTop"))+parseFloat(r.css("marginBottom")),l&&d||(l=e,d=o),i=Math.min(1,e/l,o/d),l*=i,d*=i,l>e-.5&&(l=e),d>o-.5&&(d=o),"image"===t.type?(u.top=Math.floor(.5*(o-d))+parseFloat(c.css("paddingTop")),u.left=Math.floor(.5*(e-l))+parseFloat(c.css("paddingLeft"))):"video"===t.contentType&&(a=t.opts.width&&t.opts.height?l/d:t.opts.ratio||16/9,d>l/a?d=l/a:l>d*a&&(l=d*a)),u.width=l,u.height=d,u)},update:function(t){var e=this;n.each(e.slides,function(n,o){e.updateSlide(o,t)})},updateSlide:function(t,e){var o=this,i=t&&t.$content,a=t.width||t.opts.width,s=t.height||t.opts.height,r=t.$slide;o.adjustCaption(t),i&&(a||s||"video"===t.contentType)&&!t.hasError&&(n.fancybox.stop(i),n.fancybox.setTranslate(i,o.getFitPos(t)),t.pos===o.currPos&&(o.isAnimating=!1,o.updateCursor())),o.adjustLayout(t),r.length&&(r.trigger("refresh"),t.pos===o.currPos&&o.$refs.toolbar.add(o.$refs.navigation.find(".fancybox-button--arrow_right")).toggleClass("compensate-for-scrollbar",r.get(0).scrollHeight>r.get(0).clientHeight)),o.trigger("onUpdate",t,e)},centerSlide:function(t){var e=this,o=e.current,i=o.$slide;!e.isClosing&&o&&(i.siblings().css({transform:"",opacity:""}),i.parent().children().removeClass("fancybox-slide--previous fancybox-slide--next"),n.fancybox.animate(i,{top:0,left:0,opacity:1},void 0===t?0:t,function(){i.css({transform:"",opacity:""}),o.isComplete||e.complete()},!1))},isMoved:function(t){var e,o,i=t||this.current;return!!i&&(o=n.fancybox.getTranslate(this.$refs.stage),e=n.fancybox.getTranslate(i.$slide),!i.$slide.hasClass("fancybox-animated")&&(Math.abs(e.top-o.top)>.5||Math.abs(e.left-o.left)>.5))},updateCursor:function(t,e){var o,i,a=this,s=a.current,r=a.$refs.container;s&&!a.isClosing&&a.Guestures&&(r.removeClass("fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-zoomOut fancybox-can-swipe fancybox-can-pan"),o=a.canPan(t,e),i=!!o||a.isZoomable(),r.toggleClass("fancybox-is-zoomable",i),n("[data-fancybox-zoom]").prop("disabled",!i),o?r.addClass("fancybox-can-pan"):i&&("zoom"===s.opts.clickContent||n.isFunction(s.opts.clickContent)&&"zoom"==s.opts.clickContent(s))?r.addClass("fancybox-can-zoomIn"):s.opts.touch&&(s.opts.touch.vertical||a.group.length>1)&&"video"!==s.contentType&&r.addClass("fancybox-can-swipe"))},isZoomable:function(){var t,e=this,n=e.current;if(n&&!e.isClosing&&"image"===n.type&&!n.hasError){if(!n.isLoaded)return!0;if((t=e.getFitPos(n))&&(n.width>t.width||n.height>t.height))return!0}return!1},isScaledDown:function(t,e){var o=this,i=!1,a=o.current,s=a.$content;return void 0!==t&&void 0!==e?i=t<a.width&&e<a.height:s&&(i=n.fancybox.getTranslate(s),i=i.width<a.width&&i.height<a.height),i},canPan:function(t,e){var o=this,i=o.current,a=null,s=!1;return"image"===i.type&&(i.isComplete||t&&e)&&!i.hasError&&(s=o.getFitPos(i),void 0!==t&&void 0!==e?a={width:t,height:e}:i.isComplete&&(a=n.fancybox.getTranslate(i.$content)),a&&s&&(s=Math.abs(a.width-s.width)>1.5||Math.abs(a.height-s.height)>1.5)),s},loadSlide:function(t){var e,o,i,a=this;if(!t.isLoading&&!t.isLoaded){if(t.isLoading=!0,!1===a.trigger("beforeLoad",t))return t.isLoading=!1,!1;switch(e=t.type,o=t.$slide,o.off("refresh").trigger("onReset").addClass(t.opts.slideClass),e){case"image":a.setImage(t);break;case"iframe":a.setIframe(t);break;case"html":a.setContent(t,t.src||t.content);break;case"video":a.setContent(t,t.opts.video.tpl.replace(/\{\{src\}\}/gi,t.src).replace("{{format}}",t.opts.videoFormat||t.opts.video.format||"").replace("{{poster}}",t.thumb||""));break;case"inline":n(t.src).length?a.setContent(t,n(t.src)):a.setError(t);break;case"ajax":a.showLoading(t),i=n.ajax(n.extend({},t.opts.ajax.settings,{url:t.src,success:function(e,n){"success"===n&&a.setContent(t,e)},error:function(e,n){e&&"abort"!==n&&a.setError(t)}})),o.one("onReset",function(){i.abort()});break;default:a.setError(t)}return!0}},setImage:function(t){var o,i=this;setTimeout(function(){var e=t.$image;i.isClosing||!t.isLoading||e&&e.length&&e[0].complete||t.hasError||i.showLoading(t)},50),i.checkSrcset(t),t.$content=n('<div class="fancybox-content"></div>').addClass("fancybox-is-hidden").appendTo(t.$slide.addClass("fancybox-slide--image")),!1!==t.opts.preload&&t.opts.width&&t.opts.height&&t.thumb&&(t.width=t.opts.width,t.height=t.opts.height,o=e.createElement("img"),o.onerror=function(){n(this).remove(),t.$ghost=null},o.onload=function(){i.afterLoad(t)},t.$ghost=n(o).addClass("fancybox-image").appendTo(t.$content).attr("src",t.thumb)),i.setBigImage(t)},checkSrcset:function(e){var n,o,i,a,s=e.opts.srcset||e.opts.image.srcset;if(s){i=t.devicePixelRatio||1,a=t.innerWidth*i,o=s.split(",").map(function(t){var e={};return t.trim().split(/\s+/).forEach(function(t,n){var o=parseInt(t.substring(0,t.length-1),10);if(0===n)return e.url=t;o&&(e.value=o,e.postfix=t[t.length-1])}),e}),o.sort(function(t,e){return t.value-e.value});for(var r=0;r<o.length;r++){var c=o[r];if("w"===c.postfix&&c.value>=a||"x"===c.postfix&&c.value>=i){n=c;break}}!n&&o.length&&(n=o[o.length-1]),n&&(e.src=n.url,e.width&&e.height&&"w"==n.postfix&&(e.height=e.width/e.height*n.value,e.width=n.value),e.opts.srcset=s)}},setBigImage:function(t){var o=this,i=e.createElement("img"),a=n(i);t.$image=a.one("error",function(){o.setError(t)}).one("load",function(){var e;t.$ghost||(o.resolveImageSlideSize(t,this.naturalWidth,this.naturalHeight),o.afterLoad(t)),o.isClosing||(t.opts.srcset&&(e=t.opts.sizes,e&&"auto"!==e||(e=(t.width/t.height>1&&s.width()/s.height()>1?"100":Math.round(t.width/t.height*100))+"vw"),a.attr("sizes",e).attr("srcset",t.opts.srcset)),t.$ghost&&setTimeout(function(){t.$ghost&&!o.isClosing&&t.$ghost.hide()},Math.min(300,Math.max(1e3,t.height/1600))),o.hideLoading(t))}).addClass("fancybox-image").attr("src",t.src).appendTo(t.$content),(i.complete||"complete"==i.readyState)&&a.naturalWidth&&a.naturalHeight?a.trigger("load"):i.error&&a.trigger("error")},resolveImageSlideSize:function(t,e,n){var o=parseInt(t.opts.width,10),i=parseInt(t.opts.height,10);t.width=e,t.height=n,o>0&&(t.width=o,t.height=Math.floor(o*n/e)),i>0&&(t.width=Math.floor(i*e/n),t.height=i)},setIframe:function(t){var e,o=this,i=t.opts.iframe,a=t.$slide;t.$content=n('<div class="fancybox-content'+(i.preload?" fancybox-is-hidden":"")+'"></div>').css(i.css).appendTo(a),a.addClass("fancybox-slide--"+t.contentType),t.$iframe=e=n(i.tpl.replace(/\{rnd\}/g,(new Date).getTime())).attr(i.attr).appendTo(t.$content),i.preload?(o.showLoading(t),e.on("load.fb error.fb",function(e){this.isReady=1,t.$slide.trigger("refresh"),o.afterLoad(t)}),a.on("refresh.fb",function(){var n,o,s=t.$content,r=i.css.width,c=i.css.height;if(1===e[0].isReady){try{n=e.contents(),o=n.find("body")}catch(t){}o&&o.length&&o.children().length&&(a.css("overflow","visible"),s.css({width:"100%","max-width":"100%",height:"9999px"}),void 0===r&&(r=Math.ceil(Math.max(o[0].clientWidth,o.outerWidth(!0)))),s.css("width",r||"").css("max-width",""),void 0===c&&(c=Math.ceil(Math.max(o[0].clientHeight,o.outerHeight(!0)))),s.css("height",c||""),a.css("overflow","auto")),s.removeClass("fancybox-is-hidden")}})):o.afterLoad(t),e.attr("src",t.src),a.one("onReset",function(){try{n(this).find("iframe").hide().unbind().attr("src","//about:blank")}catch(t){}n(this).off("refresh.fb").empty(),t.isLoaded=!1,t.isRevealed=!1})},setContent:function(t,e){var o=this;o.isClosing||(o.hideLoading(t),t.$content&&n.fancybox.stop(t.$content),t.$slide.empty(),l(e)&&e.parent().length?((e.hasClass("fancybox-content")||e.parent().hasClass("fancybox-content"))&&e.parents(".fancybox-slide").trigger("onReset"),t.$placeholder=n("<div>").hide().insertAfter(e),e.css("display","inline-block")):t.hasError||("string"===n.type(e)&&(e=n("<div>").append(n.trim(e)).contents()),t.opts.filter&&(e=n("<div>").html(e).find(t.opts.filter))),t.$slide.one("onReset",function(){n(this).find("video,audio").trigger("pause"),t.$placeholder&&(t.$placeholder.after(e.removeClass("fancybox-content").hide()).remove(),t.$placeholder=null),t.$smallBtn&&(t.$smallBtn.remove(),t.$smallBtn=null),t.hasError||(n(this).empty(),t.isLoaded=!1,t.isRevealed=!1)}),n(e).appendTo(t.$slide),n(e).is("video,audio")&&(n(e).addClass("fancybox-video"),n(e).wrap("<div></div>"),t.contentType="video",t.opts.width=t.opts.width||n(e).attr("width"),t.opts.height=t.opts.height||n(e).attr("height")),t.$content=t.$slide.children().filter("div,form,main,video,audio,article,.fancybox-content").first(),t.$content.siblings().hide(),t.$content.length||(t.$content=t.$slide.wrapInner("<div></div>").children().first()),t.$content.addClass("fancybox-content"),t.$slide.addClass("fancybox-slide--"+t.contentType),o.afterLoad(t))},setError:function(t){t.hasError=!0,t.$slide.trigger("onReset").removeClass("fancybox-slide--"+t.contentType).addClass("fancybox-slide--error"),t.contentType="html",this.setContent(t,this.translate(t,t.opts.errorTpl)),t.pos===this.currPos&&(this.isAnimating=!1)},showLoading:function(t){var e=this;(t=t||e.current)&&!t.$spinner&&(t.$spinner=n(e.translate(e,e.opts.spinnerTpl)).appendTo(t.$slide).hide().fadeIn("fast"))},hideLoading:function(t){var e=this;(t=t||e.current)&&t.$spinner&&(t.$spinner.stop().remove(),delete t.$spinner)},afterLoad:function(t){var e=this;e.isClosing||(t.isLoading=!1,t.isLoaded=!0,e.trigger("afterLoad",t),e.hideLoading(t),!t.opts.smallBtn||t.$smallBtn&&t.$smallBtn.length||(t.$smallBtn=n(e.translate(t,t.opts.btnTpl.smallBtn)).appendTo(t.$content)),t.opts.protect&&t.$content&&!t.hasError&&(t.$content.on("contextmenu.fb",function(t){return 2==t.button&&t.preventDefault(),!0}),"image"===t.type&&n('<div class="fancybox-spaceball"></div>').appendTo(t.$content)),e.adjustCaption(t),e.adjustLayout(t),t.pos===e.currPos&&e.updateCursor(),e.revealContent(t))},adjustCaption:function(t){var e,n=this,o=t||n.current,i=o.opts.caption,a=o.opts.preventCaptionOverlap,s=n.$refs.caption,r=!1;s.toggleClass("fancybox-caption--separate",a),a&&i&&i.length&&(o.pos!==n.currPos?(e=s.clone().appendTo(s.parent()),e.children().eq(0).empty().html(i),r=e.outerHeight(!0),e.empty().remove()):n.$caption&&(r=n.$caption.outerHeight(!0)),o.$slide.css("padding-bottom",r||""))},adjustLayout:function(t){var e,n,o,i,a=this,s=t||a.current;s.isLoaded&&!0!==s.opts.disableLayoutFix&&(s.$content.css("margin-bottom",""),s.$content.outerHeight()>s.$slide.height()+.5&&(o=s.$slide[0].style["padding-bottom"],i=s.$slide.css("padding-bottom"),parseFloat(i)>0&&(e=s.$slide[0].scrollHeight,s.$slide.css("padding-bottom",0),Math.abs(e-s.$slide[0].scrollHeight)<1&&(n=i),s.$slide.css("padding-bottom",o))),s.$content.css("margin-bottom",n))},revealContent:function(t){var e,o,i,a,s=this,r=t.$slide,c=!1,l=!1,d=s.isMoved(t),u=t.isRevealed;return t.isRevealed=!0,e=t.opts[s.firstRun?"animationEffect":"transitionEffect"],i=t.opts[s.firstRun?"animationDuration":"transitionDuration"],i=parseInt(void 0===t.forcedDuration?i:t.forcedDuration,10),!d&&t.pos===s.currPos&&i||(e=!1),"zoom"===e&&(t.pos===s.currPos&&i&&"image"===t.type&&!t.hasError&&(l=s.getThumbPos(t))?c=s.getFitPos(t):e="fade"),"zoom"===e?(s.isAnimating=!0,c.scaleX=c.width/l.width,c.scaleY=c.height/l.height,a=t.opts.zoomOpacity,"auto"==a&&(a=Math.abs(t.width/t.height-l.width/l.height)>.1),a&&(l.opacity=.1,c.opacity=1),n.fancybox.setTranslate(t.$content.removeClass("fancybox-is-hidden"),l),p(t.$content),void n.fancybox.animate(t.$content,c,i,function(){s.isAnimating=!1,s.complete()})):(s.updateSlide(t),e?(n.fancybox.stop(r),o="fancybox-slide--"+(t.pos>=s.prevPos?"next":"previous")+" fancybox-animated fancybox-fx-"+e,r.addClass(o).removeClass("fancybox-slide--current"),t.$content.removeClass("fancybox-is-hidden"),p(r),"image"!==t.type&&t.$content.hide().show(0),void n.fancybox.animate(r,"fancybox-slide--current",i,function(){r.removeClass(o).css({transform:"",opacity:""}),t.pos===s.currPos&&s.complete()},!0)):(t.$content.removeClass("fancybox-is-hidden"),u||!d||"image"!==t.type||t.hasError||t.$content.hide().fadeIn("fast"),void(t.pos===s.currPos&&s.complete())))},getThumbPos:function(t){var e,o,i,a,s,r=!1,c=t.$thumb;return!(!c||!g(c[0]))&&(e=n.fancybox.getTranslate(c),o=parseFloat(c.css("border-top-width")||0),i=parseFloat(c.css("border-right-width")||0),a=parseFloat(c.css("border-bottom-width")||0),s=parseFloat(c.css("border-left-width")||0),r={top:e.top+o,left:e.left+s,width:e.width-i-s,height:e.height-o-a,scaleX:1,scaleY:1},e.width>0&&e.height>0&&r)},complete:function(){var t,e=this,o=e.current,i={};!e.isMoved()&&o.isLoaded&&(o.isComplete||(o.isComplete=!0,o.$slide.siblings().trigger("onReset"),e.preload("inline"),p(o.$slide),o.$slide.addClass("fancybox-slide--complete"),n.each(e.slides,function(t,o){o.pos>=e.currPos-1&&o.pos<=e.currPos+1?i[o.pos]=o:o&&(n.fancybox.stop(o.$slide),o.$slide.off().remove())}),e.slides=i),e.isAnimating=!1,e.updateCursor(),e.trigger("afterShow"),o.opts.video.autoStart&&o.$slide.find("video,audio").filter(":visible:first").trigger("play").one("ended",function(){Document.exitFullscreen?Document.exitFullscreen():this.webkitExitFullscreen&&this.webkitExitFullscreen(),e.next()}),o.opts.autoFocus&&"html"===o.contentType&&(t=o.$content.find("input[autofocus]:enabled:visible:first"),t.length?t.trigger("focus"):e.focus(null,!0)),o.$slide.scrollTop(0).scrollLeft(0))},preload:function(t){var e,n,o=this;o.group.length<2||(n=o.slides[o.currPos+1],e=o.slides[o.currPos-1],e&&e.type===t&&o.loadSlide(e),n&&n.type===t&&o.loadSlide(n))},focus:function(t,o){var i,a,s=this,r=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","video","audio","[contenteditable]",'[tabindex]:not([tabindex^="-"])'].join(",");s.isClosing||(i=!t&&s.current&&s.current.isComplete?s.current.$slide.find("*:visible"+(o?":not(.fancybox-close-small)":"")):s.$refs.container.find("*:visible"),i=i.filter(r).filter(function(){return"hidden"!==n(this).css("visibility")&&!n(this).hasClass("disabled")}),i.length?(a=i.index(e.activeElement),t&&t.shiftKey?(a<0||0==a)&&(t.preventDefault(),i.eq(i.length-1).trigger("focus")):(a<0||a==i.length-1)&&(t&&t.preventDefault(),i.eq(0).trigger("focus"))):s.$refs.container.trigger("focus"))},activate:function(){var t=this;n(".fancybox-container").each(function(){var e=n(this).data("FancyBox");e&&e.id!==t.id&&!e.isClosing&&(e.trigger("onDeactivate"),e.removeEvents(),e.isVisible=!1)}),t.isVisible=!0,(t.current||t.isIdle)&&(t.update(),t.updateControls()),t.trigger("onActivate"),t.addEvents()},close:function(t,e){var o,i,a,s,r,c,l,u=this,f=u.current,h=function(){u.cleanUp(t)};return!u.isClosing&&(u.isClosing=!0,!1===u.trigger("beforeClose",t)?(u.isClosing=!1,d(function(){u.update()}),!1):(u.removeEvents(),a=f.$content,o=f.opts.animationEffect,i=n.isNumeric(e)?e:o?f.opts.animationDuration:0,f.$slide.removeClass("fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated"),!0!==t?n.fancybox.stop(f.$slide):o=!1,f.$slide.siblings().trigger("onReset").remove(),i&&u.$refs.container.removeClass("fancybox-is-open").addClass("fancybox-is-closing").css("transition-duration",i+"ms"),u.hideLoading(f),u.hideControls(!0),u.updateCursor(),"zoom"!==o||a&&i&&"image"===f.type&&!u.isMoved()&&!f.hasError&&(l=u.getThumbPos(f))||(o="fade"),"zoom"===o?(n.fancybox.stop(a),s=n.fancybox.getTranslate(a),c={top:s.top,left:s.left,scaleX:s.width/l.width,scaleY:s.height/l.height,width:l.width,height:l.height},r=f.opts.zoomOpacity,
"auto"==r&&(r=Math.abs(f.width/f.height-l.width/l.height)>.1),r&&(l.opacity=0),n.fancybox.setTranslate(a,c),p(a),n.fancybox.animate(a,l,i,h),!0):(o&&i?n.fancybox.animate(f.$slide.addClass("fancybox-slide--previous").removeClass("fancybox-slide--current"),"fancybox-animated fancybox-fx-"+o,i,h):!0===t?setTimeout(h,i):h(),!0)))},cleanUp:function(e){var o,i,a,s=this,r=s.current.opts.$orig;s.current.$slide.trigger("onReset"),s.$refs.container.empty().remove(),s.trigger("afterClose",e),s.current.opts.backFocus&&(r&&r.length&&r.is(":visible")||(r=s.$trigger),r&&r.length&&(i=t.scrollX,a=t.scrollY,r.trigger("focus"),n("html, body").scrollTop(a).scrollLeft(i))),s.current=null,o=n.fancybox.getInstance(),o?o.activate():(n("body").removeClass("fancybox-active compensate-for-scrollbar"),n("#fancybox-style-noscroll").remove())},trigger:function(t,e){var o,i=Array.prototype.slice.call(arguments,1),a=this,s=e&&e.opts?e:a.current;if(s?i.unshift(s):s=a,i.unshift(a),n.isFunction(s.opts[t])&&(o=s.opts[t].apply(s,i)),!1===o)return o;"afterClose"!==t&&a.$refs?a.$refs.container.trigger(t+".fb",i):r.trigger(t+".fb",i)},updateControls:function(){var t=this,o=t.current,i=o.index,a=t.$refs.container,s=t.$refs.caption,r=o.opts.caption;o.$slide.trigger("refresh"),r&&r.length?(t.$caption=s,s.children().eq(0).html(r)):t.$caption=null,t.hasHiddenControls||t.isIdle||t.showControls(),a.find("[data-fancybox-count]").html(t.group.length),a.find("[data-fancybox-index]").html(i+1),a.find("[data-fancybox-prev]").prop("disabled",!o.opts.loop&&i<=0),a.find("[data-fancybox-next]").prop("disabled",!o.opts.loop&&i>=t.group.length-1),"image"===o.type?a.find("[data-fancybox-zoom]").show().end().find("[data-fancybox-download]").attr("href",o.opts.image.src||o.src).show():o.opts.toolbar&&a.find("[data-fancybox-download],[data-fancybox-zoom]").hide(),n(e.activeElement).is(":hidden,[disabled]")&&t.$refs.container.trigger("focus")},hideControls:function(t){var e=this,n=["infobar","toolbar","nav"];!t&&e.current.opts.preventCaptionOverlap||n.push("caption"),this.$refs.container.removeClass(n.map(function(t){return"fancybox-show-"+t}).join(" ")),this.hasHiddenControls=!0},showControls:function(){var t=this,e=t.current?t.current.opts:t.opts,n=t.$refs.container;t.hasHiddenControls=!1,t.idleSecondsCounter=0,n.toggleClass("fancybox-show-toolbar",!(!e.toolbar||!e.buttons)).toggleClass("fancybox-show-infobar",!!(e.infobar&&t.group.length>1)).toggleClass("fancybox-show-caption",!!t.$caption).toggleClass("fancybox-show-nav",!!(e.arrows&&t.group.length>1)).toggleClass("fancybox-is-modal",!!e.modal)},toggleControls:function(){this.hasHiddenControls?this.showControls():this.hideControls()}}),n.fancybox={version:"3.5.7",defaults:a,getInstance:function(t){var e=n('.fancybox-container:not(".fancybox-is-closing"):last').data("FancyBox"),o=Array.prototype.slice.call(arguments,1);return e instanceof b&&("string"===n.type(t)?e[t].apply(e,o):"function"===n.type(t)&&t.apply(e,o),e)},open:function(t,e,n){return new b(t,e,n)},close:function(t){var e=this.getInstance();e&&(e.close(),!0===t&&this.close(t))},destroy:function(){this.close(!0),r.add("body").off("click.fb-start","**")},isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),use3d:function(){var n=e.createElement("div");return t.getComputedStyle&&t.getComputedStyle(n)&&t.getComputedStyle(n).getPropertyValue("transform")&&!(e.documentMode&&e.documentMode<11)}(),getTranslate:function(t){var e;return!(!t||!t.length)&&(e=t[0].getBoundingClientRect(),{top:e.top||0,left:e.left||0,width:e.width,height:e.height,opacity:parseFloat(t.css("opacity"))})},setTranslate:function(t,e){var n="",o={};if(t&&e)return void 0===e.left&&void 0===e.top||(n=(void 0===e.left?t.position().left:e.left)+"px, "+(void 0===e.top?t.position().top:e.top)+"px",n=this.use3d?"translate3d("+n+", 0px)":"translate("+n+")"),void 0!==e.scaleX&&void 0!==e.scaleY?n+=" scale("+e.scaleX+", "+e.scaleY+")":void 0!==e.scaleX&&(n+=" scaleX("+e.scaleX+")"),n.length&&(o.transform=n),void 0!==e.opacity&&(o.opacity=e.opacity),void 0!==e.width&&(o.width=e.width),void 0!==e.height&&(o.height=e.height),t.css(o)},animate:function(t,e,o,i,a){var s,r=this;n.isFunction(o)&&(i=o,o=null),r.stop(t),s=r.getTranslate(t),t.on(f,function(c){(!c||!c.originalEvent||t.is(c.originalEvent.target)&&"z-index"!=c.originalEvent.propertyName)&&(r.stop(t),n.isNumeric(o)&&t.css("transition-duration",""),n.isPlainObject(e)?void 0!==e.scaleX&&void 0!==e.scaleY&&r.setTranslate(t,{top:e.top,left:e.left,width:s.width*e.scaleX,height:s.height*e.scaleY,scaleX:1,scaleY:1}):!0!==a&&t.removeClass(e),n.isFunction(i)&&i(c))}),n.isNumeric(o)&&t.css("transition-duration",o+"ms"),n.isPlainObject(e)?(void 0!==e.scaleX&&void 0!==e.scaleY&&(delete e.width,delete e.height,t.parent().hasClass("fancybox-slide--image")&&t.parent().addClass("fancybox-is-scaling")),n.fancybox.setTranslate(t,e)):t.addClass(e),t.data("timer",setTimeout(function(){t.trigger(f)},o+33))},stop:function(t,e){t&&t.length&&(clearTimeout(t.data("timer")),e&&t.trigger(f),t.off(f).css("transition-duration",""),t.parent().removeClass("fancybox-is-scaling"))}},n.fn.fancybox=function(t){var e;return t=t||{},e=t.selector||!1,e?n("body").off("click.fb-start",e).on("click.fb-start",e,{options:t},i):this.off("click.fb-start").on("click.fb-start",{items:this,options:t},i),this},r.on("click.fb-start","[data-fancybox]",i),r.on("click.fb-start","[data-fancybox-trigger]",function(t){n('[data-fancybox="'+n(this).attr("data-fancybox-trigger")+'"]').eq(n(this).attr("data-fancybox-index")||0).trigger("click.fb-start",{$trigger:n(this)})}),function(){var t=null;r.on("mousedown mouseup focus blur",".fancybox-button",function(e){switch(e.type){case"mousedown":t=n(this);break;case"mouseup":t=null;break;case"focusin":n(".fancybox-button").removeClass("fancybox-focus"),n(this).is(t)||n(this).is("[disabled]")||n(this).addClass("fancybox-focus");break;case"focusout":n(".fancybox-button").removeClass("fancybox-focus")}})}()}}(window,document,jQuery),function(t){"use strict";var e={youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"https://www.youtube-nocookie.com/embed/$4",thumb:"https://img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},gmap_place:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/?ll="+(t[9]?t[9]+"&z="+Math.floor(t[10])+(t[12]?t[12].replace(/^\//,"&"):""):t[12]+"").replace(/\?/,"&")+"&output="+(t[12]&&t[12].indexOf("layer=c")>0?"svembed":"embed")}},gmap_search:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(maps\/search\/)(.*)/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/maps?q="+t[5].replace("query=","q=").replace("api=1","")+"&output=embed"}}},n=function(e,n,o){if(e)return o=o||"","object"===t.type(o)&&(o=t.param(o,!0)),t.each(n,function(t,n){e=e.replace("$"+t,n||"")}),o.length&&(e+=(e.indexOf("?")>0?"&":"?")+o),e};t(document).on("objectNeedsType.fb",function(o,i,a){var s,r,c,l,d,u,f,p=a.src||"",h=!1;s=t.extend(!0,{},e,a.opts.media),t.each(s,function(e,o){if(c=p.match(o.matcher)){if(h=o.type,f=e,u={},o.paramPlace&&c[o.paramPlace]){d=c[o.paramPlace],"?"==d[0]&&(d=d.substring(1)),d=d.split("&");for(var i=0;i<d.length;++i){var s=d[i].split("=",2);2==s.length&&(u[s[0]]=decodeURIComponent(s[1].replace(/\+/g," ")))}}return l=t.extend(!0,{},o.params,a.opts[e],u),p="function"===t.type(o.url)?o.url.call(this,c,l,a):n(o.url,c,l),r="function"===t.type(o.thumb)?o.thumb.call(this,c,l,a):n(o.thumb,c),"youtube"===e?p=p.replace(/&t=((\d+)m)?(\d+)s/,function(t,e,n,o){return"&start="+((n?60*parseInt(n,10):0)+parseInt(o,10))}):"vimeo"===e&&(p=p.replace("&%23","#")),!1}}),h?(a.opts.thumb||a.opts.$thumb&&a.opts.$thumb.length||(a.opts.thumb=r),"iframe"===h&&(a.opts=t.extend(!0,a.opts,{iframe:{preload:!1,attr:{scrolling:"no"}}})),t.extend(a,{type:h,src:p,origSrc:a.src,contentSource:f,contentType:"image"===h?"image":"gmap_place"==f||"gmap_search"==f?"map":"video"})):p&&(a.type=a.opts.defaultType)});var o={youtube:{src:"https://www.youtube.com/iframe_api",class:"YT",loading:!1,loaded:!1},vimeo:{src:"https://player.vimeo.com/api/player.js",class:"Vimeo",loading:!1,loaded:!1},load:function(t){var e,n=this;if(this[t].loaded)return void setTimeout(function(){n.done(t)});this[t].loading||(this[t].loading=!0,e=document.createElement("script"),e.type="text/javascript",e.src=this[t].src,"youtube"===t?window.onYouTubeIframeAPIReady=function(){n[t].loaded=!0,n.done(t)}:e.onload=function(){n[t].loaded=!0,n.done(t)},document.body.appendChild(e))},done:function(e){var n,o,i;"youtube"===e&&delete window.onYouTubeIframeAPIReady,(n=t.fancybox.getInstance())&&(o=n.current.$content.find("iframe"),"youtube"===e&&void 0!==YT&&YT?i=new YT.Player(o.attr("id"),{events:{onStateChange:function(t){0==t.data&&n.next()}}}):"vimeo"===e&&void 0!==Vimeo&&Vimeo&&(i=new Vimeo.Player(o),i.on("ended",function(){n.next()})))}};t(document).on({"afterShow.fb":function(t,e,n){e.group.length>1&&("youtube"===n.contentSource||"vimeo"===n.contentSource)&&o.load(n.contentSource)}})}(jQuery),function(t,e,n){"use strict";var o=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||function(e){return t.setTimeout(e,1e3/60)}}(),i=function(){return t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||function(e){t.clearTimeout(e)}}(),a=function(e){var n=[];e=e.originalEvent||e||t.e,e=e.touches&&e.touches.length?e.touches:e.changedTouches&&e.changedTouches.length?e.changedTouches:[e];for(var o in e)e[o].pageX?n.push({x:e[o].pageX,y:e[o].pageY}):e[o].clientX&&n.push({x:e[o].clientX,y:e[o].clientY});return n},s=function(t,e,n){return e&&t?"x"===n?t.x-e.x:"y"===n?t.y-e.y:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)):0},r=function(t){if(t.is('a,area,button,[role="button"],input,label,select,summary,textarea,video,audio,iframe')||n.isFunction(t.get(0).onclick)||t.data("selectable"))return!0;for(var e=0,o=t[0].attributes,i=o.length;e<i;e++)if("data-fancybox-"===o[e].nodeName.substr(0,14))return!0;return!1},c=function(e){var n=t.getComputedStyle(e)["overflow-y"],o=t.getComputedStyle(e)["overflow-x"],i=("scroll"===n||"auto"===n)&&e.scrollHeight>e.clientHeight,a=("scroll"===o||"auto"===o)&&e.scrollWidth>e.clientWidth;return i||a},l=function(t){for(var e=!1;;){if(e=c(t.get(0)))break;if(t=t.parent(),!t.length||t.hasClass("fancybox-stage")||t.is("body"))break}return e},d=function(t){var e=this;e.instance=t,e.$bg=t.$refs.bg,e.$stage=t.$refs.stage,e.$container=t.$refs.container,e.destroy(),e.$container.on("touchstart.fb.touch mousedown.fb.touch",n.proxy(e,"ontouchstart"))};d.prototype.destroy=function(){var t=this;t.$container.off(".fb.touch"),n(e).off(".fb.touch"),t.requestId&&(i(t.requestId),t.requestId=null),t.tapped&&(clearTimeout(t.tapped),t.tapped=null)},d.prototype.ontouchstart=function(o){var i=this,c=n(o.target),d=i.instance,u=d.current,f=u.$slide,p=u.$content,h="touchstart"==o.type;if(h&&i.$container.off("mousedown.fb.touch"),(!o.originalEvent||2!=o.originalEvent.button)&&f.length&&c.length&&!r(c)&&!r(c.parent())&&(c.is("img")||!(o.originalEvent.clientX>c[0].clientWidth+c.offset().left))){if(!u||d.isAnimating||u.$slide.hasClass("fancybox-animated"))return o.stopPropagation(),void o.preventDefault();i.realPoints=i.startPoints=a(o),i.startPoints.length&&(u.touch&&o.stopPropagation(),i.startEvent=o,i.canTap=!0,i.$target=c,i.$content=p,i.opts=u.opts.touch,i.isPanning=!1,i.isSwiping=!1,i.isZooming=!1,i.isScrolling=!1,i.canPan=d.canPan(),i.startTime=(new Date).getTime(),i.distanceX=i.distanceY=i.distance=0,i.canvasWidth=Math.round(f[0].clientWidth),i.canvasHeight=Math.round(f[0].clientHeight),i.contentLastPos=null,i.contentStartPos=n.fancybox.getTranslate(i.$content)||{top:0,left:0},i.sliderStartPos=n.fancybox.getTranslate(f),i.stagePos=n.fancybox.getTranslate(d.$refs.stage),i.sliderStartPos.top-=i.stagePos.top,i.sliderStartPos.left-=i.stagePos.left,i.contentStartPos.top-=i.stagePos.top,i.contentStartPos.left-=i.stagePos.left,n(e).off(".fb.touch").on(h?"touchend.fb.touch touchcancel.fb.touch":"mouseup.fb.touch mouseleave.fb.touch",n.proxy(i,"ontouchend")).on(h?"touchmove.fb.touch":"mousemove.fb.touch",n.proxy(i,"ontouchmove")),n.fancybox.isMobile&&e.addEventListener("scroll",i.onscroll,!0),((i.opts||i.canPan)&&(c.is(i.$stage)||i.$stage.find(c).length)||(c.is(".fancybox-image")&&o.preventDefault(),n.fancybox.isMobile&&c.parents(".fancybox-caption").length))&&(i.isScrollable=l(c)||l(c.parent()),n.fancybox.isMobile&&i.isScrollable||o.preventDefault(),(1===i.startPoints.length||u.hasError)&&(i.canPan?(n.fancybox.stop(i.$content),i.isPanning=!0):i.isSwiping=!0,i.$container.addClass("fancybox-is-grabbing")),2===i.startPoints.length&&"image"===u.type&&(u.isLoaded||u.$ghost)&&(i.canTap=!1,i.isSwiping=!1,i.isPanning=!1,i.isZooming=!0,n.fancybox.stop(i.$content),i.centerPointStartX=.5*(i.startPoints[0].x+i.startPoints[1].x)-n(t).scrollLeft(),i.centerPointStartY=.5*(i.startPoints[0].y+i.startPoints[1].y)-n(t).scrollTop(),i.percentageOfImageAtPinchPointX=(i.centerPointStartX-i.contentStartPos.left)/i.contentStartPos.width,i.percentageOfImageAtPinchPointY=(i.centerPointStartY-i.contentStartPos.top)/i.contentStartPos.height,i.startDistanceBetweenFingers=s(i.startPoints[0],i.startPoints[1]))))}},d.prototype.onscroll=function(t){var n=this;n.isScrolling=!0,e.removeEventListener("scroll",n.onscroll,!0)},d.prototype.ontouchmove=function(t){var e=this;return void 0!==t.originalEvent.buttons&&0===t.originalEvent.buttons?void e.ontouchend(t):e.isScrolling?void(e.canTap=!1):(e.newPoints=a(t),void((e.opts||e.canPan)&&e.newPoints.length&&e.newPoints.length&&(e.isSwiping&&!0===e.isSwiping||t.preventDefault(),e.distanceX=s(e.newPoints[0],e.startPoints[0],"x"),e.distanceY=s(e.newPoints[0],e.startPoints[0],"y"),e.distance=s(e.newPoints[0],e.startPoints[0]),e.distance>0&&(e.isSwiping?e.onSwipe(t):e.isPanning?e.onPan():e.isZooming&&e.onZoom()))))},d.prototype.onSwipe=function(e){var a,s=this,r=s.instance,c=s.isSwiping,l=s.sliderStartPos.left||0;if(!0!==c)"x"==c&&(s.distanceX>0&&(s.instance.group.length<2||0===s.instance.current.index&&!s.instance.current.opts.loop)?l+=Math.pow(s.distanceX,.8):s.distanceX<0&&(s.instance.group.length<2||s.instance.current.index===s.instance.group.length-1&&!s.instance.current.opts.loop)?l-=Math.pow(-s.distanceX,.8):l+=s.distanceX),s.sliderLastPos={top:"x"==c?0:s.sliderStartPos.top+s.distanceY,left:l},s.requestId&&(i(s.requestId),s.requestId=null),s.requestId=o(function(){s.sliderLastPos&&(n.each(s.instance.slides,function(t,e){var o=e.pos-s.instance.currPos;n.fancybox.setTranslate(e.$slide,{top:s.sliderLastPos.top,left:s.sliderLastPos.left+o*s.canvasWidth+o*e.opts.gutter})}),s.$container.addClass("fancybox-is-sliding"))});else if(Math.abs(s.distance)>10){if(s.canTap=!1,r.group.length<2&&s.opts.vertical?s.isSwiping="y":r.isDragging||!1===s.opts.vertical||"auto"===s.opts.vertical&&n(t).width()>800?s.isSwiping="x":(a=Math.abs(180*Math.atan2(s.distanceY,s.distanceX)/Math.PI),s.isSwiping=a>45&&a<135?"y":"x"),"y"===s.isSwiping&&n.fancybox.isMobile&&s.isScrollable)return void(s.isScrolling=!0);r.isDragging=s.isSwiping,s.startPoints=s.newPoints,n.each(r.slides,function(t,e){var o,i;n.fancybox.stop(e.$slide),o=n.fancybox.getTranslate(e.$slide),i=n.fancybox.getTranslate(r.$refs.stage),e.$slide.css({transform:"",opacity:"","transition-duration":""}).removeClass("fancybox-animated").removeClass(function(t,e){return(e.match(/(^|\s)fancybox-fx-\S+/g)||[]).join(" ")}),e.pos===r.current.pos&&(s.sliderStartPos.top=o.top-i.top,s.sliderStartPos.left=o.left-i.left),n.fancybox.setTranslate(e.$slide,{top:o.top-i.top,left:o.left-i.left})}),r.SlideShow&&r.SlideShow.isActive&&r.SlideShow.stop()}},d.prototype.onPan=function(){var t=this;if(s(t.newPoints[0],t.realPoints[0])<(n.fancybox.isMobile?10:5))return void(t.startPoints=t.newPoints);t.canTap=!1,t.contentLastPos=t.limitMovement(),t.requestId&&i(t.requestId),t.requestId=o(function(){n.fancybox.setTranslate(t.$content,t.contentLastPos)})},d.prototype.limitMovement=function(){var t,e,n,o,i,a,s=this,r=s.canvasWidth,c=s.canvasHeight,l=s.distanceX,d=s.distanceY,u=s.contentStartPos,f=u.left,p=u.top,h=u.width,g=u.height;return i=h>r?f+l:f,a=p+d,t=Math.max(0,.5*r-.5*h),e=Math.max(0,.5*c-.5*g),n=Math.min(r-h,.5*r-.5*h),o=Math.min(c-g,.5*c-.5*g),l>0&&i>t&&(i=t-1+Math.pow(-t+f+l,.8)||0),l<0&&i<n&&(i=n+1-Math.pow(n-f-l,.8)||0),d>0&&a>e&&(a=e-1+Math.pow(-e+p+d,.8)||0),d<0&&a<o&&(a=o+1-Math.pow(o-p-d,.8)||0),{top:a,left:i}},d.prototype.limitPosition=function(t,e,n,o){var i=this,a=i.canvasWidth,s=i.canvasHeight;return n>a?(t=t>0?0:t,t=t<a-n?a-n:t):t=Math.max(0,a/2-n/2),o>s?(e=e>0?0:e,e=e<s-o?s-o:e):e=Math.max(0,s/2-o/2),{top:e,left:t}},d.prototype.onZoom=function(){var e=this,a=e.contentStartPos,r=a.width,c=a.height,l=a.left,d=a.top,u=s(e.newPoints[0],e.newPoints[1]),f=u/e.startDistanceBetweenFingers,p=Math.floor(r*f),h=Math.floor(c*f),g=(r-p)*e.percentageOfImageAtPinchPointX,b=(c-h)*e.percentageOfImageAtPinchPointY,m=(e.newPoints[0].x+e.newPoints[1].x)/2-n(t).scrollLeft(),v=(e.newPoints[0].y+e.newPoints[1].y)/2-n(t).scrollTop(),y=m-e.centerPointStartX,x=v-e.centerPointStartY,w=l+(g+y),$=d+(b+x),S={top:$,left:w,scaleX:f,scaleY:f};e.canTap=!1,e.newWidth=p,e.newHeight=h,e.contentLastPos=S,e.requestId&&i(e.requestId),e.requestId=o(function(){n.fancybox.setTranslate(e.$content,e.contentLastPos)})},d.prototype.ontouchend=function(t){var o=this,s=o.isSwiping,r=o.isPanning,c=o.isZooming,l=o.isScrolling;if(o.endPoints=a(t),o.dMs=Math.max((new Date).getTime()-o.startTime,1),o.$container.removeClass("fancybox-is-grabbing"),n(e).off(".fb.touch"),e.removeEventListener("scroll",o.onscroll,!0),o.requestId&&(i(o.requestId),o.requestId=null),o.isSwiping=!1,o.isPanning=!1,o.isZooming=!1,o.isScrolling=!1,o.instance.isDragging=!1,o.canTap)return o.onTap(t);o.speed=100,o.velocityX=o.distanceX/o.dMs*.5,o.velocityY=o.distanceY/o.dMs*.5,r?o.endPanning():c?o.endZooming():o.endSwiping(s,l)},d.prototype.endSwiping=function(t,e){var o=this,i=!1,a=o.instance.group.length,s=Math.abs(o.distanceX),r="x"==t&&a>1&&(o.dMs>130&&s>10||s>50);o.sliderLastPos=null,"y"==t&&!e&&Math.abs(o.distanceY)>50?(n.fancybox.animate(o.instance.current.$slide,{top:o.sliderStartPos.top+o.distanceY+150*o.velocityY,opacity:0},200),i=o.instance.close(!0,250)):r&&o.distanceX>0?i=o.instance.previous(300):r&&o.distanceX<0&&(i=o.instance.next(300)),!1!==i||"x"!=t&&"y"!=t||o.instance.centerSlide(200),o.$container.removeClass("fancybox-is-sliding")},d.prototype.endPanning=function(){var t,e,o,i=this;i.contentLastPos&&(!1===i.opts.momentum||i.dMs>350?(t=i.contentLastPos.left,e=i.contentLastPos.top):(t=i.contentLastPos.left+500*i.velocityX,e=i.contentLastPos.top+500*i.velocityY),o=i.limitPosition(t,e,i.contentStartPos.width,i.contentStartPos.height),o.width=i.contentStartPos.width,o.height=i.contentStartPos.height,n.fancybox.animate(i.$content,o,366))},d.prototype.endZooming=function(){var t,e,o,i,a=this,s=a.instance.current,r=a.newWidth,c=a.newHeight;a.contentLastPos&&(t=a.contentLastPos.left,e=a.contentLastPos.top,i={top:e,left:t,width:r,height:c,scaleX:1,scaleY:1},n.fancybox.setTranslate(a.$content,i),r<a.canvasWidth&&c<a.canvasHeight?a.instance.scaleToFit(150):r>s.width||c>s.height?a.instance.scaleToActual(a.centerPointStartX,a.centerPointStartY,150):(o=a.limitPosition(t,e,r,c),n.fancybox.animate(a.$content,o,150)))},d.prototype.onTap=function(e){var o,i=this,s=n(e.target),r=i.instance,c=r.current,l=e&&a(e)||i.startPoints,d=l[0]?l[0].x-n(t).scrollLeft()-i.stagePos.left:0,u=l[0]?l[0].y-n(t).scrollTop()-i.stagePos.top:0,f=function(t){var o=c.opts[t];if(n.isFunction(o)&&(o=o.apply(r,[c,e])),o)switch(o){case"close":r.close(i.startEvent);break;case"toggleControls":r.toggleControls();break;case"next":r.next();break;case"nextOrClose":r.group.length>1?r.next():r.close(i.startEvent);break;case"zoom":"image"==c.type&&(c.isLoaded||c.$ghost)&&(r.canPan()?r.scaleToFit():r.isScaledDown()?r.scaleToActual(d,u):r.group.length<2&&r.close(i.startEvent))}};if((!e.originalEvent||2!=e.originalEvent.button)&&(s.is("img")||!(d>s[0].clientWidth+s.offset().left))){if(s.is(".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container"))o="Outside";else if(s.is(".fancybox-slide"))o="Slide";else{if(!r.current.$content||!r.current.$content.find(s).addBack().filter(s).length)return;o="Content"}if(i.tapped){if(clearTimeout(i.tapped),i.tapped=null,Math.abs(d-i.tapX)>50||Math.abs(u-i.tapY)>50)return this;f("dblclick"+o)}else i.tapX=d,i.tapY=u,c.opts["dblclick"+o]&&c.opts["dblclick"+o]!==c.opts["click"+o]?i.tapped=setTimeout(function(){i.tapped=null,r.isAnimating||f("click"+o)},500):f("click"+o);return this}},n(e).on("onActivate.fb",function(t,e){e&&!e.Guestures&&(e.Guestures=new d(e))}).on("beforeClose.fb",function(t,e){e&&e.Guestures&&e.Guestures.destroy()})}(window,document,jQuery),function(t,e){"use strict";e.extend(!0,e.fancybox.defaults,{btnTpl:{slideShow:'<button data-fancybox-play class="fancybox-button fancybox-button--play" title="{{PLAY_START}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.5 5.4v13.2l11-6.6z"/></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.33 5.75h2.2v12.5h-2.2V5.75zm5.15 0h2.2v12.5h-2.2V5.75z"/></svg></button>'},slideShow:{autoStart:!1,speed:3e3,progress:!0}});var n=function(t){this.instance=t,this.init()};e.extend(n.prototype,{timer:null,isActive:!1,$button:null,init:function(){var t=this,n=t.instance,o=n.group[n.currIndex].opts.slideShow;t.$button=n.$refs.toolbar.find("[data-fancybox-play]").on("click",function(){t.toggle()}),n.group.length<2||!o?t.$button.hide():o.progress&&(t.$progress=e('<div class="fancybox-progress"></div>').appendTo(n.$refs.inner))},set:function(t){var n=this,o=n.instance,i=o.current;i&&(!0===t||i.opts.loop||o.currIndex<o.group.length-1)?n.isActive&&"video"!==i.contentType&&(n.$progress&&e.fancybox.animate(n.$progress.show(),{scaleX:1},i.opts.slideShow.speed),n.timer=setTimeout(function(){o.current.opts.loop||o.current.index!=o.group.length-1?o.next():o.jumpTo(0)},i.opts.slideShow.speed)):(n.stop(),o.idleSecondsCounter=0,o.showControls())},clear:function(){var t=this;clearTimeout(t.timer),t.timer=null,t.$progress&&t.$progress.removeAttr("style").hide()},start:function(){var t=this,e=t.instance.current;e&&(t.$button.attr("title",(e.opts.i18n[e.opts.lang]||e.opts.i18n.en).PLAY_STOP).removeClass("fancybox-button--play").addClass("fancybox-button--pause"),t.isActive=!0,e.isComplete&&t.set(!0),t.instance.trigger("onSlideShowChange",!0))},stop:function(){var t=this,e=t.instance.current;t.clear(),t.$button.attr("title",(e.opts.i18n[e.opts.lang]||e.opts.i18n.en).PLAY_START).removeClass("fancybox-button--pause").addClass("fancybox-button--play"),t.isActive=!1,t.instance.trigger("onSlideShowChange",!1),t.$progress&&t.$progress.removeAttr("style").hide()},toggle:function(){var t=this;t.isActive?t.stop():t.start()}}),e(t).on({"onInit.fb":function(t,e){e&&!e.SlideShow&&(e.SlideShow=new n(e))},"beforeShow.fb":function(t,e,n,o){var i=e&&e.SlideShow;o?i&&n.opts.slideShow.autoStart&&i.start():i&&i.isActive&&i.clear()},"afterShow.fb":function(t,e,n){var o=e&&e.SlideShow;o&&o.isActive&&o.set()},"afterKeydown.fb":function(n,o,i,a,s){var r=o&&o.SlideShow;!r||!i.opts.slideShow||80!==s&&32!==s||e(t.activeElement).is("button,a,input")||(a.preventDefault(),r.toggle())},"beforeClose.fb onDeactivate.fb":function(t,e){var n=e&&e.SlideShow;n&&n.stop()}}),e(t).on("visibilitychange",function(){var n=e.fancybox.getInstance(),o=n&&n.SlideShow;o&&o.isActive&&(t.hidden?o.clear():o.set())})}(document,jQuery),function(t,e){"use strict";var n=function(){for(var e=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n={},o=0;o<e.length;o++){var i=e[o];if(i&&i[1]in t){for(var a=0;a<i.length;a++)n[e[0][a]]=i[a];return n}}return!1}();if(n){var o={request:function(e){e=e||t.documentElement,e[n.requestFullscreen](e.ALLOW_KEYBOARD_INPUT)},exit:function(){t[n.exitFullscreen]()},toggle:function(e){e=e||t.documentElement,this.isFullscreen()?this.exit():this.request(e)},isFullscreen:function(){return Boolean(t[n.fullscreenElement])},enabled:function(){return Boolean(t[n.fullscreenEnabled])}};e.extend(!0,e.fancybox.defaults,{btnTpl:{fullScreen:'<button data-fancybox-fullscreen class="fancybox-button fancybox-button--fsenter" title="{{FULL_SCREEN}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z"/></svg></button>'},fullScreen:{autoStart:!1}}),e(t).on(n.fullscreenchange,function(){var t=o.isFullscreen(),n=e.fancybox.getInstance();n&&(n.current&&"image"===n.current.type&&n.isAnimating&&(n.isAnimating=!1,n.update(!0,!0,0),n.isComplete||n.complete()),n.trigger("onFullscreenChange",t),n.$refs.container.toggleClass("fancybox-is-fullscreen",t),n.$refs.toolbar.find("[data-fancybox-fullscreen]").toggleClass("fancybox-button--fsenter",!t).toggleClass("fancybox-button--fsexit",t))})}e(t).on({"onInit.fb":function(t,e){var i;if(!n)return void e.$refs.toolbar.find("[data-fancybox-fullscreen]").remove();e&&e.group[e.currIndex].opts.fullScreen?(i=e.$refs.container,i.on("click.fb-fullscreen","[data-fancybox-fullscreen]",function(t){t.stopPropagation(),t.preventDefault(),o.toggle()}),e.opts.fullScreen&&!0===e.opts.fullScreen.autoStart&&o.request(),e.FullScreen=o):e&&e.$refs.toolbar.find("[data-fancybox-fullscreen]").hide()},"afterKeydown.fb":function(t,e,n,o,i){e&&e.FullScreen&&70===i&&(o.preventDefault(),e.FullScreen.toggle())},"beforeClose.fb":function(t,e){e&&e.FullScreen&&e.$refs.container.hasClass("fancybox-is-fullscreen")&&o.exit()}})}(document,jQuery),function(t,e){"use strict";var n="fancybox-thumbs";e.fancybox.defaults=e.extend(!0,{btnTpl:{thumbs:'<button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title="{{THUMBS}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.59 14.59h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76H5.65V5.65z"/></svg></button>'},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"}},e.fancybox.defaults);var o=function(t){this.init(t)};e.extend(o.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,isActive:!1,init:function(t){var e=this,n=t.group,o=0;e.instance=t,e.opts=n[t.currIndex].opts.thumbs,t.Thumbs=e,e.$button=t.$refs.toolbar.find("[data-fancybox-thumbs]");for(var i=0,a=n.length;i<a&&(n[i].thumb&&o++,!(o>1));i++);o>1&&e.opts?(e.$button.removeAttr("style").on("click",function(){e.toggle()}),e.isActive=!0):e.$button.hide()},create:function(){var t,o=this,i=o.instance,a=o.opts.parentEl,s=[];o.$grid||(o.$grid=e('<div class="'+n+" "+n+"-"+o.opts.axis+'"></div>').appendTo(i.$refs.container.find(a).addBack().filter(a)),o.$grid.on("click","a",function(){i.jumpTo(e(this).attr("data-index"))})),o.$list||(o.$list=e('<div class="'+n+'__list">').appendTo(o.$grid)),e.each(i.group,function(e,n){t=n.thumb,t||"image"!==n.type||(t=n.src),s.push('<a href="javascript:;" tabindex="0" data-index="'+e+'"'+(t&&t.length?' style="background-image:url('+t+')"':'class="fancybox-thumbs-missing"')+"></a>")}),o.$list[0].innerHTML=s.join(""),"x"===o.opts.axis&&o.$list.width(parseInt(o.$grid.css("padding-right"),10)+i.group.length*o.$list.children().eq(0).outerWidth(!0))},focus:function(t){var e,n,o=this,i=o.$list,a=o.$grid;o.instance.current&&(e=i.children().removeClass("fancybox-thumbs-active").filter('[data-index="'+o.instance.current.index+'"]').addClass("fancybox-thumbs-active"),n=e.position(),"y"===o.opts.axis&&(n.top<0||n.top>i.height()-e.outerHeight())?i.stop().animate({scrollTop:i.scrollTop()+n.top},t):"x"===o.opts.axis&&(n.left<a.scrollLeft()||n.left>a.scrollLeft()+(a.width()-e.outerWidth()))&&i.parent().stop().animate({scrollLeft:n.left},t))},update:function(){var t=this;t.instance.$refs.container.toggleClass("fancybox-show-thumbs",this.isVisible),t.isVisible?(t.$grid||t.create(),t.instance.trigger("onThumbsShow"),t.focus(0)):t.$grid&&t.instance.trigger("onThumbsHide"),t.instance.update()},hide:function(){this.isVisible=!1,this.update()},show:function(){this.isVisible=!0,this.update()},toggle:function(){this.isVisible=!this.isVisible,this.update()}}),e(t).on({"onInit.fb":function(t,e){var n;e&&!e.Thumbs&&(n=new o(e),n.isActive&&!0===n.opts.autoStart&&n.show())},"beforeShow.fb":function(t,e,n,o){var i=e&&e.Thumbs;i&&i.isVisible&&i.focus(o?0:250)},"afterKeydown.fb":function(t,e,n,o,i){var a=e&&e.Thumbs;a&&a.isActive&&71===i&&(o.preventDefault(),a.toggle())},"beforeClose.fb":function(t,e){var n=e&&e.Thumbs;n&&n.isVisible&&!1!==n.opts.hideOnClose&&n.$grid.hide()}})}(document,jQuery),function(t,e){"use strict";function n(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(t).replace(/[&<>"'`=\/]/g,function(t){return e[t]})}e.extend(!0,e.fancybox.defaults,{btnTpl:{share:'<button data-fancybox-share class="fancybox-button fancybox-button--share" title="{{SHARE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2.55 19c1.4-8.4 9.1-9.8 11.9-9.8V5l7 7-7 6.3v-3.5c-2.8 0-10.5 2.1-11.9 4.2z"/></svg></button>'},share:{url:function(t,e){return!t.currentHash&&"inline"!==e.type&&"html"!==e.type&&(e.origSrc||e.src)||window.location},
tpl:'<div class="fancybox-share"><h1>{{SHARE}}</h1><p><a class="fancybox-share__button fancybox-share__button--fb" href="https://www.facebook.com/sharer/sharer.php?u={{url}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196" /></svg><span>Facebook</span></a><a class="fancybox-share__button fancybox-share__button--tw" href="https://twitter.com/intent/tweet?url={{url}}&text={{descr}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z" /></svg><span>Twitter</span></a><a class="fancybox-share__button fancybox-share__button--pt" href="https://www.pinterest.com/pin/create/button/?url={{url}}&description={{descr}}&media={{media}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z" fill="#fff"/></svg><span>Pinterest</span></a></p><p><input class="fancybox-share__input" type="text" value="{{url_raw}}" onclick="select()" /></p></div>'}}),e(t).on("click","[data-fancybox-share]",function(){var t,o,i=e.fancybox.getInstance(),a=i.current||null;a&&("function"===e.type(a.opts.share.url)&&(t=a.opts.share.url.apply(a,[i,a])),o=a.opts.share.tpl.replace(/\{\{media\}\}/g,"image"===a.type?encodeURIComponent(a.src):"").replace(/\{\{url\}\}/g,encodeURIComponent(t)).replace(/\{\{url_raw\}\}/g,n(t)).replace(/\{\{descr\}\}/g,i.$caption?encodeURIComponent(i.$caption.text()):""),e.fancybox.open({src:i.translate(i,o),type:"html",opts:{touch:!1,animationEffect:!1,afterLoad:function(t,e){i.$refs.container.one("beforeClose.fb",function(){t.close(null,0)}),e.$content.find(".fancybox-share__button").click(function(){return window.open(this.href,"Share","width=550, height=450"),!1})},mobile:{autoFocus:!1}}}))})}(document,jQuery),function(t,e,n){"use strict";function o(){var e=t.location.hash.substr(1),n=e.split("-"),o=n.length>1&&/^\+?\d+$/.test(n[n.length-1])?parseInt(n.pop(-1),10)||1:1,i=n.join("-");return{hash:e,index:o<1?1:o,gallery:i}}function i(t){""!==t.gallery&&n("[data-fancybox='"+n.escapeSelector(t.gallery)+"']").eq(t.index-1).focus().trigger("click.fb-start")}function a(t){var e,n;return!!t&&(e=t.current?t.current.opts:t.opts,""!==(n=e.hash||(e.$orig?e.$orig.data("fancybox")||e.$orig.data("fancybox-trigger"):""))&&n)}n.escapeSelector||(n.escapeSelector=function(t){return(t+"").replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t})}),n(function(){!1!==n.fancybox.defaults.hash&&(n(e).on({"onInit.fb":function(t,e){var n,i;!1!==e.group[e.currIndex].opts.hash&&(n=o(),(i=a(e))&&n.gallery&&i==n.gallery&&(e.currIndex=n.index-1))},"beforeShow.fb":function(n,o,i,s){var r;i&&!1!==i.opts.hash&&(r=a(o))&&(o.currentHash=r+(o.group.length>1?"-"+(i.index+1):""),t.location.hash!=="#"+o.currentHash&&(s&&!o.origHash&&(o.origHash=t.location.hash),o.hashTimer&&clearTimeout(o.hashTimer),o.hashTimer=setTimeout(function(){"replaceState"in t.history?(t.history[s?"pushState":"replaceState"]({},e.title,t.location.pathname+t.location.search+"#"+o.currentHash),s&&(o.hasCreatedHistory=!0)):t.location.hash=o.currentHash,o.hashTimer=null},300)))},"beforeClose.fb":function(n,o,i){i&&!1!==i.opts.hash&&(clearTimeout(o.hashTimer),o.currentHash&&o.hasCreatedHistory?t.history.back():o.currentHash&&("replaceState"in t.history?t.history.replaceState({},e.title,t.location.pathname+t.location.search+(o.origHash||"")):t.location.hash=o.origHash),o.currentHash=null)}}),n(t).on("hashchange.fb",function(){var t=o(),e=null;n.each(n(".fancybox-container").get().reverse(),function(t,o){var i=n(o).data("FancyBox");if(i&&i.currentHash)return e=i,!1}),e?e.currentHash===t.gallery+"-"+t.index||1===t.index&&e.currentHash==t.gallery||(e.currentHash=null,e.close()):""!==t.gallery&&i(t)}),setTimeout(function(){n.fancybox.getInstance()||i(o())},50))})}(window,document,jQuery),function(t,e){"use strict";var n=(new Date).getTime();e(t).on({"onInit.fb":function(t,e,o){e.$refs.stage.on("mousewheel DOMMouseScroll wheel MozMousePixelScroll",function(t){var o=e.current,i=(new Date).getTime();e.group.length<2||!1===o.opts.wheel||"auto"===o.opts.wheel&&"image"!==o.type||(t.preventDefault(),t.stopPropagation(),o.$slide.hasClass("fancybox-animated")||(t=t.originalEvent||t,i-n<250||(n=i,e[(-t.deltaY||-t.deltaX||t.wheelDelta||-t.detail)<0?"next":"previous"]())))})}})}(document,jQuery);
/**
 * Swiper 6.5.9
 * Most modern mobile touch slider and framework with hardware accelerated transitions
 * https://swiperjs.com
 *
 * Copyright 2014-2021 Vladimir Kharlampidi
 *
 * Released under the MIT License
 *
 * Released on: April 30, 2021
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Swiper=t()}(this,(function(){"use strict";function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}function a(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function i(e,t){void 0===e&&(e={}),void 0===t&&(t={}),Object.keys(t).forEach((function(s){void 0===e[s]?e[s]=t[s]:a(t[s])&&a(e[s])&&Object.keys(t[s]).length>0&&i(e[s],t[s])}))}var s={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function r(){var e="undefined"!=typeof document?document:{};return i(e,s),e}var n={document:s,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(e){return"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0)},cancelAnimationFrame:function(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function o(){var e="undefined"!=typeof window?window:{};return i(e,n),e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e,t,a){return(c=p()?Reflect.construct:function(e,t,a){var i=[null];i.push.apply(i,t);var s=new(Function.bind.apply(e,i));return a&&d(s,a.prototype),s}).apply(null,arguments)}function u(e){var t="function"==typeof Map?new Map:void 0;return(u=function(e){if(null===e||(a=e,-1===Function.toString.call(a).indexOf("[native code]")))return e;var a;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return c(e,arguments,l(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),d(i,e)})(e)}var h=function(e){var t,a;function i(t){var a,i,s;return a=e.call.apply(e,[this].concat(t))||this,i=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(a),s=i.__proto__,Object.defineProperty(i,"__proto__",{get:function(){return s},set:function(e){s.__proto__=e}}),a}return a=e,(t=i).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a,i}(u(Array));function v(e){void 0===e&&(e=[]);var t=[];return e.forEach((function(e){Array.isArray(e)?t.push.apply(t,v(e)):t.push(e)})),t}function f(e,t){return Array.prototype.filter.call(e,t)}function m(e,t){var a=o(),i=r(),s=[];if(!t&&e instanceof h)return e;if(!e)return new h(s);if("string"==typeof e){var n=e.trim();if(n.indexOf("<")>=0&&n.indexOf(">")>=0){var l="div";0===n.indexOf("<li")&&(l="ul"),0===n.indexOf("<tr")&&(l="tbody"),0!==n.indexOf("<td")&&0!==n.indexOf("<th")||(l="tr"),0===n.indexOf("<tbody")&&(l="table"),0===n.indexOf("<option")&&(l="select");var d=i.createElement(l);d.innerHTML=n;for(var p=0;p<d.childNodes.length;p+=1)s.push(d.childNodes[p])}else s=function(e,t){if("string"!=typeof e)return[e];for(var a=[],i=t.querySelectorAll(e),s=0;s<i.length;s+=1)a.push(i[s]);return a}(e.trim(),t||i)}else if(e.nodeType||e===a||e===i)s.push(e);else if(Array.isArray(e)){if(e instanceof h)return e;s=e}return new h(function(e){for(var t=[],a=0;a<e.length;a+=1)-1===t.indexOf(e[a])&&t.push(e[a]);return t}(s))}m.fn=h.prototype;var g,b,w,y={addClass:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var i=v(t.map((function(e){return e.split(" ")})));return this.forEach((function(e){var t;(t=e.classList).add.apply(t,i)})),this},removeClass:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var i=v(t.map((function(e){return e.split(" ")})));return this.forEach((function(e){var t;(t=e.classList).remove.apply(t,i)})),this},hasClass:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var i=v(t.map((function(e){return e.split(" ")})));return f(this,(function(e){return i.filter((function(t){return e.classList.contains(t)})).length>0})).length>0},toggleClass:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var i=v(t.map((function(e){return e.split(" ")})));this.forEach((function(e){i.forEach((function(t){e.classList.toggle(t)}))}))},attr:function(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var a=0;a<this.length;a+=1)if(2===arguments.length)this[a].setAttribute(e,t);else for(var i in e)this[a][i]=e[i],this[a].setAttribute(i,e[i]);return this},removeAttr:function(e){for(var t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this},transform:function(e){for(var t=0;t<this.length;t+=1)this[t].style.transform=e;return this},transition:function(e){for(var t=0;t<this.length;t+=1)this[t].style.transitionDuration="string"!=typeof e?e+"ms":e;return this},on:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var i=t[0],s=t[1],r=t[2],n=t[3];function o(e){var t=e.target;if(t){var a=e.target.dom7EventData||[];if(a.indexOf(e)<0&&a.unshift(e),m(t).is(s))r.apply(t,a);else for(var i=m(t).parents(),n=0;n<i.length;n+=1)m(i[n]).is(s)&&r.apply(i[n],a)}}function l(e){var t=e&&e.target&&e.target.dom7EventData||[];t.indexOf(e)<0&&t.unshift(e),r.apply(this,t)}"function"==typeof t[1]&&(i=t[0],r=t[1],n=t[2],s=void 0),n||(n=!1);for(var d,p=i.split(" "),c=0;c<this.length;c+=1){var u=this[c];if(s)for(d=0;d<p.length;d+=1){var h=p[d];u.dom7LiveListeners||(u.dom7LiveListeners={}),u.dom7LiveListeners[h]||(u.dom7LiveListeners[h]=[]),u.dom7LiveListeners[h].push({listener:r,proxyListener:o}),u.addEventListener(h,o,n)}else for(d=0;d<p.length;d+=1){var v=p[d];u.dom7Listeners||(u.dom7Listeners={}),u.dom7Listeners[v]||(u.dom7Listeners[v]=[]),u.dom7Listeners[v].push({listener:r,proxyListener:l}),u.addEventListener(v,l,n)}}return this},off:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var i=t[0],s=t[1],r=t[2],n=t[3];"function"==typeof t[1]&&(i=t[0],r=t[1],n=t[2],s=void 0),n||(n=!1);for(var o=i.split(" "),l=0;l<o.length;l+=1)for(var d=o[l],p=0;p<this.length;p+=1){var c=this[p],u=void 0;if(!s&&c.dom7Listeners?u=c.dom7Listeners[d]:s&&c.dom7LiveListeners&&(u=c.dom7LiveListeners[d]),u&&u.length)for(var h=u.length-1;h>=0;h-=1){var v=u[h];r&&v.listener===r||r&&v.listener&&v.listener.dom7proxy&&v.listener.dom7proxy===r?(c.removeEventListener(d,v.proxyListener,n),u.splice(h,1)):r||(c.removeEventListener(d,v.proxyListener,n),u.splice(h,1))}}return this},trigger:function(){for(var e=o(),t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];for(var s=a[0].split(" "),r=a[1],n=0;n<s.length;n+=1)for(var l=s[n],d=0;d<this.length;d+=1){var p=this[d];if(e.CustomEvent){var c=new e.CustomEvent(l,{detail:r,bubbles:!0,cancelable:!0});p.dom7EventData=a.filter((function(e,t){return t>0})),p.dispatchEvent(c),p.dom7EventData=[],delete p.dom7EventData}}return this},transitionEnd:function(e){var t=this;return e&&t.on("transitionend",(function a(i){i.target===this&&(e.call(this,i),t.off("transitionend",a))})),this},outerWidth:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetWidth+parseFloat(t.getPropertyValue("margin-right"))+parseFloat(t.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetHeight+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function(){var e=o();return this[0]?e.getComputedStyle(this[0],null):{}},offset:function(){if(this.length>0){var e=o(),t=r(),a=this[0],i=a.getBoundingClientRect(),s=t.body,n=a.clientTop||s.clientTop||0,l=a.clientLeft||s.clientLeft||0,d=a===e?e.scrollY:a.scrollTop,p=a===e?e.scrollX:a.scrollLeft;return{top:i.top+d-n,left:i.left+p-l}}return null},css:function(e,t){var a,i=o();if(1===arguments.length){if("string"!=typeof e){for(a=0;a<this.length;a+=1)for(var s in e)this[a].style[s]=e[s];return this}if(this[0])return i.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(a=0;a<this.length;a+=1)this[a].style[e]=t;return this}return this},each:function(e){return e?(this.forEach((function(t,a){e.apply(t,[t,a])})),this):this},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:null;for(var t=0;t<this.length;t+=1)this[t].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t+=1)this[t].textContent=e;return this},is:function(e){var t,a,i=o(),s=r(),n=this[0];if(!n||void 0===e)return!1;if("string"==typeof e){if(n.matches)return n.matches(e);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(e);if(n.msMatchesSelector)return n.msMatchesSelector(e);for(t=m(e),a=0;a<t.length;a+=1)if(t[a]===n)return!0;return!1}if(e===s)return n===s;if(e===i)return n===i;if(e.nodeType||e instanceof h){for(t=e.nodeType?[e]:e,a=0;a<t.length;a+=1)if(t[a]===n)return!0;return!1}return!1},index:function(){var e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}},eq:function(e){if(void 0===e)return this;var t=this.length;if(e>t-1)return m([]);if(e<0){var a=t+e;return m(a<0?[]:[this[a]])}return m([this[e]])},append:function(){for(var e,t=r(),a=0;a<arguments.length;a+=1){e=a<0||arguments.length<=a?void 0:arguments[a];for(var i=0;i<this.length;i+=1)if("string"==typeof e){var s=t.createElement("div");for(s.innerHTML=e;s.firstChild;)this[i].appendChild(s.firstChild)}else if(e instanceof h)for(var n=0;n<e.length;n+=1)this[i].appendChild(e[n]);else this[i].appendChild(e)}return this},prepend:function(e){var t,a,i=r();for(t=0;t<this.length;t+=1)if("string"==typeof e){var s=i.createElement("div");for(s.innerHTML=e,a=s.childNodes.length-1;a>=0;a-=1)this[t].insertBefore(s.childNodes[a],this[t].childNodes[0])}else if(e instanceof h)for(a=0;a<e.length;a+=1)this[t].insertBefore(e[a],this[t].childNodes[0]);else this[t].insertBefore(e,this[t].childNodes[0]);return this},next:function(e){return this.length>0?e?this[0].nextElementSibling&&m(this[0].nextElementSibling).is(e)?m([this[0].nextElementSibling]):m([]):this[0].nextElementSibling?m([this[0].nextElementSibling]):m([]):m([])},nextAll:function(e){var t=[],a=this[0];if(!a)return m([]);for(;a.nextElementSibling;){var i=a.nextElementSibling;e?m(i).is(e)&&t.push(i):t.push(i),a=i}return m(t)},prev:function(e){if(this.length>0){var t=this[0];return e?t.previousElementSibling&&m(t.previousElementSibling).is(e)?m([t.previousElementSibling]):m([]):t.previousElementSibling?m([t.previousElementSibling]):m([])}return m([])},prevAll:function(e){var t=[],a=this[0];if(!a)return m([]);for(;a.previousElementSibling;){var i=a.previousElementSibling;e?m(i).is(e)&&t.push(i):t.push(i),a=i}return m(t)},parent:function(e){for(var t=[],a=0;a<this.length;a+=1)null!==this[a].parentNode&&(e?m(this[a].parentNode).is(e)&&t.push(this[a].parentNode):t.push(this[a].parentNode));return m(t)},parents:function(e){for(var t=[],a=0;a<this.length;a+=1)for(var i=this[a].parentNode;i;)e?m(i).is(e)&&t.push(i):t.push(i),i=i.parentNode;return m(t)},closest:function(e){var t=this;return void 0===e?m([]):(t.is(e)||(t=t.parents(e).eq(0)),t)},find:function(e){for(var t=[],a=0;a<this.length;a+=1){try{var i=this[a].querySelectorAll(e)}catch(t){console.log(e)}for(var s=0;s<i.length;s+=1)t.push(i[s])}return m(t)},children:function(e){for(var t=[],a=0;a<this.length;a+=1)for(var i=this[a].children,s=0;s<i.length;s+=1)e&&!m(i[s]).is(e)||t.push(i[s]);return m(t)},filter:function(e){return m(f(this,e))},remove:function(){for(var e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this}};function E(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function x(){return Date.now()}function T(e,t){void 0===t&&(t="x");var a,i,s,r=o(),n=function(e){var t,a=o();return a.getComputedStyle&&(t=a.getComputedStyle(e,null)),!t&&e.currentStyle&&(t=e.currentStyle),t||(t=e.style),t}(e);return r.WebKitCSSMatrix?((i=n.transform||n.webkitTransform).split(",").length>6&&(i=i.split(", ").map((function(e){return e.replace(",",".")})).join(", ")),s=new r.WebKitCSSMatrix("none"===i?"":i)):a=(s=n.MozTransform||n.OTransform||n.MsTransform||n.msTransform||n.transform||n.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===t&&(i=r.WebKitCSSMatrix?s.m41:16===a.length?parseFloat(a[12]):parseFloat(a[4])),"y"===t&&(i=r.WebKitCSSMatrix?s.m42:16===a.length?parseFloat(a[13]):parseFloat(a[5])),i||0}function S(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function C(){for(var e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"],a=1;a<arguments.length;a+=1){var i=a<0||arguments.length<=a?void 0:arguments[a];if(null!=i)for(var s=Object.keys(Object(i)).filter((function(e){return t.indexOf(e)<0})),r=0,n=s.length;r<n;r+=1){var o=s[r],l=Object.getOwnPropertyDescriptor(i,o);void 0!==l&&l.enumerable&&(S(e[o])&&S(i[o])?i[o].__swiper__?e[o]=i[o]:C(e[o],i[o]):!S(e[o])&&S(i[o])?(e[o]={},i[o].__swiper__?e[o]=i[o]:C(e[o],i[o])):e[o]=i[o])}}return e}function M(e,t){Object.keys(t).forEach((function(a){S(t[a])&&Object.keys(t[a]).forEach((function(i){"function"==typeof t[a][i]&&(t[a][i]=t[a][i].bind(e))})),e[a]=t[a]}))}function z(e){return void 0===e&&(e=""),"."+e.trim().replace(/([\.:\/])/g,"\\$1").replace(/ /g,".")}function P(){return g||(g=function(){var e=o(),t=r();return{touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch),pointerEvents:!!e.PointerEvent&&"maxTouchPoints"in e.navigator&&e.navigator.maxTouchPoints>=0,observer:"MutationObserver"in e||"WebkitMutationObserver"in e,passiveListener:function(){var t=!1;try{var a=Object.defineProperty({},"passive",{get:function(){t=!0}});e.addEventListener("testPassiveListener",null,a)}catch(e){}return t}(),gestures:"ongesturestart"in e}}()),g}function k(e){return void 0===e&&(e={}),b||(b=function(e){var t=(void 0===e?{}:e).userAgent,a=P(),i=o(),s=i.navigator.platform,r=t||i.navigator.userAgent,n={ios:!1,android:!1},l=i.screen.width,d=i.screen.height,p=r.match(/(Android);?[\s\/]+([\d.]+)?/),c=r.match(/(iPad).*OS\s([\d_]+)/),u=r.match(/(iPod)(.*OS\s([\d_]+))?/),h=!c&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),v="Win32"===s,f="MacIntel"===s;return!c&&f&&a.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(l+"x"+d)>=0&&((c=r.match(/(Version)\/([\d.]+)/))||(c=[0,1,"13_0_0"]),f=!1),p&&!v&&(n.os="android",n.android=!0),(c||h||u)&&(n.os="ios",n.ios=!0),n}(e)),b}function L(){return w||(w=function(){var e,t=o();return{isEdge:!!t.navigator.userAgent.match(/Edge/g),isSafari:(e=t.navigator.userAgent.toLowerCase(),e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}()),w}Object.keys(y).forEach((function(e){Object.defineProperty(m.fn,e,{value:y[e],writable:!0})}));var $={name:"resize",create:function(){var e=this;C(e,{resize:{observer:null,createObserver:function(){e&&!e.destroyed&&e.initialized&&(e.resize.observer=new ResizeObserver((function(t){var a=e.width,i=e.height,s=a,r=i;t.forEach((function(t){var a=t.contentBoxSize,i=t.contentRect,n=t.target;n&&n!==e.el||(s=i?i.width:(a[0]||a).inlineSize,r=i?i.height:(a[0]||a).blockSize)})),s===a&&r===i||e.resize.resizeHandler()})),e.resize.observer.observe(e.el))},removeObserver:function(){e.resize.observer&&e.resize.observer.unobserve&&e.el&&(e.resize.observer.unobserve(e.el),e.resize.observer=null)},resizeHandler:function(){e&&!e.destroyed&&e.initialized&&(e.emit("beforeResize"),e.emit("resize"))},orientationChangeHandler:function(){e&&!e.destroyed&&e.initialized&&e.emit("orientationchange")}}})},on:{init:function(e){var t=o();e.params.resizeObserver&&void 0!==o().ResizeObserver?e.resize.createObserver():(t.addEventListener("resize",e.resize.resizeHandler),t.addEventListener("orientationchange",e.resize.orientationChangeHandler))},destroy:function(e){var t=o();e.resize.removeObserver(),t.removeEventListener("resize",e.resize.resizeHandler),t.removeEventListener("orientationchange",e.resize.orientationChangeHandler)}}},I={attach:function(e,t){void 0===t&&(t={});var a=o(),i=this,s=new(a.MutationObserver||a.WebkitMutationObserver)((function(e){if(1!==e.length){var t=function(){i.emit("observerUpdate",e[0])};a.requestAnimationFrame?a.requestAnimationFrame(t):a.setTimeout(t,0)}else i.emit("observerUpdate",e[0])}));s.observe(e,{attributes:void 0===t.attributes||t.attributes,childList:void 0===t.childList||t.childList,characterData:void 0===t.characterData||t.characterData}),i.observer.observers.push(s)},init:function(){var e=this;if(e.support.observer&&e.params.observer){if(e.params.observeParents)for(var t=e.$el.parents(),a=0;a<t.length;a+=1)e.observer.attach(t[a]);e.observer.attach(e.$el[0],{childList:e.params.observeSlideChildren}),e.observer.attach(e.$wrapperEl[0],{attributes:!1})}},destroy:function(){this.observer.observers.forEach((function(e){e.disconnect()})),this.observer.observers=[]}},O={name:"observer",params:{observer:!1,observeParents:!1,observeSlideChildren:!1},create:function(){M(this,{observer:t({},I,{observers:[]})})},on:{init:function(e){e.observer.init()},destroy:function(e){e.observer.destroy()}}};function A(e){var t=this,a=r(),i=o(),s=t.touchEventsData,n=t.params,l=t.touches;if(!t.animating||!n.preventInteractionOnTransition){var d=e;d.originalEvent&&(d=d.originalEvent);var p=m(d.target);if("wrapper"!==n.touchEventsTarget||p.closest(t.wrapperEl).length)if(s.isTouchEvent="touchstart"===d.type,s.isTouchEvent||!("which"in d)||3!==d.which)if(!(!s.isTouchEvent&&"button"in d&&d.button>0))if(!s.isTouched||!s.isMoved)if(!!n.noSwipingClass&&""!==n.noSwipingClass&&d.target&&d.target.shadowRoot&&e.path&&e.path[0]&&(p=m(e.path[0])),n.noSwiping&&p.closest(n.noSwipingSelector?n.noSwipingSelector:"."+n.noSwipingClass)[0])t.allowClick=!0;else if(!n.swipeHandler||p.closest(n.swipeHandler)[0]){l.currentX="touchstart"===d.type?d.targetTouches[0].pageX:d.pageX,l.currentY="touchstart"===d.type?d.targetTouches[0].pageY:d.pageY;var c=l.currentX,u=l.currentY,h=n.edgeSwipeDetection||n.iOSEdgeSwipeDetection,v=n.edgeSwipeThreshold||n.iOSEdgeSwipeThreshold;if(h&&(c<=v||c>=i.innerWidth-v)){if("prevent"!==h)return;e.preventDefault()}if(C(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),l.startX=c,l.startY=u,s.touchStartTime=x(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,n.threshold>0&&(s.allowThresholdMove=!1),"touchstart"!==d.type){var f=!0;p.is(s.formElements)&&(f=!1),a.activeElement&&m(a.activeElement).is(s.formElements)&&a.activeElement!==p[0]&&a.activeElement.blur();var g=f&&t.allowTouchMove&&n.touchStartPreventDefault;!n.touchStartForcePreventDefault&&!g||p[0].isContentEditable||d.preventDefault()}t.emit("touchStart",d)}}}function D(e){var t=r(),a=this,i=a.touchEventsData,s=a.params,n=a.touches,o=a.rtlTranslate,l=e;if(l.originalEvent&&(l=l.originalEvent),i.isTouched){if(!i.isTouchEvent||"touchmove"===l.type){var d="touchmove"===l.type&&l.targetTouches&&(l.targetTouches[0]||l.changedTouches[0]),p="touchmove"===l.type?d.pageX:l.pageX,c="touchmove"===l.type?d.pageY:l.pageY;if(l.preventedByNestedSwiper)return n.startX=p,void(n.startY=c);if(!a.allowTouchMove)return a.allowClick=!1,void(i.isTouched&&(C(n,{startX:p,startY:c,currentX:p,currentY:c}),i.touchStartTime=x()));if(i.isTouchEvent&&s.touchReleaseOnEdges&&!s.loop)if(a.isVertical()){if(c<n.startY&&a.translate<=a.maxTranslate()||c>n.startY&&a.translate>=a.minTranslate())return i.isTouched=!1,void(i.isMoved=!1)}else if(p<n.startX&&a.translate<=a.maxTranslate()||p>n.startX&&a.translate>=a.minTranslate())return;if(i.isTouchEvent&&t.activeElement&&l.target===t.activeElement&&m(l.target).is(i.formElements))return i.isMoved=!0,void(a.allowClick=!1);if(i.allowTouchCallbacks&&a.emit("touchMove",l),!(l.targetTouches&&l.targetTouches.length>1)){n.currentX=p,n.currentY=c;var u=n.currentX-n.startX,h=n.currentY-n.startY;if(!(a.params.threshold&&Math.sqrt(Math.pow(u,2)+Math.pow(h,2))<a.params.threshold)){var v;if(void 0===i.isScrolling)a.isHorizontal()&&n.currentY===n.startY||a.isVertical()&&n.currentX===n.startX?i.isScrolling=!1:u*u+h*h>=25&&(v=180*Math.atan2(Math.abs(h),Math.abs(u))/Math.PI,i.isScrolling=a.isHorizontal()?v>s.touchAngle:90-v>s.touchAngle);if(i.isScrolling&&a.emit("touchMoveOpposite",l),void 0===i.startMoving&&(n.currentX===n.startX&&n.currentY===n.startY||(i.startMoving=!0)),i.isScrolling)i.isTouched=!1;else if(i.startMoving){a.allowClick=!1,!s.cssMode&&l.cancelable&&l.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&l.stopPropagation(),i.isMoved||(s.loop&&a.loopFix(),i.startTranslate=a.getTranslate(),a.setTransition(0),a.animating&&a.$wrapperEl.trigger("webkitTransitionEnd transitionend"),i.allowMomentumBounce=!1,!s.grabCursor||!0!==a.allowSlideNext&&!0!==a.allowSlidePrev||a.setGrabCursor(!0),a.emit("sliderFirstMove",l)),a.emit("sliderMove",l),i.isMoved=!0;var f=a.isHorizontal()?u:h;n.diff=f,f*=s.touchRatio,o&&(f=-f),a.swipeDirection=f>0?"prev":"next",i.currentTranslate=f+i.startTranslate;var g=!0,b=s.resistanceRatio;if(s.touchReleaseOnEdges&&(b=0),f>0&&i.currentTranslate>a.minTranslate()?(g=!1,s.resistance&&(i.currentTranslate=a.minTranslate()-1+Math.pow(-a.minTranslate()+i.startTranslate+f,b))):f<0&&i.currentTranslate<a.maxTranslate()&&(g=!1,s.resistance&&(i.currentTranslate=a.maxTranslate()+1-Math.pow(a.maxTranslate()-i.startTranslate-f,b))),g&&(l.preventedByNestedSwiper=!0),!a.allowSlideNext&&"next"===a.swipeDirection&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!a.allowSlidePrev&&"prev"===a.swipeDirection&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),a.allowSlidePrev||a.allowSlideNext||(i.currentTranslate=i.startTranslate),s.threshold>0){if(!(Math.abs(f)>s.threshold||i.allowThresholdMove))return void(i.currentTranslate=i.startTranslate);if(!i.allowThresholdMove)return i.allowThresholdMove=!0,n.startX=n.currentX,n.startY=n.currentY,i.currentTranslate=i.startTranslate,void(n.diff=a.isHorizontal()?n.currentX-n.startX:n.currentY-n.startY)}s.followFinger&&!s.cssMode&&((s.freeMode||s.watchSlidesProgress||s.watchSlidesVisibility)&&(a.updateActiveIndex(),a.updateSlidesClasses()),s.freeMode&&(0===i.velocities.length&&i.velocities.push({position:n[a.isHorizontal()?"startX":"startY"],time:i.touchStartTime}),i.velocities.push({position:n[a.isHorizontal()?"currentX":"currentY"],time:x()})),a.updateProgress(i.currentTranslate),a.setTranslate(i.currentTranslate))}}}}}else i.startMoving&&i.isScrolling&&a.emit("touchMoveOpposite",l)}function N(e){var t=this,a=t.touchEventsData,i=t.params,s=t.touches,r=t.rtlTranslate,n=t.$wrapperEl,o=t.slidesGrid,l=t.snapGrid,d=e;if(d.originalEvent&&(d=d.originalEvent),a.allowTouchCallbacks&&t.emit("touchEnd",d),a.allowTouchCallbacks=!1,!a.isTouched)return a.isMoved&&i.grabCursor&&t.setGrabCursor(!1),a.isMoved=!1,void(a.startMoving=!1);i.grabCursor&&a.isMoved&&a.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);var p,c=x(),u=c-a.touchStartTime;if(t.allowClick&&(t.updateClickedSlide(d),t.emit("tap click",d),u<300&&c-a.lastClickTime<300&&t.emit("doubleTap doubleClick",d)),a.lastClickTime=x(),E((function(){t.destroyed||(t.allowClick=!0)})),!a.isTouched||!a.isMoved||!t.swipeDirection||0===s.diff||a.currentTranslate===a.startTranslate)return a.isTouched=!1,a.isMoved=!1,void(a.startMoving=!1);if(a.isTouched=!1,a.isMoved=!1,a.startMoving=!1,p=i.followFinger?r?t.translate:-t.translate:-a.currentTranslate,!i.cssMode)if(i.freeMode){if(p<-t.minTranslate())return void t.slideTo(t.activeIndex);if(p>-t.maxTranslate())return void(t.slides.length<l.length?t.slideTo(l.length-1):t.slideTo(t.slides.length-1));if(i.freeModeMomentum){if(a.velocities.length>1){var h=a.velocities.pop(),v=a.velocities.pop(),f=h.position-v.position,m=h.time-v.time;t.velocity=f/m,t.velocity/=2,Math.abs(t.velocity)<i.freeModeMinimumVelocity&&(t.velocity=0),(m>150||x()-h.time>300)&&(t.velocity=0)}else t.velocity=0;t.velocity*=i.freeModeMomentumVelocityRatio,a.velocities.length=0;var g=1e3*i.freeModeMomentumRatio,b=t.velocity*g,w=t.translate+b;r&&(w=-w);var y,T,S=!1,C=20*Math.abs(t.velocity)*i.freeModeMomentumBounceRatio;if(w<t.maxTranslate())i.freeModeMomentumBounce?(w+t.maxTranslate()<-C&&(w=t.maxTranslate()-C),y=t.maxTranslate(),S=!0,a.allowMomentumBounce=!0):w=t.maxTranslate(),i.loop&&i.centeredSlides&&(T=!0);else if(w>t.minTranslate())i.freeModeMomentumBounce?(w-t.minTranslate()>C&&(w=t.minTranslate()+C),y=t.minTranslate(),S=!0,a.allowMomentumBounce=!0):w=t.minTranslate(),i.loop&&i.centeredSlides&&(T=!0);else if(i.freeModeSticky){for(var M,z=0;z<l.length;z+=1)if(l[z]>-w){M=z;break}w=-(w=Math.abs(l[M]-w)<Math.abs(l[M-1]-w)||"next"===t.swipeDirection?l[M]:l[M-1])}if(T&&t.once("transitionEnd",(function(){t.loopFix()})),0!==t.velocity){if(g=r?Math.abs((-w-t.translate)/t.velocity):Math.abs((w-t.translate)/t.velocity),i.freeModeSticky){var P=Math.abs((r?-w:w)-t.translate),k=t.slidesSizesGrid[t.activeIndex];g=P<k?i.speed:P<2*k?1.5*i.speed:2.5*i.speed}}else if(i.freeModeSticky)return void t.slideToClosest();i.freeModeMomentumBounce&&S?(t.updateProgress(y),t.setTransition(g),t.setTranslate(w),t.transitionStart(!0,t.swipeDirection),t.animating=!0,n.transitionEnd((function(){t&&!t.destroyed&&a.allowMomentumBounce&&(t.emit("momentumBounce"),t.setTransition(i.speed),setTimeout((function(){t.setTranslate(y),n.transitionEnd((function(){t&&!t.destroyed&&t.transitionEnd()}))}),0))}))):t.velocity?(t.updateProgress(w),t.setTransition(g),t.setTranslate(w),t.transitionStart(!0,t.swipeDirection),t.animating||(t.animating=!0,n.transitionEnd((function(){t&&!t.destroyed&&t.transitionEnd()})))):(t.emit("_freeModeNoMomentumRelease"),t.updateProgress(w)),t.updateActiveIndex(),t.updateSlidesClasses()}else{if(i.freeModeSticky)return void t.slideToClosest();i.freeMode&&t.emit("_freeModeNoMomentumRelease")}(!i.freeModeMomentum||u>=i.longSwipesMs)&&(t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses())}else{for(var L=0,$=t.slidesSizesGrid[0],I=0;I<o.length;I+=I<i.slidesPerGroupSkip?1:i.slidesPerGroup){var O=I<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;void 0!==o[I+O]?p>=o[I]&&p<o[I+O]&&(L=I,$=o[I+O]-o[I]):p>=o[I]&&(L=I,$=o[o.length-1]-o[o.length-2])}var A=(p-o[L])/$,D=L<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;if(u>i.longSwipesMs){if(!i.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(A>=i.longSwipesRatio?t.slideTo(L+D):t.slideTo(L)),"prev"===t.swipeDirection&&(A>1-i.longSwipesRatio?t.slideTo(L+D):t.slideTo(L))}else{if(!i.shortSwipes)return void t.slideTo(t.activeIndex);t.navigation&&(d.target===t.navigation.nextEl||d.target===t.navigation.prevEl)?d.target===t.navigation.nextEl?t.slideTo(L+D):t.slideTo(L):("next"===t.swipeDirection&&t.slideTo(L+D),"prev"===t.swipeDirection&&t.slideTo(L))}}}function G(){var e=this,t=e.params,a=e.el;if(!a||0!==a.offsetWidth){t.breakpoints&&e.setBreakpoint();var i=e.allowSlideNext,s=e.allowSlidePrev,r=e.snapGrid;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses(),("auto"===t.slidesPerView||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.run(),e.allowSlidePrev=s,e.allowSlideNext=i,e.params.watchOverflow&&r!==e.snapGrid&&e.checkOverflow()}}function B(e){var t=this;t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))}function H(){var e=this,t=e.wrapperEl,a=e.rtlTranslate;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=a?t.scrollWidth-t.offsetWidth-t.scrollLeft:-t.scrollLeft:e.translate=-t.scrollTop,-0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();var i=e.maxTranslate()-e.minTranslate();(0===i?0:(e.translate-e.minTranslate())/i)!==e.progress&&e.updateProgress(a?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}var X=!1;function Y(){}var R={init:!0,direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!1,nested:!1,width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,slidesPerGroupSkip:0,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!1,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1},V={modular:{useParams:function(e){var t=this;t.modules&&Object.keys(t.modules).forEach((function(a){var i=t.modules[a];i.params&&C(e,i.params)}))},useModules:function(e){void 0===e&&(e={});var t=this;t.modules&&Object.keys(t.modules).forEach((function(a){var i=t.modules[a],s=e[a]||{};i.on&&t.on&&Object.keys(i.on).forEach((function(e){t.on(e,i.on[e])})),i.create&&i.create.bind(t)(s)}))}},eventsEmitter:{on:function(e,t,a){var i=this;if("function"!=typeof t)return i;var s=a?"unshift":"push";return e.split(" ").forEach((function(e){i.eventsListeners[e]||(i.eventsListeners[e]=[]),i.eventsListeners[e][s](t)})),i},once:function(e,t,a){var i=this;if("function"!=typeof t)return i;function s(){i.off(e,s),s.__emitterProxy&&delete s.__emitterProxy;for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];t.apply(i,r)}return s.__emitterProxy=t,i.on(e,s,a)},onAny:function(e,t){var a=this;if("function"!=typeof e)return a;var i=t?"unshift":"push";return a.eventsAnyListeners.indexOf(e)<0&&a.eventsAnyListeners[i](e),a},offAny:function(e){var t=this;if(!t.eventsAnyListeners)return t;var a=t.eventsAnyListeners.indexOf(e);return a>=0&&t.eventsAnyListeners.splice(a,1),t},off:function(e,t){var a=this;return a.eventsListeners?(e.split(" ").forEach((function(e){void 0===t?a.eventsListeners[e]=[]:a.eventsListeners[e]&&a.eventsListeners[e].forEach((function(i,s){(i===t||i.__emitterProxy&&i.__emitterProxy===t)&&a.eventsListeners[e].splice(s,1)}))})),a):a},emit:function(){var e,t,a,i=this;if(!i.eventsListeners)return i;for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];"string"==typeof r[0]||Array.isArray(r[0])?(e=r[0],t=r.slice(1,r.length),a=i):(e=r[0].events,t=r[0].data,a=r[0].context||i),t.unshift(a);var o=Array.isArray(e)?e:e.split(" ");return o.forEach((function(e){i.eventsAnyListeners&&i.eventsAnyListeners.length&&i.eventsAnyListeners.forEach((function(i){i.apply(a,[e].concat(t))})),i.eventsListeners&&i.eventsListeners[e]&&i.eventsListeners[e].forEach((function(e){e.apply(a,t)}))})),i}},update:{updateSize:function(){var e,t,a=this,i=a.$el;e=void 0!==a.params.width&&null!==a.params.width?a.params.width:i[0].clientWidth,t=void 0!==a.params.height&&null!==a.params.height?a.params.height:i[0].clientHeight,0===e&&a.isHorizontal()||0===t&&a.isVertical()||(e=e-parseInt(i.css("padding-left")||0,10)-parseInt(i.css("padding-right")||0,10),t=t-parseInt(i.css("padding-top")||0,10)-parseInt(i.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),C(a,{width:e,height:t,size:a.isHorizontal()?e:t}))},updateSlides:function(){var e=this,t=function(t){return e.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]},a=function(e,a){return parseFloat(e.getPropertyValue(t(a))||0)},i=e.params,s=e.$wrapperEl,r=e.size,n=e.rtlTranslate,o=e.wrongRTL,l=e.virtual&&i.virtual.enabled,d=l?e.virtual.slides.length:e.slides.length,p=s.children("."+e.params.slideClass),c=l?e.virtual.slides.length:p.length,u=[],h=[],v=[],f=i.slidesOffsetBefore;"function"==typeof f&&(f=i.slidesOffsetBefore.call(e));var m=i.slidesOffsetAfter;"function"==typeof m&&(m=i.slidesOffsetAfter.call(e));var g=e.snapGrid.length,b=e.slidesGrid.length,w=i.spaceBetween,y=-f,E=0,x=0;if(void 0!==r){var T,S;"string"==typeof w&&w.indexOf("%")>=0&&(w=parseFloat(w.replace("%",""))/100*r),e.virtualSize=-w,n?p.css({marginLeft:"",marginTop:""}):p.css({marginRight:"",marginBottom:""}),i.slidesPerColumn>1&&(T=Math.floor(c/i.slidesPerColumn)===c/e.params.slidesPerColumn?c:Math.ceil(c/i.slidesPerColumn)*i.slidesPerColumn,"auto"!==i.slidesPerView&&"row"===i.slidesPerColumnFill&&(T=Math.max(T,i.slidesPerView*i.slidesPerColumn)));for(var M,z,P,k=i.slidesPerColumn,L=T/k,$=Math.floor(c/i.slidesPerColumn),I=0;I<c;I+=1){S=0;var O=p.eq(I);if(i.slidesPerColumn>1){var A=void 0,D=void 0,N=void 0;if("row"===i.slidesPerColumnFill&&i.slidesPerGroup>1){var G=Math.floor(I/(i.slidesPerGroup*i.slidesPerColumn)),B=I-i.slidesPerColumn*i.slidesPerGroup*G,H=0===G?i.slidesPerGroup:Math.min(Math.ceil((c-G*k*i.slidesPerGroup)/k),i.slidesPerGroup);A=(D=B-(N=Math.floor(B/H))*H+G*i.slidesPerGroup)+N*T/k,O.css({"-webkit-box-ordinal-group":A,"-moz-box-ordinal-group":A,"-ms-flex-order":A,"-webkit-order":A,order:A})}else"column"===i.slidesPerColumnFill?(N=I-(D=Math.floor(I/k))*k,(D>$||D===$&&N===k-1)&&(N+=1)>=k&&(N=0,D+=1)):D=I-(N=Math.floor(I/L))*L;O.css(t("margin-top"),0!==N&&i.spaceBetween&&i.spaceBetween+"px")}if("none"!==O.css("display")){if("auto"===i.slidesPerView){var X=getComputedStyle(O[0]),Y=O[0].style.transform,R=O[0].style.webkitTransform;if(Y&&(O[0].style.transform="none"),R&&(O[0].style.webkitTransform="none"),i.roundLengths)S=e.isHorizontal()?O.outerWidth(!0):O.outerHeight(!0);else{var V=a(X,"width"),W=a(X,"padding-left"),F=a(X,"padding-right"),_=a(X,"margin-left"),q=a(X,"margin-right"),j=X.getPropertyValue("box-sizing");if(j&&"border-box"===j)S=V+_+q;else{var U=O[0],K=U.clientWidth;S=V+W+F+_+q+(U.offsetWidth-K)}}Y&&(O[0].style.transform=Y),R&&(O[0].style.webkitTransform=R),i.roundLengths&&(S=Math.floor(S))}else S=(r-(i.slidesPerView-1)*w)/i.slidesPerView,i.roundLengths&&(S=Math.floor(S)),p[I]&&(p[I].style[t("width")]=S+"px");p[I]&&(p[I].swiperSlideSize=S),v.push(S),i.centeredSlides?(y=y+S/2+E/2+w,0===E&&0!==I&&(y=y-r/2-w),0===I&&(y=y-r/2-w),Math.abs(y)<.001&&(y=0),i.roundLengths&&(y=Math.floor(y)),x%i.slidesPerGroup==0&&u.push(y),h.push(y)):(i.roundLengths&&(y=Math.floor(y)),(x-Math.min(e.params.slidesPerGroupSkip,x))%e.params.slidesPerGroup==0&&u.push(y),h.push(y),y=y+S+w),e.virtualSize+=S+w,E=S,x+=1}}if(e.virtualSize=Math.max(e.virtualSize,r)+m,n&&o&&("slide"===i.effect||"coverflow"===i.effect)&&s.css({width:e.virtualSize+i.spaceBetween+"px"}),i.setWrapperSize)s.css(((z={})[t("width")]=e.virtualSize+i.spaceBetween+"px",z));if(i.slidesPerColumn>1)if(e.virtualSize=(S+i.spaceBetween)*T,e.virtualSize=Math.ceil(e.virtualSize/i.slidesPerColumn)-i.spaceBetween,s.css(((P={})[t("width")]=e.virtualSize+i.spaceBetween+"px",P)),i.centeredSlides){M=[];for(var Z=0;Z<u.length;Z+=1){var J=u[Z];i.roundLengths&&(J=Math.floor(J)),u[Z]<e.virtualSize+u[0]&&M.push(J)}u=M}if(!i.centeredSlides){M=[];for(var Q=0;Q<u.length;Q+=1){var ee=u[Q];i.roundLengths&&(ee=Math.floor(ee)),u[Q]<=e.virtualSize-r&&M.push(ee)}u=M,Math.floor(e.virtualSize-r)-Math.floor(u[u.length-1])>1&&u.push(e.virtualSize-r)}if(0===u.length&&(u=[0]),0!==i.spaceBetween){var te,ae=e.isHorizontal()&&n?"marginLeft":t("marginRight");p.filter((function(e,t){return!i.cssMode||t!==p.length-1})).css(((te={})[ae]=w+"px",te))}if(i.centeredSlides&&i.centeredSlidesBounds){var ie=0;v.forEach((function(e){ie+=e+(i.spaceBetween?i.spaceBetween:0)}));var se=(ie-=i.spaceBetween)-r;u=u.map((function(e){return e<0?-f:e>se?se+m:e}))}if(i.centerInsufficientSlides){var re=0;if(v.forEach((function(e){re+=e+(i.spaceBetween?i.spaceBetween:0)})),(re-=i.spaceBetween)<r){var ne=(r-re)/2;u.forEach((function(e,t){u[t]=e-ne})),h.forEach((function(e,t){h[t]=e+ne}))}}C(e,{slides:p,snapGrid:u,slidesGrid:h,slidesSizesGrid:v}),c!==d&&e.emit("slidesLengthChange"),u.length!==g&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),h.length!==b&&e.emit("slidesGridLengthChange"),(i.watchSlidesProgress||i.watchSlidesVisibility)&&e.updateSlidesOffset()}},updateAutoHeight:function(e){var t,a=this,i=[],s=0;if("number"==typeof e?a.setTransition(e):!0===e&&a.setTransition(a.params.speed),"auto"!==a.params.slidesPerView&&a.params.slidesPerView>1)if(a.params.centeredSlides)a.visibleSlides.each((function(e){i.push(e)}));else for(t=0;t<Math.ceil(a.params.slidesPerView);t+=1){var r=a.activeIndex+t;if(r>a.slides.length)break;i.push(a.slides.eq(r)[0])}else i.push(a.slides.eq(a.activeIndex)[0]);for(t=0;t<i.length;t+=1)if(void 0!==i[t]){var n=i[t].offsetHeight;s=n>s?n:s}s&&a.$wrapperEl.css("height",s+"px")},updateSlidesOffset:function(){for(var e=this.slides,t=0;t<e.length;t+=1)e[t].swiperSlideOffset=this.isHorizontal()?e[t].offsetLeft:e[t].offsetTop},updateSlidesProgress:function(e){void 0===e&&(e=this&&this.translate||0);var t=this,a=t.params,i=t.slides,s=t.rtlTranslate;if(0!==i.length){void 0===i[0].swiperSlideOffset&&t.updateSlidesOffset();var r=-e;s&&(r=e),i.removeClass(a.slideVisibleClass),t.visibleSlidesIndexes=[],t.visibleSlides=[];for(var n=0;n<i.length;n+=1){var o=i[n],l=(r+(a.centeredSlides?t.minTranslate():0)-o.swiperSlideOffset)/(o.swiperSlideSize+a.spaceBetween);if(a.watchSlidesVisibility||a.centeredSlides&&a.autoHeight){var d=-(r-o.swiperSlideOffset),p=d+t.slidesSizesGrid[n];(d>=0&&d<t.size-1||p>1&&p<=t.size||d<=0&&p>=t.size)&&(t.visibleSlides.push(o),t.visibleSlidesIndexes.push(n),i.eq(n).addClass(a.slideVisibleClass))}o.progress=s?-l:l}t.visibleSlides=m(t.visibleSlides)}},updateProgress:function(e){var t=this;if(void 0===e){var a=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*a||0}var i=t.params,s=t.maxTranslate()-t.minTranslate(),r=t.progress,n=t.isBeginning,o=t.isEnd,l=n,d=o;0===s?(r=0,n=!0,o=!0):(n=(r=(e-t.minTranslate())/s)<=0,o=r>=1),C(t,{progress:r,isBeginning:n,isEnd:o}),(i.watchSlidesProgress||i.watchSlidesVisibility||i.centeredSlides&&i.autoHeight)&&t.updateSlidesProgress(e),n&&!l&&t.emit("reachBeginning toEdge"),o&&!d&&t.emit("reachEnd toEdge"),(l&&!n||d&&!o)&&t.emit("fromEdge"),t.emit("progress",r)},updateSlidesClasses:function(){var e,t=this,a=t.slides,i=t.params,s=t.$wrapperEl,r=t.activeIndex,n=t.realIndex,o=t.virtual&&i.virtual.enabled;a.removeClass(i.slideActiveClass+" "+i.slideNextClass+" "+i.slidePrevClass+" "+i.slideDuplicateActiveClass+" "+i.slideDuplicateNextClass+" "+i.slideDuplicatePrevClass),(e=o?t.$wrapperEl.find("."+i.slideClass+'[data-swiper-slide-index="'+r+'"]'):a.eq(r)).addClass(i.slideActiveClass),i.loop&&(e.hasClass(i.slideDuplicateClass)?s.children("."+i.slideClass+":not(."+i.slideDuplicateClass+')[data-swiper-slide-index="'+n+'"]').addClass(i.slideDuplicateActiveClass):s.children("."+i.slideClass+"."+i.slideDuplicateClass+'[data-swiper-slide-index="'+n+'"]').addClass(i.slideDuplicateActiveClass));var l=e.nextAll("."+i.slideClass).eq(0).addClass(i.slideNextClass);i.loop&&0===l.length&&(l=a.eq(0)).addClass(i.slideNextClass);var d=e.prevAll("."+i.slideClass).eq(0).addClass(i.slidePrevClass);i.loop&&0===d.length&&(d=a.eq(-1)).addClass(i.slidePrevClass),i.loop&&(l.hasClass(i.slideDuplicateClass)?s.children("."+i.slideClass+":not(."+i.slideDuplicateClass+')[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(i.slideDuplicateNextClass):s.children("."+i.slideClass+"."+i.slideDuplicateClass+'[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(i.slideDuplicateNextClass),d.hasClass(i.slideDuplicateClass)?s.children("."+i.slideClass+":not(."+i.slideDuplicateClass+')[data-swiper-slide-index="'+d.attr("data-swiper-slide-index")+'"]').addClass(i.slideDuplicatePrevClass):s.children("."+i.slideClass+"."+i.slideDuplicateClass+'[data-swiper-slide-index="'+d.attr("data-swiper-slide-index")+'"]').addClass(i.slideDuplicatePrevClass)),t.emitSlidesClasses()},updateActiveIndex:function(e){var t,a=this,i=a.rtlTranslate?a.translate:-a.translate,s=a.slidesGrid,r=a.snapGrid,n=a.params,o=a.activeIndex,l=a.realIndex,d=a.snapIndex,p=e;if(void 0===p){for(var c=0;c<s.length;c+=1)void 0!==s[c+1]?i>=s[c]&&i<s[c+1]-(s[c+1]-s[c])/2?p=c:i>=s[c]&&i<s[c+1]&&(p=c+1):i>=s[c]&&(p=c);n.normalizeSlideIndex&&(p<0||void 0===p)&&(p=0)}if(r.indexOf(i)>=0)t=r.indexOf(i);else{var u=Math.min(n.slidesPerGroupSkip,p);t=u+Math.floor((p-u)/n.slidesPerGroup)}if(t>=r.length&&(t=r.length-1),p!==o){var h=parseInt(a.slides.eq(p).attr("data-swiper-slide-index")||p,10);C(a,{snapIndex:t,realIndex:h,previousIndex:o,activeIndex:p}),a.emit("activeIndexChange"),a.emit("snapIndexChange"),l!==h&&a.emit("realIndexChange"),(a.initialized||a.params.runCallbacksOnInit)&&a.emit("slideChange")}else t!==d&&(a.snapIndex=t,a.emit("snapIndexChange"))},updateClickedSlide:function(e){var t,a=this,i=a.params,s=m(e.target).closest("."+i.slideClass)[0],r=!1;if(s)for(var n=0;n<a.slides.length;n+=1)if(a.slides[n]===s){r=!0,t=n;break}if(!s||!r)return a.clickedSlide=void 0,void(a.clickedIndex=void 0);a.clickedSlide=s,a.virtual&&a.params.virtual.enabled?a.clickedIndex=parseInt(m(s).attr("data-swiper-slide-index"),10):a.clickedIndex=t,i.slideToClickedSlide&&void 0!==a.clickedIndex&&a.clickedIndex!==a.activeIndex&&a.slideToClickedSlide()}},translate:{getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?"x":"y");var t=this,a=t.params,i=t.rtlTranslate,s=t.translate,r=t.$wrapperEl;if(a.virtualTranslate)return i?-s:s;if(a.cssMode)return s;var n=T(r[0],e);return i&&(n=-n),n||0},setTranslate:function(e,t){var a=this,i=a.rtlTranslate,s=a.params,r=a.$wrapperEl,n=a.wrapperEl,o=a.progress,l=0,d=0;a.isHorizontal()?l=i?-e:e:d=e,s.roundLengths&&(l=Math.floor(l),d=Math.floor(d)),s.cssMode?n[a.isHorizontal()?"scrollLeft":"scrollTop"]=a.isHorizontal()?-l:-d:s.virtualTranslate||r.transform("translate3d("+l+"px, "+d+"px, 0px)"),a.previousTranslate=a.translate,a.translate=a.isHorizontal()?l:d;var p=a.maxTranslate()-a.minTranslate();(0===p?0:(e-a.minTranslate())/p)!==o&&a.updateProgress(e),a.emit("setTranslate",a.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e,t,a,i,s){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===a&&(a=!0),void 0===i&&(i=!0);var r=this,n=r.params,o=r.wrapperEl;if(r.animating&&n.preventInteractionOnTransition)return!1;var l,d=r.minTranslate(),p=r.maxTranslate();if(l=i&&e>d?d:i&&e<p?p:e,r.updateProgress(l),n.cssMode){var c,u=r.isHorizontal();if(0===t)o[u?"scrollLeft":"scrollTop"]=-l;else if(o.scrollTo)o.scrollTo(((c={})[u?"left":"top"]=-l,c.behavior="smooth",c));else o[u?"scrollLeft":"scrollTop"]=-l;return!0}return 0===t?(r.setTransition(0),r.setTranslate(l),a&&(r.emit("beforeTransitionStart",t,s),r.emit("transitionEnd"))):(r.setTransition(t),r.setTranslate(l),a&&(r.emit("beforeTransitionStart",t,s),r.emit("transitionStart")),r.animating||(r.animating=!0,r.onTranslateToWrapperTransitionEnd||(r.onTranslateToWrapperTransitionEnd=function(e){r&&!r.destroyed&&e.target===this&&(r.$wrapperEl[0].removeEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.$wrapperEl[0].removeEventListener("webkitTransitionEnd",r.onTranslateToWrapperTransitionEnd),r.onTranslateToWrapperTransitionEnd=null,delete r.onTranslateToWrapperTransitionEnd,a&&r.emit("transitionEnd"))}),r.$wrapperEl[0].addEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.$wrapperEl[0].addEventListener("webkitTransitionEnd",r.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function(e,t){var a=this;a.params.cssMode||a.$wrapperEl.transition(e),a.emit("setTransition",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);var a=this,i=a.activeIndex,s=a.params,r=a.previousIndex;if(!s.cssMode){s.autoHeight&&a.updateAutoHeight();var n=t;if(n||(n=i>r?"next":i<r?"prev":"reset"),a.emit("transitionStart"),e&&i!==r){if("reset"===n)return void a.emit("slideResetTransitionStart");a.emit("slideChangeTransitionStart"),"next"===n?a.emit("slideNextTransitionStart"):a.emit("slidePrevTransitionStart")}}},transitionEnd:function(e,t){void 0===e&&(e=!0);var a=this,i=a.activeIndex,s=a.previousIndex,r=a.params;if(a.animating=!1,!r.cssMode){a.setTransition(0);var n=t;if(n||(n=i>s?"next":i<s?"prev":"reset"),a.emit("transitionEnd"),e&&i!==s){if("reset"===n)return void a.emit("slideResetTransitionEnd");a.emit("slideChangeTransitionEnd"),"next"===n?a.emit("slideNextTransitionEnd"):a.emit("slidePrevTransitionEnd")}}}},slide:{slideTo:function(e,t,a,i){if(void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===a&&(a=!0),"number"!=typeof e&&"string"!=typeof e)throw new Error("The 'index' argument cannot have type other than 'number' or 'string'. ["+typeof e+"] given.");if("string"==typeof e){var s=parseInt(e,10);if(!isFinite(s))throw new Error("The passed-in 'index' (string) couldn't be converted to 'number'. ["+e+"] given.");e=s}var r=this,n=e;n<0&&(n=0);var o=r.params,l=r.snapGrid,d=r.slidesGrid,p=r.previousIndex,c=r.activeIndex,u=r.rtlTranslate,h=r.wrapperEl;if(r.animating&&o.preventInteractionOnTransition)return!1;var v=Math.min(r.params.slidesPerGroupSkip,n),f=v+Math.floor((n-v)/r.params.slidesPerGroup);f>=l.length&&(f=l.length-1),(c||o.initialSlide||0)===(p||0)&&a&&r.emit("beforeSlideChangeStart");var m,g=-l[f];if(r.updateProgress(g),o.normalizeSlideIndex)for(var b=0;b<d.length;b+=1){var w=-Math.floor(100*g),y=Math.floor(100*d[b]),E=Math.floor(100*d[b+1]);void 0!==d[b+1]?w>=y&&w<E-(E-y)/2?n=b:w>=y&&w<E&&(n=b+1):w>=y&&(n=b)}if(r.initialized&&n!==c){if(!r.allowSlideNext&&g<r.translate&&g<r.minTranslate())return!1;if(!r.allowSlidePrev&&g>r.translate&&g>r.maxTranslate()&&(c||0)!==n)return!1}if(m=n>c?"next":n<c?"prev":"reset",u&&-g===r.translate||!u&&g===r.translate)return r.updateActiveIndex(n),o.autoHeight&&r.updateAutoHeight(),r.updateSlidesClasses(),"slide"!==o.effect&&r.setTranslate(g),"reset"!==m&&(r.transitionStart(a,m),r.transitionEnd(a,m)),!1;if(o.cssMode){var x,T=r.isHorizontal(),S=-g;if(u&&(S=h.scrollWidth-h.offsetWidth-S),0===t)h[T?"scrollLeft":"scrollTop"]=S;else if(h.scrollTo)h.scrollTo(((x={})[T?"left":"top"]=S,x.behavior="smooth",x));else h[T?"scrollLeft":"scrollTop"]=S;return!0}return 0===t?(r.setTransition(0),r.setTranslate(g),r.updateActiveIndex(n),r.updateSlidesClasses(),r.emit("beforeTransitionStart",t,i),r.transitionStart(a,m),r.transitionEnd(a,m)):(r.setTransition(t),r.setTranslate(g),r.updateActiveIndex(n),r.updateSlidesClasses(),r.emit("beforeTransitionStart",t,i),r.transitionStart(a,m),r.animating||(r.animating=!0,r.onSlideToWrapperTransitionEnd||(r.onSlideToWrapperTransitionEnd=function(e){r&&!r.destroyed&&e.target===this&&(r.$wrapperEl[0].removeEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.$wrapperEl[0].removeEventListener("webkitTransitionEnd",r.onSlideToWrapperTransitionEnd),r.onSlideToWrapperTransitionEnd=null,delete r.onSlideToWrapperTransitionEnd,r.transitionEnd(a,m))}),r.$wrapperEl[0].addEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.$wrapperEl[0].addEventListener("webkitTransitionEnd",r.onSlideToWrapperTransitionEnd))),!0},slideToLoop:function(e,t,a,i){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===a&&(a=!0);var s=this,r=e;return s.params.loop&&(r+=s.loopedSlides),s.slideTo(r,t,a,i)},slideNext:function(e,t,a){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var i=this,s=i.params,r=i.animating,n=i.activeIndex<s.slidesPerGroupSkip?1:s.slidesPerGroup;if(s.loop){if(r&&s.loopPreventsSlide)return!1;i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft}return i.slideTo(i.activeIndex+n,e,t,a)},slidePrev:function(e,t,a){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var i=this,s=i.params,r=i.animating,n=i.snapGrid,o=i.slidesGrid,l=i.rtlTranslate;if(s.loop){if(r&&s.loopPreventsSlide)return!1;i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft}function d(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}var p=d(l?i.translate:-i.translate),c=n.map((function(e){return d(e)}));n[c.indexOf(p)];var u,h=n[c.indexOf(p)-1];return void 0===h&&s.cssMode&&n.forEach((function(e){!h&&p>=e&&(h=e)})),void 0!==h&&(u=o.indexOf(h))<0&&(u=i.activeIndex-1),i.slideTo(u,e,t,a)},slideReset:function(e,t,a){return void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),this.slideTo(this.activeIndex,e,t,a)},slideToClosest:function(e,t,a,i){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),void 0===i&&(i=.5);var s=this,r=s.activeIndex,n=Math.min(s.params.slidesPerGroupSkip,r),o=n+Math.floor((r-n)/s.params.slidesPerGroup),l=s.rtlTranslate?s.translate:-s.translate;if(l>=s.snapGrid[o]){var d=s.snapGrid[o];l-d>(s.snapGrid[o+1]-d)*i&&(r+=s.params.slidesPerGroup)}else{var p=s.snapGrid[o-1];l-p<=(s.snapGrid[o]-p)*i&&(r-=s.params.slidesPerGroup)}return r=Math.max(r,0),r=Math.min(r,s.slidesGrid.length-1),s.slideTo(r,e,t,a)},slideToClickedSlide:function(){var e,t=this,a=t.params,i=t.$wrapperEl,s="auto"===a.slidesPerView?t.slidesPerViewDynamic():a.slidesPerView,r=t.clickedIndex;if(a.loop){if(t.animating)return;e=parseInt(m(t.clickedSlide).attr("data-swiper-slide-index"),10),a.centeredSlides?r<t.loopedSlides-s/2||r>t.slides.length-t.loopedSlides+s/2?(t.loopFix(),r=i.children("."+a.slideClass+'[data-swiper-slide-index="'+e+'"]:not(.'+a.slideDuplicateClass+")").eq(0).index(),E((function(){t.slideTo(r)}))):t.slideTo(r):r>t.slides.length-s?(t.loopFix(),r=i.children("."+a.slideClass+'[data-swiper-slide-index="'+e+'"]:not(.'+a.slideDuplicateClass+")").eq(0).index(),E((function(){t.slideTo(r)}))):t.slideTo(r)}else t.slideTo(r)}},loop:{loopCreate:function(){var e=this,t=r(),a=e.params,i=e.$wrapperEl;i.children("."+a.slideClass+"."+a.slideDuplicateClass).remove();var s=i.children("."+a.slideClass);if(a.loopFillGroupWithBlank){var n=a.slidesPerGroup-s.length%a.slidesPerGroup;if(n!==a.slidesPerGroup){for(var o=0;o<n;o+=1){var l=m(t.createElement("div")).addClass(a.slideClass+" "+a.slideBlankClass);i.append(l)}s=i.children("."+a.slideClass)}}"auto"!==a.slidesPerView||a.loopedSlides||(a.loopedSlides=s.length),e.loopedSlides=Math.ceil(parseFloat(a.loopedSlides||a.slidesPerView,10)),e.loopedSlides+=a.loopAdditionalSlides,e.loopedSlides>s.length&&(e.loopedSlides=s.length);var d=[],p=[];s.each((function(t,a){var i=m(t);a<e.loopedSlides&&p.push(t),a<s.length&&a>=s.length-e.loopedSlides&&d.push(t),i.attr("data-swiper-slide-index",a)}));for(var c=0;c<p.length;c+=1)i.append(m(p[c].cloneNode(!0)).addClass(a.slideDuplicateClass));for(var u=d.length-1;u>=0;u-=1)i.prepend(m(d[u].cloneNode(!0)).addClass(a.slideDuplicateClass))},loopFix:function(){var e=this;e.emit("beforeLoopFix");var t,a=e.activeIndex,i=e.slides,s=e.loopedSlides,r=e.allowSlidePrev,n=e.allowSlideNext,o=e.snapGrid,l=e.rtlTranslate;e.allowSlidePrev=!0,e.allowSlideNext=!0;var d=-o[a]-e.getTranslate();if(a<s)t=i.length-3*s+a,t+=s,e.slideTo(t,0,!1,!0)&&0!==d&&e.setTranslate((l?-e.translate:e.translate)-d);else if(a>=i.length-s){t=-i.length+a+s,t+=s,e.slideTo(t,0,!1,!0)&&0!==d&&e.setTranslate((l?-e.translate:e.translate)-d)}e.allowSlidePrev=r,e.allowSlideNext=n,e.emit("loopFix")},loopDestroy:function(){var e=this,t=e.$wrapperEl,a=e.params,i=e.slides;t.children("."+a.slideClass+"."+a.slideDuplicateClass+",."+a.slideClass+"."+a.slideBlankClass).remove(),i.removeAttr("data-swiper-slide-index")}},grabCursor:{setGrabCursor:function(e){var t=this;if(!(t.support.touch||!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)){var a=t.el;a.style.cursor="move",a.style.cursor=e?"-webkit-grabbing":"-webkit-grab",a.style.cursor=e?"-moz-grabbin":"-moz-grab",a.style.cursor=e?"grabbing":"grab"}},unsetGrabCursor:function(){var e=this;e.support.touch||e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.el.style.cursor="")}},manipulation:{appendSlide:function(e){var t=this,a=t.$wrapperEl,i=t.params;if(i.loop&&t.loopDestroy(),"object"==typeof e&&"length"in e)for(var s=0;s<e.length;s+=1)e[s]&&a.append(e[s]);else a.append(e);i.loop&&t.loopCreate(),i.observer&&t.support.observer||t.update()},prependSlide:function(e){var t=this,a=t.params,i=t.$wrapperEl,s=t.activeIndex;a.loop&&t.loopDestroy();var r=s+1;if("object"==typeof e&&"length"in e){for(var n=0;n<e.length;n+=1)e[n]&&i.prepend(e[n]);r=s+e.length}else i.prepend(e);a.loop&&t.loopCreate(),a.observer&&t.support.observer||t.update(),t.slideTo(r,0,!1)},addSlide:function(e,t){var a=this,i=a.$wrapperEl,s=a.params,r=a.activeIndex;s.loop&&(r-=a.loopedSlides,a.loopDestroy(),a.slides=i.children("."+s.slideClass));var n=a.slides.length;if(e<=0)a.prependSlide(t);else if(e>=n)a.appendSlide(t);else{for(var o=r>e?r+1:r,l=[],d=n-1;d>=e;d-=1){var p=a.slides.eq(d);p.remove(),l.unshift(p)}if("object"==typeof t&&"length"in t){for(var c=0;c<t.length;c+=1)t[c]&&i.append(t[c]);o=r>e?r+t.length:r}else i.append(t);for(var u=0;u<l.length;u+=1)i.append(l[u]);s.loop&&a.loopCreate(),s.observer&&a.support.observer||a.update(),s.loop?a.slideTo(o+a.loopedSlides,0,!1):a.slideTo(o,0,!1)}},removeSlide:function(e){var t=this,a=t.params,i=t.$wrapperEl,s=t.activeIndex;a.loop&&(s-=t.loopedSlides,t.loopDestroy(),t.slides=i.children("."+a.slideClass));var r,n=s;if("object"==typeof e&&"length"in e){for(var o=0;o<e.length;o+=1)r=e[o],t.slides[r]&&t.slides.eq(r).remove(),r<n&&(n-=1);n=Math.max(n,0)}else r=e,t.slides[r]&&t.slides.eq(r).remove(),r<n&&(n-=1),n=Math.max(n,0);a.loop&&t.loopCreate(),a.observer&&t.support.observer||t.update(),a.loop?t.slideTo(n+t.loopedSlides,0,!1):t.slideTo(n,0,!1)},removeAllSlides:function(){for(var e=[],t=0;t<this.slides.length;t+=1)e.push(t);this.removeSlide(e)}},events:{attachEvents:function(){var e=this,t=r(),a=e.params,i=e.touchEvents,s=e.el,n=e.wrapperEl,o=e.device,l=e.support;e.onTouchStart=A.bind(e),e.onTouchMove=D.bind(e),e.onTouchEnd=N.bind(e),a.cssMode&&(e.onScroll=H.bind(e)),e.onClick=B.bind(e);var d=!!a.nested;if(!l.touch&&l.pointerEvents)s.addEventListener(i.start,e.onTouchStart,!1),t.addEventListener(i.move,e.onTouchMove,d),t.addEventListener(i.end,e.onTouchEnd,!1);else{if(l.touch){var p=!("touchstart"!==i.start||!l.passiveListener||!a.passiveListeners)&&{passive:!0,capture:!1};s.addEventListener(i.start,e.onTouchStart,p),s.addEventListener(i.move,e.onTouchMove,l.passiveListener?{passive:!1,capture:d}:d),s.addEventListener(i.end,e.onTouchEnd,p),i.cancel&&s.addEventListener(i.cancel,e.onTouchEnd,p),X||(t.addEventListener("touchstart",Y),X=!0)}(a.simulateTouch&&!o.ios&&!o.android||a.simulateTouch&&!l.touch&&o.ios)&&(s.addEventListener("mousedown",e.onTouchStart,!1),t.addEventListener("mousemove",e.onTouchMove,d),t.addEventListener("mouseup",e.onTouchEnd,!1))}(a.preventClicks||a.preventClicksPropagation)&&s.addEventListener("click",e.onClick,!0),a.cssMode&&n.addEventListener("scroll",e.onScroll),a.updateOnWindowResize?e.on(o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",G,!0):e.on("observerUpdate",G,!0)},detachEvents:function(){var e=this,t=r(),a=e.params,i=e.touchEvents,s=e.el,n=e.wrapperEl,o=e.device,l=e.support,d=!!a.nested;if(!l.touch&&l.pointerEvents)s.removeEventListener(i.start,e.onTouchStart,!1),t.removeEventListener(i.move,e.onTouchMove,d),t.removeEventListener(i.end,e.onTouchEnd,!1);else{if(l.touch){var p=!("onTouchStart"!==i.start||!l.passiveListener||!a.passiveListeners)&&{passive:!0,capture:!1};s.removeEventListener(i.start,e.onTouchStart,p),s.removeEventListener(i.move,e.onTouchMove,d),s.removeEventListener(i.end,e.onTouchEnd,p),i.cancel&&s.removeEventListener(i.cancel,e.onTouchEnd,p)}(a.simulateTouch&&!o.ios&&!o.android||a.simulateTouch&&!l.touch&&o.ios)&&(s.removeEventListener("mousedown",e.onTouchStart,!1),t.removeEventListener("mousemove",e.onTouchMove,d),t.removeEventListener("mouseup",e.onTouchEnd,!1))}(a.preventClicks||a.preventClicksPropagation)&&s.removeEventListener("click",e.onClick,!0),a.cssMode&&n.removeEventListener("scroll",e.onScroll),e.off(o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",G)}},breakpoints:{setBreakpoint:function(){var e=this,t=e.activeIndex,a=e.initialized,i=e.loopedSlides,s=void 0===i?0:i,r=e.params,n=e.$el,o=r.breakpoints;if(o&&(!o||0!==Object.keys(o).length)){var l=e.getBreakpoint(o,e.params.breakpointsBase,e.el);if(l&&e.currentBreakpoint!==l){var d=l in o?o[l]:void 0;d&&["slidesPerView","spaceBetween","slidesPerGroup","slidesPerGroupSkip","slidesPerColumn"].forEach((function(e){var t=d[e];void 0!==t&&(d[e]="slidesPerView"!==e||"AUTO"!==t&&"auto"!==t?"slidesPerView"===e?parseFloat(t):parseInt(t,10):"auto")}));var p=d||e.originalParams,c=r.slidesPerColumn>1,u=p.slidesPerColumn>1;c&&!u?(n.removeClass(r.containerModifierClass+"multirow "+r.containerModifierClass+"multirow-column"),e.emitContainerClasses()):!c&&u&&(n.addClass(r.containerModifierClass+"multirow"),"column"===p.slidesPerColumnFill&&n.addClass(r.containerModifierClass+"multirow-column"),e.emitContainerClasses());var h=p.direction&&p.direction!==r.direction,v=r.loop&&(p.slidesPerView!==r.slidesPerView||h);h&&a&&e.changeDirection(),C(e.params,p),C(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),e.currentBreakpoint=l,e.emit("_beforeBreakpoint",p),v&&a&&(e.loopDestroy(),e.loopCreate(),e.updateSlides(),e.slideTo(t-s+e.loopedSlides,0,!1)),e.emit("breakpoint",p)}}},getBreakpoint:function(e,t,a){if(void 0===t&&(t="window"),e&&("container"!==t||a)){var i=!1,s=o(),r="window"===t?s.innerWidth:a.clientWidth,n="window"===t?s.innerHeight:a.clientHeight,l=Object.keys(e).map((function(e){if("string"==typeof e&&0===e.indexOf("@")){var t=parseFloat(e.substr(1));return{value:n*t,point:e}}return{value:e,point:e}}));l.sort((function(e,t){return parseInt(e.value,10)-parseInt(t.value,10)}));for(var d=0;d<l.length;d+=1){var p=l[d],c=p.point;p.value<=r&&(i=c)}return i||"max"}}},checkOverflow:{checkOverflow:function(){var e=this,t=e.params,a=e.isLocked,i=e.slides.length>0&&t.slidesOffsetBefore+t.spaceBetween*(e.slides.length-1)+e.slides[0].offsetWidth*e.slides.length;t.slidesOffsetBefore&&t.slidesOffsetAfter&&i?e.isLocked=i<=e.size:e.isLocked=1===e.snapGrid.length,e.allowSlideNext=!e.isLocked,e.allowSlidePrev=!e.isLocked,a!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock"),a&&a!==e.isLocked&&(e.isEnd=!1,e.navigation&&e.navigation.update())}},classes:{addClasses:function(){var e,t,a,i=this,s=i.classNames,r=i.params,n=i.rtl,o=i.$el,l=i.device,d=i.support,p=(e=["initialized",r.direction,{"pointer-events":d.pointerEvents&&!d.touch},{"free-mode":r.freeMode},{autoheight:r.autoHeight},{rtl:n},{multirow:r.slidesPerColumn>1},{"multirow-column":r.slidesPerColumn>1&&"column"===r.slidesPerColumnFill},{android:l.android},{ios:l.ios},{"css-mode":r.cssMode}],t=r.containerModifierClass,a=[],e.forEach((function(e){"object"==typeof e?Object.keys(e).forEach((function(i){e[i]&&a.push(t+i)})):"string"==typeof e&&a.push(t+e)})),a);s.push.apply(s,p),o.addClass([].concat(s).join(" ")),i.emitContainerClasses()},removeClasses:function(){var e=this,t=e.$el,a=e.classNames;t.removeClass(a.join(" ")),e.emitContainerClasses()}},images:{loadImage:function(e,t,a,i,s,r){var n,l=o();function d(){r&&r()}m(e).parent("picture")[0]||e.complete&&s?d():t?((n=new l.Image).onload=d,n.onerror=d,i&&(n.sizes=i),a&&(n.srcset=a),t&&(n.src=t)):d()},preloadImages:function(){var e=this;function t(){null!=e&&e&&!e.destroyed&&(void 0!==e.imagesLoaded&&(e.imagesLoaded+=1),e.imagesLoaded===e.imagesToLoad.length&&(e.params.updateOnImagesReady&&e.update(),e.emit("imagesReady")))}e.imagesToLoad=e.$el.find("img");for(var a=0;a<e.imagesToLoad.length;a+=1){var i=e.imagesToLoad[a];e.loadImage(i,i.currentSrc||i.getAttribute("src"),i.srcset||i.getAttribute("srcset"),i.sizes||i.getAttribute("sizes"),!0,t)}}}},W={},F=function(){function t(){for(var e,a,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];if(1===s.length&&s[0].constructor&&"Object"===Object.prototype.toString.call(s[0]).slice(8,-1)?a=s[0]:(e=s[0],a=s[1]),a||(a={}),a=C({},a),e&&!a.el&&(a.el=e),a.el&&m(a.el).length>1){var n=[];return m(a.el).each((function(e){var i=C({},a,{el:e});n.push(new t(i))})),n}var o=this;o.__swiper__=!0,o.support=P(),o.device=k({userAgent:a.userAgent}),o.browser=L(),o.eventsListeners={},o.eventsAnyListeners=[],void 0===o.modules&&(o.modules={}),Object.keys(o.modules).forEach((function(e){var t=o.modules[e];if(t.params){var i=Object.keys(t.params)[0],s=t.params[i];if("object"!=typeof s||null===s)return;if(!(i in a)||!("enabled"in s))return;!0===a[i]&&(a[i]={enabled:!0}),"object"!=typeof a[i]||"enabled"in a[i]||(a[i].enabled=!0),a[i]||(a[i]={enabled:!1})}}));var l,d,p=C({},R);return o.useParams(p),o.params=C({},p,W,a),o.originalParams=C({},o.params),o.passedParams=C({},a),o.params&&o.params.on&&Object.keys(o.params.on).forEach((function(e){o.on(e,o.params.on[e])})),o.params&&o.params.onAny&&o.onAny(o.params.onAny),o.$=m,C(o,{el:e,classNames:[],slides:m(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===o.params.direction},isVertical:function(){return"vertical"===o.params.direction},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEvents:(l=["touchstart","touchmove","touchend","touchcancel"],d=["mousedown","mousemove","mouseup"],o.support.pointerEvents&&(d=["pointerdown","pointermove","pointerup"]),o.touchEventsTouch={start:l[0],move:l[1],end:l[2],cancel:l[3]},o.touchEventsDesktop={start:d[0],move:d[1],end:d[2]},o.support.touch||!o.params.simulateTouch?o.touchEventsTouch:o.touchEventsDesktop),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,formElements:"input, select, option, textarea, button, video, label",lastClickTime:x(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.useModules(),o.emit("_swiper"),o.params.init&&o.init(),o}var a,i,s,r=t.prototype;return r.setProgress=function(e,t){var a=this;e=Math.min(Math.max(e,0),1);var i=a.minTranslate(),s=(a.maxTranslate()-i)*e+i;a.translateTo(s,void 0===t?0:t),a.updateActiveIndex(),a.updateSlidesClasses()},r.emitContainerClasses=function(){var e=this;if(e.params._emitClasses&&e.el){var t=e.el.className.split(" ").filter((function(t){return 0===t.indexOf("swiper-container")||0===t.indexOf(e.params.containerModifierClass)}));e.emit("_containerClasses",t.join(" "))}},r.getSlideClasses=function(e){var t=this;return e.className.split(" ").filter((function(e){return 0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass)})).join(" ")},r.emitSlidesClasses=function(){var e=this;if(e.params._emitClasses&&e.el){var t=[];e.slides.each((function(a){var i=e.getSlideClasses(a);t.push({slideEl:a,classNames:i}),e.emit("_slideClass",a,i)})),e.emit("_slideClasses",t)}},r.slidesPerViewDynamic=function(){var e=this,t=e.params,a=e.slides,i=e.slidesGrid,s=e.size,r=e.activeIndex,n=1;if(t.centeredSlides){for(var o,l=a[r].swiperSlideSize,d=r+1;d<a.length;d+=1)a[d]&&!o&&(n+=1,(l+=a[d].swiperSlideSize)>s&&(o=!0));for(var p=r-1;p>=0;p-=1)a[p]&&!o&&(n+=1,(l+=a[p].swiperSlideSize)>s&&(o=!0))}else for(var c=r+1;c<a.length;c+=1)i[c]-i[r]<s&&(n+=1);return n},r.update=function(){var e=this;if(e&&!e.destroyed){var t=e.snapGrid,a=e.params;a.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode?(i(),e.params.autoHeight&&e.updateAutoHeight()):(("auto"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0))||i(),a.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}function i(){var t=e.rtlTranslate?-1*e.translate:e.translate,a=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}},r.changeDirection=function(e,t){void 0===t&&(t=!0);var a=this,i=a.params.direction;return e||(e="horizontal"===i?"vertical":"horizontal"),e===i||"horizontal"!==e&&"vertical"!==e||(a.$el.removeClass(""+a.params.containerModifierClass+i).addClass(""+a.params.containerModifierClass+e),a.emitContainerClasses(),a.params.direction=e,a.slides.each((function(t){"vertical"===e?t.style.width="":t.style.height=""})),a.emit("changeDirection"),t&&a.update()),a},r.mount=function(e){var t=this;if(t.mounted)return!0;var a,i=m(e||t.params.el);return!!(e=i[0])&&(e.swiper=t,e&&e.shadowRoot&&e.shadowRoot.querySelector?(a=m(e.shadowRoot.querySelector("."+t.params.wrapperClass))).children=function(e){return i.children(e)}:a=i.children("."+t.params.wrapperClass),C(t,{$el:i,el:e,$wrapperEl:a,wrapperEl:a[0],mounted:!0,rtl:"rtl"===e.dir.toLowerCase()||"rtl"===i.css("direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===e.dir.toLowerCase()||"rtl"===i.css("direction")),wrongRTL:"-webkit-box"===a.css("display")}),!0)},r.init=function(e){var t=this;return t.initialized||!1===t.mount(e)||(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.params.loop&&t.loopCreate(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.setGrabCursor(),t.params.preloadImages&&t.preloadImages(),t.params.loop?t.slideTo(t.params.initialSlide+t.loopedSlides,0,t.params.runCallbacksOnInit):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit),t.attachEvents(),t.initialized=!0,t.emit("init"),t.emit("afterInit")),t},r.destroy=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);var a,i=this,s=i.params,r=i.$el,n=i.$wrapperEl,o=i.slides;return void 0===i.params||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),s.loop&&i.loopDestroy(),t&&(i.removeClasses(),r.removeAttr("style"),n.removeAttr("style"),o&&o.length&&o.removeClass([s.slideVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),i.emit("destroy"),Object.keys(i.eventsListeners).forEach((function(e){i.off(e)})),!1!==e&&(i.$el[0].swiper=null,a=i,Object.keys(a).forEach((function(e){try{a[e]=null}catch(e){}try{delete a[e]}catch(e){}}))),i.destroyed=!0),null},t.extendDefaults=function(e){C(W,e)},t.installModule=function(e){t.prototype.modules||(t.prototype.modules={});var a=e.name||Object.keys(t.prototype.modules).length+"_"+x();t.prototype.modules[a]=e},t.use=function(e){return Array.isArray(e)?(e.forEach((function(e){return t.installModule(e)})),t):(t.installModule(e),t)},a=t,s=[{key:"extendedDefaults",get:function(){return W}},{key:"defaults",get:function(){return R}}],(i=null)&&e(a.prototype,i),s&&e(a,s),t}();Object.keys(V).forEach((function(e){Object.keys(V[e]).forEach((function(t){F.prototype[t]=V[e][t]}))})),F.use([$,O]);var _={update:function(e){var t=this,a=t.params,i=a.slidesPerView,s=a.slidesPerGroup,r=a.centeredSlides,n=t.params.virtual,o=n.addSlidesBefore,l=n.addSlidesAfter,d=t.virtual,p=d.from,c=d.to,u=d.slides,h=d.slidesGrid,v=d.renderSlide,f=d.offset;t.updateActiveIndex();var m,g,b,w=t.activeIndex||0;m=t.rtlTranslate?"right":t.isHorizontal()?"left":"top",r?(g=Math.floor(i/2)+s+l,b=Math.floor(i/2)+s+o):(g=i+(s-1)+l,b=s+o);var y=Math.max((w||0)-b,0),E=Math.min((w||0)+g,u.length-1),x=(t.slidesGrid[y]||0)-(t.slidesGrid[0]||0);function T(){t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.lazy&&t.params.lazy.enabled&&t.lazy.load()}if(C(t.virtual,{from:y,to:E,offset:x,slidesGrid:t.slidesGrid}),p===y&&c===E&&!e)return t.slidesGrid!==h&&x!==f&&t.slides.css(m,x+"px"),void t.updateProgress();if(t.params.virtual.renderExternal)return t.params.virtual.renderExternal.call(t,{offset:x,from:y,to:E,slides:function(){for(var e=[],t=y;t<=E;t+=1)e.push(u[t]);return e}()}),void(t.params.virtual.renderExternalUpdate&&T());var S=[],M=[];if(e)t.$wrapperEl.find("."+t.params.slideClass).remove();else for(var z=p;z<=c;z+=1)(z<y||z>E)&&t.$wrapperEl.find("."+t.params.slideClass+'[data-swiper-slide-index="'+z+'"]').remove();for(var P=0;P<u.length;P+=1)P>=y&&P<=E&&(void 0===c||e?M.push(P):(P>c&&M.push(P),P<p&&S.push(P)));M.forEach((function(e){t.$wrapperEl.append(v(u[e],e))})),S.sort((function(e,t){return t-e})).forEach((function(e){t.$wrapperEl.prepend(v(u[e],e))})),t.$wrapperEl.children(".swiper-slide").css(m,x+"px"),T()},renderSlide:function(e,t){var a=this,i=a.params.virtual;if(i.cache&&a.virtual.cache[t])return a.virtual.cache[t];var s=i.renderSlide?m(i.renderSlide.call(a,e,t)):m('<div class="'+a.params.slideClass+'" data-swiper-slide-index="'+t+'">'+e+"</div>");return s.attr("data-swiper-slide-index")||s.attr("data-swiper-slide-index",t),i.cache&&(a.virtual.cache[t]=s),s},appendSlide:function(e){var t=this;if("object"==typeof e&&"length"in e)for(var a=0;a<e.length;a+=1)e[a]&&t.virtual.slides.push(e[a]);else t.virtual.slides.push(e);t.virtual.update(!0)},prependSlide:function(e){var t=this,a=t.activeIndex,i=a+1,s=1;if(Array.isArray(e)){for(var r=0;r<e.length;r+=1)e[r]&&t.virtual.slides.unshift(e[r]);i=a+e.length,s=e.length}else t.virtual.slides.unshift(e);if(t.params.virtual.cache){var n=t.virtual.cache,o={};Object.keys(n).forEach((function(e){var t=n[e],a=t.attr("data-swiper-slide-index");a&&t.attr("data-swiper-slide-index",parseInt(a,10)+1),o[parseInt(e,10)+s]=t})),t.virtual.cache=o}t.virtual.update(!0),t.slideTo(i,0)},removeSlide:function(e){var t=this;if(null!=e){var a=t.activeIndex;if(Array.isArray(e))for(var i=e.length-1;i>=0;i-=1)t.virtual.slides.splice(e[i],1),t.params.virtual.cache&&delete t.virtual.cache[e[i]],e[i]<a&&(a-=1),a=Math.max(a,0);else t.virtual.slides.splice(e,1),t.params.virtual.cache&&delete t.virtual.cache[e],e<a&&(a-=1),a=Math.max(a,0);t.virtual.update(!0),t.slideTo(a,0)}},removeAllSlides:function(){var e=this;e.virtual.slides=[],e.params.virtual.cache&&(e.virtual.cache={}),e.virtual.update(!0),e.slideTo(0,0)}},q={name:"virtual",params:{virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}},create:function(){M(this,{virtual:t({},_,{slides:this.params.virtual.slides,cache:{}})})},on:{beforeInit:function(e){if(e.params.virtual.enabled){e.classNames.push(e.params.containerModifierClass+"virtual");var t={watchSlidesProgress:!0};C(e.params,t),C(e.originalParams,t),e.params.initialSlide||e.virtual.update()}},setTranslate:function(e){e.params.virtual.enabled&&e.virtual.update()}}},j={handle:function(e){var t=this,a=o(),i=r(),s=t.rtlTranslate,n=e;n.originalEvent&&(n=n.originalEvent);var l=n.keyCode||n.charCode,d=t.params.keyboard.pageUpDown,p=d&&33===l,c=d&&34===l,u=37===l,h=39===l,v=38===l,f=40===l;if(!t.allowSlideNext&&(t.isHorizontal()&&h||t.isVertical()&&f||c))return!1;if(!t.allowSlidePrev&&(t.isHorizontal()&&u||t.isVertical()&&v||p))return!1;if(!(n.shiftKey||n.altKey||n.ctrlKey||n.metaKey||i.activeElement&&i.activeElement.nodeName&&("input"===i.activeElement.nodeName.toLowerCase()||"textarea"===i.activeElement.nodeName.toLowerCase()))){if(t.params.keyboard.onlyInViewport&&(p||c||u||h||v||f)){var m=!1;if(t.$el.parents("."+t.params.slideClass).length>0&&0===t.$el.parents("."+t.params.slideActiveClass).length)return;var g=t.$el,b=g[0].clientWidth,w=g[0].clientHeight,y=a.innerWidth,E=a.innerHeight,x=t.$el.offset();s&&(x.left-=t.$el[0].scrollLeft);for(var T=[[x.left,x.top],[x.left+b,x.top],[x.left,x.top+w],[x.left+b,x.top+w]],S=0;S<T.length;S+=1){var C=T[S];if(C[0]>=0&&C[0]<=y&&C[1]>=0&&C[1]<=E){if(0===C[0]&&0===C[1])continue;m=!0}}if(!m)return}t.isHorizontal()?((p||c||u||h)&&(n.preventDefault?n.preventDefault():n.returnValue=!1),((c||h)&&!s||(p||u)&&s)&&t.slideNext(),((p||u)&&!s||(c||h)&&s)&&t.slidePrev()):((p||c||v||f)&&(n.preventDefault?n.preventDefault():n.returnValue=!1),(c||f)&&t.slideNext(),(p||v)&&t.slidePrev()),t.emit("keyPress",l)}},enable:function(){var e=this,t=r();e.keyboard.enabled||(m(t).on("keydown",e.keyboard.handle),e.keyboard.enabled=!0)},disable:function(){var e=this,t=r();e.keyboard.enabled&&(m(t).off("keydown",e.keyboard.handle),e.keyboard.enabled=!1)}},U={name:"keyboard",params:{keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}},create:function(){M(this,{keyboard:t({enabled:!1},j)})},on:{init:function(e){e.params.keyboard.enabled&&e.keyboard.enable()},destroy:function(e){e.keyboard.enabled&&e.keyboard.disable()}}};var K={lastScrollTime:x(),lastEventBeforeSnap:void 0,recentWheelEvents:[],event:function(){return o().navigator.userAgent.indexOf("firefox")>-1?"DOMMouseScroll":function(){var e=r(),t="onwheel",a=t in e;if(!a){var i=e.createElement("div");i.setAttribute(t,"return;"),a="function"==typeof i.onwheel}return!a&&e.implementation&&e.implementation.hasFeature&&!0!==e.implementation.hasFeature("","")&&(a=e.implementation.hasFeature("Events.wheel","3.0")),a}()?"wheel":"mousewheel"},normalize:function(e){var t=0,a=0,i=0,s=0;return"detail"in e&&(a=e.detail),"wheelDelta"in e&&(a=-e.wheelDelta/120),"wheelDeltaY"in e&&(a=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=a,a=0),i=10*t,s=10*a,"deltaY"in e&&(s=e.deltaY),"deltaX"in e&&(i=e.deltaX),e.shiftKey&&!i&&(i=s,s=0),(i||s)&&e.deltaMode&&(1===e.deltaMode?(i*=40,s*=40):(i*=800,s*=800)),i&&!t&&(t=i<1?-1:1),s&&!a&&(a=s<1?-1:1),{spinX:t,spinY:a,pixelX:i,pixelY:s}},handleMouseEnter:function(){this.mouseEntered=!0},handleMouseLeave:function(){this.mouseEntered=!1},handle:function(e){var t=e,a=this,i=a.params.mousewheel;a.params.cssMode&&t.preventDefault();var s=a.$el;if("container"!==a.params.mousewheel.eventsTarget&&(s=m(a.params.mousewheel.eventsTarget)),!a.mouseEntered&&!s[0].contains(t.target)&&!i.releaseOnEdges)return!0;t.originalEvent&&(t=t.originalEvent);var r=0,n=a.rtlTranslate?-1:1,o=K.normalize(t);if(i.forceToAxis)if(a.isHorizontal()){if(!(Math.abs(o.pixelX)>Math.abs(o.pixelY)))return!0;r=-o.pixelX*n}else{if(!(Math.abs(o.pixelY)>Math.abs(o.pixelX)))return!0;r=-o.pixelY}else r=Math.abs(o.pixelX)>Math.abs(o.pixelY)?-o.pixelX*n:-o.pixelY;if(0===r)return!0;i.invert&&(r=-r);var l=a.getTranslate()+r*i.sensitivity;if(l>=a.minTranslate()&&(l=a.minTranslate()),l<=a.maxTranslate()&&(l=a.maxTranslate()),(!!a.params.loop||!(l===a.minTranslate()||l===a.maxTranslate()))&&a.params.nested&&t.stopPropagation(),a.params.freeMode){var d={time:x(),delta:Math.abs(r),direction:Math.sign(r)},p=a.mousewheel.lastEventBeforeSnap,c=p&&d.time<p.time+500&&d.delta<=p.delta&&d.direction===p.direction;if(!c){a.mousewheel.lastEventBeforeSnap=void 0,a.params.loop&&a.loopFix();var u=a.getTranslate()+r*i.sensitivity,h=a.isBeginning,v=a.isEnd;if(u>=a.minTranslate()&&(u=a.minTranslate()),u<=a.maxTranslate()&&(u=a.maxTranslate()),a.setTransition(0),a.setTranslate(u),a.updateProgress(),a.updateActiveIndex(),a.updateSlidesClasses(),(!h&&a.isBeginning||!v&&a.isEnd)&&a.updateSlidesClasses(),a.params.freeModeSticky){clearTimeout(a.mousewheel.timeout),a.mousewheel.timeout=void 0;var f=a.mousewheel.recentWheelEvents;f.length>=15&&f.shift();var g=f.length?f[f.length-1]:void 0,b=f[0];if(f.push(d),g&&(d.delta>g.delta||d.direction!==g.direction))f.splice(0);else if(f.length>=15&&d.time-b.time<500&&b.delta-d.delta>=1&&d.delta<=6){var w=r>0?.8:.2;a.mousewheel.lastEventBeforeSnap=d,f.splice(0),a.mousewheel.timeout=E((function(){a.slideToClosest(a.params.speed,!0,void 0,w)}),0)}a.mousewheel.timeout||(a.mousewheel.timeout=E((function(){a.mousewheel.lastEventBeforeSnap=d,f.splice(0),a.slideToClosest(a.params.speed,!0,void 0,.5)}),500))}if(c||a.emit("scroll",t),a.params.autoplay&&a.params.autoplayDisableOnInteraction&&a.autoplay.stop(),u===a.minTranslate()||u===a.maxTranslate())return!0}}else{var y={time:x(),delta:Math.abs(r),direction:Math.sign(r),raw:e},T=a.mousewheel.recentWheelEvents;T.length>=2&&T.shift();var S=T.length?T[T.length-1]:void 0;if(T.push(y),S?(y.direction!==S.direction||y.delta>S.delta||y.time>S.time+150)&&a.mousewheel.animateSlider(y):a.mousewheel.animateSlider(y),a.mousewheel.releaseScroll(y))return!0}return t.preventDefault?t.preventDefault():t.returnValue=!1,!1},animateSlider:function(e){var t=this,a=o();return!(this.params.mousewheel.thresholdDelta&&e.delta<this.params.mousewheel.thresholdDelta)&&(!(this.params.mousewheel.thresholdTime&&x()-t.mousewheel.lastScrollTime<this.params.mousewheel.thresholdTime)&&(e.delta>=6&&x()-t.mousewheel.lastScrollTime<60||(e.direction<0?t.isEnd&&!t.params.loop||t.animating||(t.slideNext(),t.emit("scroll",e.raw)):t.isBeginning&&!t.params.loop||t.animating||(t.slidePrev(),t.emit("scroll",e.raw)),t.mousewheel.lastScrollTime=(new a.Date).getTime(),!1)))},releaseScroll:function(e){var t=this,a=t.params.mousewheel;if(e.direction<0){if(t.isEnd&&!t.params.loop&&a.releaseOnEdges)return!0}else if(t.isBeginning&&!t.params.loop&&a.releaseOnEdges)return!0;return!1},enable:function(){var e=this,t=K.event();if(e.params.cssMode)return e.wrapperEl.removeEventListener(t,e.mousewheel.handle),!0;if(!t)return!1;if(e.mousewheel.enabled)return!1;var a=e.$el;return"container"!==e.params.mousewheel.eventsTarget&&(a=m(e.params.mousewheel.eventsTarget)),a.on("mouseenter",e.mousewheel.handleMouseEnter),a.on("mouseleave",e.mousewheel.handleMouseLeave),a.on(t,e.mousewheel.handle),e.mousewheel.enabled=!0,!0},disable:function(){var e=this,t=K.event();if(e.params.cssMode)return e.wrapperEl.addEventListener(t,e.mousewheel.handle),!0;if(!t)return!1;if(!e.mousewheel.enabled)return!1;var a=e.$el;return"container"!==e.params.mousewheel.eventsTarget&&(a=m(e.params.mousewheel.eventsTarget)),a.off(t,e.mousewheel.handle),e.mousewheel.enabled=!1,!0}},Z={toggleEl:function(e,t){e[t?"addClass":"removeClass"](this.params.navigation.disabledClass),e[0]&&"BUTTON"===e[0].tagName&&(e[0].disabled=t)},update:function(){var e=this,t=e.params.navigation,a=e.navigation.toggleEl;if(!e.params.loop){var i=e.navigation,s=i.$nextEl,r=i.$prevEl;r&&r.length>0&&(e.isBeginning?a(r,!0):a(r,!1),r[e.params.watchOverflow&&e.isLocked?"addClass":"removeClass"](t.lockClass)),s&&s.length>0&&(e.isEnd?a(s,!0):a(s,!1),s[e.params.watchOverflow&&e.isLocked?"addClass":"removeClass"](t.lockClass))}},onPrevClick:function(e){var t=this;e.preventDefault(),t.isBeginning&&!t.params.loop||t.slidePrev()},onNextClick:function(e){var t=this;e.preventDefault(),t.isEnd&&!t.params.loop||t.slideNext()},init:function(){var e,t,a=this,i=a.params.navigation;(i.nextEl||i.prevEl)&&(i.nextEl&&(e=m(i.nextEl),a.params.uniqueNavElements&&"string"==typeof i.nextEl&&e.length>1&&1===a.$el.find(i.nextEl).length&&(e=a.$el.find(i.nextEl))),i.prevEl&&(t=m(i.prevEl),a.params.uniqueNavElements&&"string"==typeof i.prevEl&&t.length>1&&1===a.$el.find(i.prevEl).length&&(t=a.$el.find(i.prevEl))),e&&e.length>0&&e.on("click",a.navigation.onNextClick),t&&t.length>0&&t.on("click",a.navigation.onPrevClick),C(a.navigation,{$nextEl:e,nextEl:e&&e[0],$prevEl:t,prevEl:t&&t[0]}))},destroy:function(){var e=this,t=e.navigation,a=t.$nextEl,i=t.$prevEl;a&&a.length&&(a.off("click",e.navigation.onNextClick),a.removeClass(e.params.navigation.disabledClass)),i&&i.length&&(i.off("click",e.navigation.onPrevClick),i.removeClass(e.params.navigation.disabledClass))}},J={update:function(){var e=this,t=e.rtl,a=e.params.pagination;if(a.el&&e.pagination.el&&e.pagination.$el&&0!==e.pagination.$el.length){var i,s=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,r=e.pagination.$el,n=e.params.loop?Math.ceil((s-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?((i=Math.ceil((e.activeIndex-e.loopedSlides)/e.params.slidesPerGroup))>s-1-2*e.loopedSlides&&(i-=s-2*e.loopedSlides),i>n-1&&(i-=n),i<0&&"bullets"!==e.params.paginationType&&(i=n+i)):i=void 0!==e.snapIndex?e.snapIndex:e.activeIndex||0,"bullets"===a.type&&e.pagination.bullets&&e.pagination.bullets.length>0){var o,l,d,p=e.pagination.bullets;if(a.dynamicBullets&&(e.pagination.bulletSize=p.eq(0)[e.isHorizontal()?"outerWidth":"outerHeight"](!0),r.css(e.isHorizontal()?"width":"height",e.pagination.bulletSize*(a.dynamicMainBullets+4)+"px"),a.dynamicMainBullets>1&&void 0!==e.previousIndex&&(e.pagination.dynamicBulletIndex+=i-e.previousIndex,e.pagination.dynamicBulletIndex>a.dynamicMainBullets-1?e.pagination.dynamicBulletIndex=a.dynamicMainBullets-1:e.pagination.dynamicBulletIndex<0&&(e.pagination.dynamicBulletIndex=0)),o=i-e.pagination.dynamicBulletIndex,d=((l=o+(Math.min(p.length,a.dynamicMainBullets)-1))+o)/2),p.removeClass(a.bulletActiveClass+" "+a.bulletActiveClass+"-next "+a.bulletActiveClass+"-next-next "+a.bulletActiveClass+"-prev "+a.bulletActiveClass+"-prev-prev "+a.bulletActiveClass+"-main"),r.length>1)p.each((function(e){var t=m(e),s=t.index();s===i&&t.addClass(a.bulletActiveClass),a.dynamicBullets&&(s>=o&&s<=l&&t.addClass(a.bulletActiveClass+"-main"),s===o&&t.prev().addClass(a.bulletActiveClass+"-prev").prev().addClass(a.bulletActiveClass+"-prev-prev"),s===l&&t.next().addClass(a.bulletActiveClass+"-next").next().addClass(a.bulletActiveClass+"-next-next"))}));else{var c=p.eq(i),u=c.index();if(c.addClass(a.bulletActiveClass),a.dynamicBullets){for(var h=p.eq(o),v=p.eq(l),f=o;f<=l;f+=1)p.eq(f).addClass(a.bulletActiveClass+"-main");if(e.params.loop)if(u>=p.length-a.dynamicMainBullets){for(var g=a.dynamicMainBullets;g>=0;g-=1)p.eq(p.length-g).addClass(a.bulletActiveClass+"-main");p.eq(p.length-a.dynamicMainBullets-1).addClass(a.bulletActiveClass+"-prev")}else h.prev().addClass(a.bulletActiveClass+"-prev").prev().addClass(a.bulletActiveClass+"-prev-prev"),v.next().addClass(a.bulletActiveClass+"-next").next().addClass(a.bulletActiveClass+"-next-next");else h.prev().addClass(a.bulletActiveClass+"-prev").prev().addClass(a.bulletActiveClass+"-prev-prev"),v.next().addClass(a.bulletActiveClass+"-next").next().addClass(a.bulletActiveClass+"-next-next")}}if(a.dynamicBullets){var b=Math.min(p.length,a.dynamicMainBullets+4),w=(e.pagination.bulletSize*b-e.pagination.bulletSize)/2-d*e.pagination.bulletSize,y=t?"right":"left";p.css(e.isHorizontal()?y:"top",w+"px")}}if("fraction"===a.type&&(r.find(z(a.currentClass)).text(a.formatFractionCurrent(i+1)),r.find(z(a.totalClass)).text(a.formatFractionTotal(n))),"progressbar"===a.type){var E;E=a.progressbarOpposite?e.isHorizontal()?"vertical":"horizontal":e.isHorizontal()?"horizontal":"vertical";var x=(i+1)/n,T=1,S=1;"horizontal"===E?T=x:S=x,r.find(z(a.progressbarFillClass)).transform("translate3d(0,0,0) scaleX("+T+") scaleY("+S+")").transition(e.params.speed)}"custom"===a.type&&a.renderCustom?(r.html(a.renderCustom(e,i+1,n)),e.emit("paginationRender",r[0])):e.emit("paginationUpdate",r[0]),r[e.params.watchOverflow&&e.isLocked?"addClass":"removeClass"](a.lockClass)}},render:function(){var e=this,t=e.params.pagination;if(t.el&&e.pagination.el&&e.pagination.$el&&0!==e.pagination.$el.length){var a=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,i=e.pagination.$el,s="";if("bullets"===t.type){var r=e.params.loop?Math.ceil((a-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&!e.params.loop&&r>a&&(r=a);for(var n=0;n<r;n+=1)t.renderBullet?s+=t.renderBullet.call(e,n,t.bulletClass):s+="<"+t.bulletElement+' class="'+t.bulletClass+'"></'+t.bulletElement+">";i.html(s),e.pagination.bullets=i.find(z(t.bulletClass))}"fraction"===t.type&&(s=t.renderFraction?t.renderFraction.call(e,t.currentClass,t.totalClass):'<span class="'+t.currentClass+'"></span> / <span class="'+t.totalClass+'"></span>',i.html(s)),"progressbar"===t.type&&(s=t.renderProgressbar?t.renderProgressbar.call(e,t.progressbarFillClass):'<span class="'+t.progressbarFillClass+'"></span>',i.html(s)),"custom"!==t.type&&e.emit("paginationRender",e.pagination.$el[0])}},init:function(){var e=this,t=e.params.pagination;if(t.el){var a=m(t.el);0!==a.length&&(e.params.uniqueNavElements&&"string"==typeof t.el&&a.length>1&&(a=e.$el.find(t.el)),"bullets"===t.type&&t.clickable&&a.addClass(t.clickableClass),a.addClass(t.modifierClass+t.type),"bullets"===t.type&&t.dynamicBullets&&(a.addClass(""+t.modifierClass+t.type+"-dynamic"),e.pagination.dynamicBulletIndex=0,t.dynamicMainBullets<1&&(t.dynamicMainBullets=1)),"progressbar"===t.type&&t.progressbarOpposite&&a.addClass(t.progressbarOppositeClass),t.clickable&&a.on("click",z(t.bulletClass),(function(t){t.preventDefault();var a=m(this).index()*e.params.slidesPerGroup;e.params.loop&&(a+=e.loopedSlides),e.slideTo(a)})),C(e.pagination,{$el:a,el:a[0]}))}},destroy:function(){var e=this,t=e.params.pagination;if(t.el&&e.pagination.el&&e.pagination.$el&&0!==e.pagination.$el.length){var a=e.pagination.$el;a.removeClass(t.hiddenClass),a.removeClass(t.modifierClass+t.type),e.pagination.bullets&&e.pagination.bullets.removeClass(t.bulletActiveClass),t.clickable&&a.off("click",z(t.bulletClass))}}},Q={setTranslate:function(){var e=this;if(e.params.scrollbar.el&&e.scrollbar.el){var t=e.scrollbar,a=e.rtlTranslate,i=e.progress,s=t.dragSize,r=t.trackSize,n=t.$dragEl,o=t.$el,l=e.params.scrollbar,d=s,p=(r-s)*i;a?(p=-p)>0?(d=s-p,p=0):-p+s>r&&(d=r+p):p<0?(d=s+p,p=0):p+s>r&&(d=r-p),e.isHorizontal()?(n.transform("translate3d("+p+"px, 0, 0)"),n[0].style.width=d+"px"):(n.transform("translate3d(0px, "+p+"px, 0)"),n[0].style.height=d+"px"),l.hide&&(clearTimeout(e.scrollbar.timeout),o[0].style.opacity=1,e.scrollbar.timeout=setTimeout((function(){o[0].style.opacity=0,o.transition(400)}),1e3))}},setTransition:function(e){var t=this;t.params.scrollbar.el&&t.scrollbar.el&&t.scrollbar.$dragEl.transition(e)},updateSize:function(){var e=this;if(e.params.scrollbar.el&&e.scrollbar.el){var t=e.scrollbar,a=t.$dragEl,i=t.$el;a[0].style.width="",a[0].style.height="";var s,r=e.isHorizontal()?i[0].offsetWidth:i[0].offsetHeight,n=e.size/e.virtualSize,o=n*(r/e.size);s="auto"===e.params.scrollbar.dragSize?r*n:parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?a[0].style.width=s+"px":a[0].style.height=s+"px",i[0].style.display=n>=1?"none":"",e.params.scrollbar.hide&&(i[0].style.opacity=0),C(t,{trackSize:r,divider:n,moveDivider:o,dragSize:s}),t.$el[e.params.watchOverflow&&e.isLocked?"addClass":"removeClass"](e.params.scrollbar.lockClass)}},getPointerPosition:function(e){return this.isHorizontal()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].clientX:e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].clientY:e.clientY},setDragPosition:function(e){var t,a=this,i=a.scrollbar,s=a.rtlTranslate,r=i.$el,n=i.dragSize,o=i.trackSize,l=i.dragStartPos;t=(i.getPointerPosition(e)-r.offset()[a.isHorizontal()?"left":"top"]-(null!==l?l:n/2))/(o-n),t=Math.max(Math.min(t,1),0),s&&(t=1-t);var d=a.minTranslate()+(a.maxTranslate()-a.minTranslate())*t;a.updateProgress(d),a.setTranslate(d),a.updateActiveIndex(),a.updateSlidesClasses()},onDragStart:function(e){var t=this,a=t.params.scrollbar,i=t.scrollbar,s=t.$wrapperEl,r=i.$el,n=i.$dragEl;t.scrollbar.isTouched=!0,t.scrollbar.dragStartPos=e.target===n[0]||e.target===n?i.getPointerPosition(e)-e.target.getBoundingClientRect()[t.isHorizontal()?"left":"top"]:null,e.preventDefault(),e.stopPropagation(),s.transition(100),n.transition(100),i.setDragPosition(e),clearTimeout(t.scrollbar.dragTimeout),r.transition(0),a.hide&&r.css("opacity",1),t.params.cssMode&&t.$wrapperEl.css("scroll-snap-type","none"),t.emit("scrollbarDragStart",e)},onDragMove:function(e){var t=this,a=t.scrollbar,i=t.$wrapperEl,s=a.$el,r=a.$dragEl;t.scrollbar.isTouched&&(e.preventDefault?e.preventDefault():e.returnValue=!1,a.setDragPosition(e),i.transition(0),s.transition(0),r.transition(0),t.emit("scrollbarDragMove",e))},onDragEnd:function(e){var t=this,a=t.params.scrollbar,i=t.scrollbar,s=t.$wrapperEl,r=i.$el;t.scrollbar.isTouched&&(t.scrollbar.isTouched=!1,t.params.cssMode&&(t.$wrapperEl.css("scroll-snap-type",""),s.transition("")),a.hide&&(clearTimeout(t.scrollbar.dragTimeout),t.scrollbar.dragTimeout=E((function(){r.css("opacity",0),r.transition(400)}),1e3)),t.emit("scrollbarDragEnd",e),a.snapOnRelease&&t.slideToClosest())},enableDraggable:function(){var e=this;if(e.params.scrollbar.el){var t=r(),a=e.scrollbar,i=e.touchEventsTouch,s=e.touchEventsDesktop,n=e.params,o=e.support,l=a.$el[0],d=!(!o.passiveListener||!n.passiveListeners)&&{passive:!1,capture:!1},p=!(!o.passiveListener||!n.passiveListeners)&&{passive:!0,capture:!1};l&&(o.touch?(l.addEventListener(i.start,e.scrollbar.onDragStart,d),l.addEventListener(i.move,e.scrollbar.onDragMove,d),l.addEventListener(i.end,e.scrollbar.onDragEnd,p)):(l.addEventListener(s.start,e.scrollbar.onDragStart,d),t.addEventListener(s.move,e.scrollbar.onDragMove,d),t.addEventListener(s.end,e.scrollbar.onDragEnd,p)))}},disableDraggable:function(){var e=this;if(e.params.scrollbar.el){var t=r(),a=e.scrollbar,i=e.touchEventsTouch,s=e.touchEventsDesktop,n=e.params,o=e.support,l=a.$el[0],d=!(!o.passiveListener||!n.passiveListeners)&&{passive:!1,capture:!1},p=!(!o.passiveListener||!n.passiveListeners)&&{passive:!0,capture:!1};l&&(o.touch?(l.removeEventListener(i.start,e.scrollbar.onDragStart,d),l.removeEventListener(i.move,e.scrollbar.onDragMove,d),l.removeEventListener(i.end,e.scrollbar.onDragEnd,p)):(l.removeEventListener(s.start,e.scrollbar.onDragStart,d),t.removeEventListener(s.move,e.scrollbar.onDragMove,d),t.removeEventListener(s.end,e.scrollbar.onDragEnd,p)))}},init:function(){var e=this;if(e.params.scrollbar.el){var t=e.scrollbar,a=e.$el,i=e.params.scrollbar,s=m(i.el);e.params.uniqueNavElements&&"string"==typeof i.el&&s.length>1&&1===a.find(i.el).length&&(s=a.find(i.el));var r=s.find("."+e.params.scrollbar.dragClass);0===r.length&&(r=m('<div class="'+e.params.scrollbar.dragClass+'"></div>'),s.append(r)),C(t,{$el:s,el:s[0],$dragEl:r,dragEl:r[0]}),i.draggable&&t.enableDraggable()}},destroy:function(){this.scrollbar.disableDraggable()}},ee={setTransform:function(e,t){var a=this.rtl,i=m(e),s=a?-1:1,r=i.attr("data-swiper-parallax")||"0",n=i.attr("data-swiper-parallax-x"),o=i.attr("data-swiper-parallax-y"),l=i.attr("data-swiper-parallax-scale"),d=i.attr("data-swiper-parallax-opacity");if(n||o?(n=n||"0",o=o||"0"):this.isHorizontal()?(n=r,o="0"):(o=r,n="0"),n=n.indexOf("%")>=0?parseInt(n,10)*t*s+"%":n*t*s+"px",o=o.indexOf("%")>=0?parseInt(o,10)*t+"%":o*t+"px",null!=d){var p=d-(d-1)*(1-Math.abs(t));i[0].style.opacity=p}if(null==l)i.transform("translate3d("+n+", "+o+", 0px)");else{var c=l-(l-1)*(1-Math.abs(t));i.transform("translate3d("+n+", "+o+", 0px) scale("+c+")")}},setTranslate:function(){var e=this,t=e.$el,a=e.slides,i=e.progress,s=e.snapGrid;t.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each((function(t){e.parallax.setTransform(t,i)})),a.each((function(t,a){var r=t.progress;e.params.slidesPerGroup>1&&"auto"!==e.params.slidesPerView&&(r+=Math.ceil(a/2)-i*(s.length-1)),r=Math.min(Math.max(r,-1),1),m(t).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each((function(t){e.parallax.setTransform(t,r)}))}))},setTransition:function(e){void 0===e&&(e=this.params.speed);this.$el.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each((function(t){var a=m(t),i=parseInt(a.attr("data-swiper-parallax-duration"),10)||e;0===e&&(i=0),a.transition(i)}))}},te={getDistanceBetweenTouches:function(e){if(e.targetTouches.length<2)return 1;var t=e.targetTouches[0].pageX,a=e.targetTouches[0].pageY,i=e.targetTouches[1].pageX,s=e.targetTouches[1].pageY;return Math.sqrt(Math.pow(i-t,2)+Math.pow(s-a,2))},onGestureStart:function(e){var t=this,a=t.support,i=t.params.zoom,s=t.zoom,r=s.gesture;if(s.fakeGestureTouched=!1,s.fakeGestureMoved=!1,!a.gestures){if("touchstart"!==e.type||"touchstart"===e.type&&e.targetTouches.length<2)return;s.fakeGestureTouched=!0,r.scaleStart=te.getDistanceBetweenTouches(e)}r.$slideEl&&r.$slideEl.length||(r.$slideEl=m(e.target).closest("."+t.params.slideClass),0===r.$slideEl.length&&(r.$slideEl=t.slides.eq(t.activeIndex)),r.$imageEl=r.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),r.$imageWrapEl=r.$imageEl.parent("."+i.containerClass),r.maxRatio=r.$imageWrapEl.attr("data-swiper-zoom")||i.maxRatio,0!==r.$imageWrapEl.length)?(r.$imageEl&&r.$imageEl.transition(0),t.zoom.isScaling=!0):r.$imageEl=void 0},onGestureChange:function(e){var t=this,a=t.support,i=t.params.zoom,s=t.zoom,r=s.gesture;if(!a.gestures){if("touchmove"!==e.type||"touchmove"===e.type&&e.targetTouches.length<2)return;s.fakeGestureMoved=!0,r.scaleMove=te.getDistanceBetweenTouches(e)}r.$imageEl&&0!==r.$imageEl.length?(a.gestures?s.scale=e.scale*s.currentScale:s.scale=r.scaleMove/r.scaleStart*s.currentScale,s.scale>r.maxRatio&&(s.scale=r.maxRatio-1+Math.pow(s.scale-r.maxRatio+1,.5)),s.scale<i.minRatio&&(s.scale=i.minRatio+1-Math.pow(i.minRatio-s.scale+1,.5)),r.$imageEl.transform("translate3d(0,0,0) scale("+s.scale+")")):"gesturechange"===e.type&&s.onGestureStart(e)},onGestureEnd:function(e){var t=this,a=t.device,i=t.support,s=t.params.zoom,r=t.zoom,n=r.gesture;if(!i.gestures){if(!r.fakeGestureTouched||!r.fakeGestureMoved)return;if("touchend"!==e.type||"touchend"===e.type&&e.changedTouches.length<2&&!a.android)return;r.fakeGestureTouched=!1,r.fakeGestureMoved=!1}n.$imageEl&&0!==n.$imageEl.length&&(r.scale=Math.max(Math.min(r.scale,n.maxRatio),s.minRatio),n.$imageEl.transition(t.params.speed).transform("translate3d(0,0,0) scale("+r.scale+")"),r.currentScale=r.scale,r.isScaling=!1,1===r.scale&&(n.$slideEl=void 0))},onTouchStart:function(e){var t=this.device,a=this.zoom,i=a.gesture,s=a.image;i.$imageEl&&0!==i.$imageEl.length&&(s.isTouched||(t.android&&e.cancelable&&e.preventDefault(),s.isTouched=!0,s.touchesStart.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,s.touchesStart.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY))},onTouchMove:function(e){var t=this,a=t.zoom,i=a.gesture,s=a.image,r=a.velocity;if(i.$imageEl&&0!==i.$imageEl.length&&(t.allowClick=!1,s.isTouched&&i.$slideEl)){s.isMoved||(s.width=i.$imageEl[0].offsetWidth,s.height=i.$imageEl[0].offsetHeight,s.startX=T(i.$imageWrapEl[0],"x")||0,s.startY=T(i.$imageWrapEl[0],"y")||0,i.slideWidth=i.$slideEl[0].offsetWidth,i.slideHeight=i.$slideEl[0].offsetHeight,i.$imageWrapEl.transition(0),t.rtl&&(s.startX=-s.startX,s.startY=-s.startY));var n=s.width*a.scale,o=s.height*a.scale;if(!(n<i.slideWidth&&o<i.slideHeight)){if(s.minX=Math.min(i.slideWidth/2-n/2,0),s.maxX=-s.minX,s.minY=Math.min(i.slideHeight/2-o/2,0),s.maxY=-s.minY,s.touchesCurrent.x="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,s.touchesCurrent.y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,!s.isMoved&&!a.isScaling){if(t.isHorizontal()&&(Math.floor(s.minX)===Math.floor(s.startX)&&s.touchesCurrent.x<s.touchesStart.x||Math.floor(s.maxX)===Math.floor(s.startX)&&s.touchesCurrent.x>s.touchesStart.x))return void(s.isTouched=!1);if(!t.isHorizontal()&&(Math.floor(s.minY)===Math.floor(s.startY)&&s.touchesCurrent.y<s.touchesStart.y||Math.floor(s.maxY)===Math.floor(s.startY)&&s.touchesCurrent.y>s.touchesStart.y))return void(s.isTouched=!1)}e.cancelable&&e.preventDefault(),e.stopPropagation(),s.isMoved=!0,s.currentX=s.touchesCurrent.x-s.touchesStart.x+s.startX,s.currentY=s.touchesCurrent.y-s.touchesStart.y+s.startY,s.currentX<s.minX&&(s.currentX=s.minX+1-Math.pow(s.minX-s.currentX+1,.8)),s.currentX>s.maxX&&(s.currentX=s.maxX-1+Math.pow(s.currentX-s.maxX+1,.8)),s.currentY<s.minY&&(s.currentY=s.minY+1-Math.pow(s.minY-s.currentY+1,.8)),s.currentY>s.maxY&&(s.currentY=s.maxY-1+Math.pow(s.currentY-s.maxY+1,.8)),r.prevPositionX||(r.prevPositionX=s.touchesCurrent.x),r.prevPositionY||(r.prevPositionY=s.touchesCurrent.y),r.prevTime||(r.prevTime=Date.now()),r.x=(s.touchesCurrent.x-r.prevPositionX)/(Date.now()-r.prevTime)/2,r.y=(s.touchesCurrent.y-r.prevPositionY)/(Date.now()-r.prevTime)/2,Math.abs(s.touchesCurrent.x-r.prevPositionX)<2&&(r.x=0),Math.abs(s.touchesCurrent.y-r.prevPositionY)<2&&(r.y=0),r.prevPositionX=s.touchesCurrent.x,r.prevPositionY=s.touchesCurrent.y,r.prevTime=Date.now(),i.$imageWrapEl.transform("translate3d("+s.currentX+"px, "+s.currentY+"px,0)")}}},onTouchEnd:function(){var e=this.zoom,t=e.gesture,a=e.image,i=e.velocity;if(t.$imageEl&&0!==t.$imageEl.length){if(!a.isTouched||!a.isMoved)return a.isTouched=!1,void(a.isMoved=!1);a.isTouched=!1,a.isMoved=!1;var s=300,r=300,n=i.x*s,o=a.currentX+n,l=i.y*r,d=a.currentY+l;0!==i.x&&(s=Math.abs((o-a.currentX)/i.x)),0!==i.y&&(r=Math.abs((d-a.currentY)/i.y));var p=Math.max(s,r);a.currentX=o,a.currentY=d;var c=a.width*e.scale,u=a.height*e.scale;a.minX=Math.min(t.slideWidth/2-c/2,0),a.maxX=-a.minX,a.minY=Math.min(t.slideHeight/2-u/2,0),a.maxY=-a.minY,a.currentX=Math.max(Math.min(a.currentX,a.maxX),a.minX),a.currentY=Math.max(Math.min(a.currentY,a.maxY),a.minY),t.$imageWrapEl.transition(p).transform("translate3d("+a.currentX+"px, "+a.currentY+"px,0)")}},onTransitionEnd:function(){var e=this,t=e.zoom,a=t.gesture;a.$slideEl&&e.previousIndex!==e.activeIndex&&(a.$imageEl&&a.$imageEl.transform("translate3d(0,0,0) scale(1)"),a.$imageWrapEl&&a.$imageWrapEl.transform("translate3d(0,0,0)"),t.scale=1,t.currentScale=1,a.$slideEl=void 0,a.$imageEl=void 0,a.$imageWrapEl=void 0)},toggle:function(e){var t=this.zoom;t.scale&&1!==t.scale?t.out():t.in(e)},in:function(e){var t,a,i,s,r,n,l,d,p,c,u,h,v,f,m,g,b=this,w=o(),y=b.zoom,E=b.params.zoom,x=y.gesture,T=y.image;(x.$slideEl||(b.params.virtual&&b.params.virtual.enabled&&b.virtual?x.$slideEl=b.$wrapperEl.children("."+b.params.slideActiveClass):x.$slideEl=b.slides.eq(b.activeIndex),x.$imageEl=x.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),x.$imageWrapEl=x.$imageEl.parent("."+E.containerClass)),x.$imageEl&&0!==x.$imageEl.length)&&(x.$slideEl.addClass(""+E.zoomedSlideClass),void 0===T.touchesStart.x&&e?(t="touchend"===e.type?e.changedTouches[0].pageX:e.pageX,a="touchend"===e.type?e.changedTouches[0].pageY:e.pageY):(t=T.touchesStart.x,a=T.touchesStart.y),y.scale=x.$imageWrapEl.attr("data-swiper-zoom")||E.maxRatio,y.currentScale=x.$imageWrapEl.attr("data-swiper-zoom")||E.maxRatio,e?(m=x.$slideEl[0].offsetWidth,g=x.$slideEl[0].offsetHeight,i=x.$slideEl.offset().left+w.scrollX+m/2-t,s=x.$slideEl.offset().top+w.scrollY+g/2-a,l=x.$imageEl[0].offsetWidth,d=x.$imageEl[0].offsetHeight,p=l*y.scale,c=d*y.scale,v=-(u=Math.min(m/2-p/2,0)),f=-(h=Math.min(g/2-c/2,0)),(r=i*y.scale)<u&&(r=u),r>v&&(r=v),(n=s*y.scale)<h&&(n=h),n>f&&(n=f)):(r=0,n=0),x.$imageWrapEl.transition(300).transform("translate3d("+r+"px, "+n+"px,0)"),x.$imageEl.transition(300).transform("translate3d(0,0,0) scale("+y.scale+")"))},out:function(){var e=this,t=e.zoom,a=e.params.zoom,i=t.gesture;i.$slideEl||(e.params.virtual&&e.params.virtual.enabled&&e.virtual?i.$slideEl=e.$wrapperEl.children("."+e.params.slideActiveClass):i.$slideEl=e.slides.eq(e.activeIndex),i.$imageEl=i.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),i.$imageWrapEl=i.$imageEl.parent("."+a.containerClass)),i.$imageEl&&0!==i.$imageEl.length&&(t.scale=1,t.currentScale=1,i.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"),i.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"),i.$slideEl.removeClass(""+a.zoomedSlideClass),i.$slideEl=void 0)},toggleGestures:function(e){var t=this,a=t.zoom,i=a.slideSelector,s=a.passiveListener;t.$wrapperEl[e]("gesturestart",i,a.onGestureStart,s),t.$wrapperEl[e]("gesturechange",i,a.onGestureChange,s),t.$wrapperEl[e]("gestureend",i,a.onGestureEnd,s)},enableGestures:function(){this.zoom.gesturesEnabled||(this.zoom.gesturesEnabled=!0,this.zoom.toggleGestures("on"))},disableGestures:function(){this.zoom.gesturesEnabled&&(this.zoom.gesturesEnabled=!1,this.zoom.toggleGestures("off"))},enable:function(){var e=this,t=e.support,a=e.zoom;if(!a.enabled){a.enabled=!0;var i=!("touchstart"!==e.touchEvents.start||!t.passiveListener||!e.params.passiveListeners)&&{passive:!0,capture:!1},s=!t.passiveListener||{passive:!1,capture:!0},r="."+e.params.slideClass;e.zoom.passiveListener=i,e.zoom.slideSelector=r,t.gestures?(e.$wrapperEl.on(e.touchEvents.start,e.zoom.enableGestures,i),e.$wrapperEl.on(e.touchEvents.end,e.zoom.disableGestures,i)):"touchstart"===e.touchEvents.start&&(e.$wrapperEl.on(e.touchEvents.start,r,a.onGestureStart,i),e.$wrapperEl.on(e.touchEvents.move,r,a.onGestureChange,s),e.$wrapperEl.on(e.touchEvents.end,r,a.onGestureEnd,i),e.touchEvents.cancel&&e.$wrapperEl.on(e.touchEvents.cancel,r,a.onGestureEnd,i)),e.$wrapperEl.on(e.touchEvents.move,"."+e.params.zoom.containerClass,a.onTouchMove,s)}},disable:function(){var e=this,t=e.zoom;if(t.enabled){var a=e.support;e.zoom.enabled=!1;var i=!("touchstart"!==e.touchEvents.start||!a.passiveListener||!e.params.passiveListeners)&&{passive:!0,capture:!1},s=!a.passiveListener||{passive:!1,capture:!0},r="."+e.params.slideClass;a.gestures?(e.$wrapperEl.off(e.touchEvents.start,e.zoom.enableGestures,i),e.$wrapperEl.off(e.touchEvents.end,e.zoom.disableGestures,i)):"touchstart"===e.touchEvents.start&&(e.$wrapperEl.off(e.touchEvents.start,r,t.onGestureStart,i),e.$wrapperEl.off(e.touchEvents.move,r,t.onGestureChange,s),e.$wrapperEl.off(e.touchEvents.end,r,t.onGestureEnd,i),e.touchEvents.cancel&&e.$wrapperEl.off(e.touchEvents.cancel,r,t.onGestureEnd,i)),e.$wrapperEl.off(e.touchEvents.move,"."+e.params.zoom.containerClass,t.onTouchMove,s)}}},ae={loadInSlide:function(e,t){void 0===t&&(t=!0);var a=this,i=a.params.lazy;if(void 0!==e&&0!==a.slides.length){var s=a.virtual&&a.params.virtual.enabled?a.$wrapperEl.children("."+a.params.slideClass+'[data-swiper-slide-index="'+e+'"]'):a.slides.eq(e),r=s.find("."+i.elementClass+":not(."+i.loadedClass+"):not(."+i.loadingClass+")");!s.hasClass(i.elementClass)||s.hasClass(i.loadedClass)||s.hasClass(i.loadingClass)||r.push(s[0]),0!==r.length&&r.each((function(e){var r=m(e);r.addClass(i.loadingClass);var n=r.attr("data-background"),o=r.attr("data-src"),l=r.attr("data-srcset"),d=r.attr("data-sizes"),p=r.parent("picture");a.loadImage(r[0],o||n,l,d,!1,(function(){if(null!=a&&a&&(!a||a.params)&&!a.destroyed){if(n?(r.css("background-image",'url("'+n+'")'),r.removeAttr("data-background")):(l&&(r.attr("srcset",l),r.removeAttr("data-srcset")),d&&(r.attr("sizes",d),r.removeAttr("data-sizes")),p.length&&p.children("source").each((function(e){var t=m(e);t.attr("data-srcset")&&(t.attr("srcset",t.attr("data-srcset")),t.removeAttr("data-srcset"))})),o&&(r.attr("src",o),r.removeAttr("data-src"))),r.addClass(i.loadedClass).removeClass(i.loadingClass),s.find("."+i.preloaderClass).remove(),a.params.loop&&t){var e=s.attr("data-swiper-slide-index");if(s.hasClass(a.params.slideDuplicateClass)){var c=a.$wrapperEl.children('[data-swiper-slide-index="'+e+'"]:not(.'+a.params.slideDuplicateClass+")");a.lazy.loadInSlide(c.index(),!1)}else{var u=a.$wrapperEl.children("."+a.params.slideDuplicateClass+'[data-swiper-slide-index="'+e+'"]');a.lazy.loadInSlide(u.index(),!1)}}a.emit("lazyImageReady",s[0],r[0]),a.params.autoHeight&&a.updateAutoHeight()}})),a.emit("lazyImageLoad",s[0],r[0])}))}},load:function(){var e=this,t=e.$wrapperEl,a=e.params,i=e.slides,s=e.activeIndex,r=e.virtual&&a.virtual.enabled,n=a.lazy,o=a.slidesPerView;function l(e){if(r){if(t.children("."+a.slideClass+'[data-swiper-slide-index="'+e+'"]').length)return!0}else if(i[e])return!0;return!1}function d(e){return r?m(e).attr("data-swiper-slide-index"):m(e).index()}if("auto"===o&&(o=0),e.lazy.initialImageLoaded||(e.lazy.initialImageLoaded=!0),e.params.watchSlidesVisibility)t.children("."+a.slideVisibleClass).each((function(t){var a=r?m(t).attr("data-swiper-slide-index"):m(t).index();e.lazy.loadInSlide(a)}));else if(o>1)for(var p=s;p<s+o;p+=1)l(p)&&e.lazy.loadInSlide(p);else e.lazy.loadInSlide(s);if(n.loadPrevNext)if(o>1||n.loadPrevNextAmount&&n.loadPrevNextAmount>1){for(var c=n.loadPrevNextAmount,u=o,h=Math.min(s+u+Math.max(c,u),i.length),v=Math.max(s-Math.max(u,c),0),f=s+o;f<h;f+=1)l(f)&&e.lazy.loadInSlide(f);for(var g=v;g<s;g+=1)l(g)&&e.lazy.loadInSlide(g)}else{var b=t.children("."+a.slideNextClass);b.length>0&&e.lazy.loadInSlide(d(b));var w=t.children("."+a.slidePrevClass);w.length>0&&e.lazy.loadInSlide(d(w))}},checkInViewOnLoad:function(){var e=o(),t=this;if(t&&!t.destroyed){var a=t.params.lazy.scrollingElement?m(t.params.lazy.scrollingElement):m(e),i=a[0]===e,s=i?e.innerWidth:a[0].offsetWidth,r=i?e.innerHeight:a[0].offsetHeight,n=t.$el.offset(),l=!1;t.rtlTranslate&&(n.left-=t.$el[0].scrollLeft);for(var d=[[n.left,n.top],[n.left+t.width,n.top],[n.left,n.top+t.height],[n.left+t.width,n.top+t.height]],p=0;p<d.length;p+=1){var c=d[p];if(c[0]>=0&&c[0]<=s&&c[1]>=0&&c[1]<=r){if(0===c[0]&&0===c[1])continue;l=!0}}l?(t.lazy.load(),a.off("scroll",t.lazy.checkInViewOnLoad)):t.lazy.scrollHandlerAttached||(t.lazy.scrollHandlerAttached=!0,a.on("scroll",t.lazy.checkInViewOnLoad))}}},ie={LinearSpline:function(e,t){var a,i,s,r,n,o=function(e,t){for(i=-1,a=e.length;a-i>1;)e[s=a+i>>1]<=t?i=s:a=s;return a};return this.x=e,this.y=t,this.lastIndex=e.length-1,this.interpolate=function(e){return e?(n=o(this.x,e),r=n-1,(e-this.x[r])*(this.y[n]-this.y[r])/(this.x[n]-this.x[r])+this.y[r]):0},this},getInterpolateFunction:function(e){var t=this;t.controller.spline||(t.controller.spline=t.params.loop?new ie.LinearSpline(t.slidesGrid,e.slidesGrid):new ie.LinearSpline(t.snapGrid,e.snapGrid))},setTranslate:function(e,t){var a,i,s=this,r=s.controller.control,n=s.constructor;function o(e){var t=s.rtlTranslate?-s.translate:s.translate;"slide"===s.params.controller.by&&(s.controller.getInterpolateFunction(e),i=-s.controller.spline.interpolate(-t)),i&&"container"!==s.params.controller.by||(a=(e.maxTranslate()-e.minTranslate())/(s.maxTranslate()-s.minTranslate()),i=(t-s.minTranslate())*a+e.minTranslate()),s.params.controller.inverse&&(i=e.maxTranslate()-i),e.updateProgress(i),e.setTranslate(i,s),e.updateActiveIndex(),e.updateSlidesClasses()}if(Array.isArray(r))for(var l=0;l<r.length;l+=1)r[l]!==t&&r[l]instanceof n&&o(r[l]);else r instanceof n&&t!==r&&o(r)},setTransition:function(e,t){var a,i=this,s=i.constructor,r=i.controller.control;function n(t){t.setTransition(e,i),0!==e&&(t.transitionStart(),t.params.autoHeight&&E((function(){t.updateAutoHeight()})),t.$wrapperEl.transitionEnd((function(){r&&(t.params.loop&&"slide"===i.params.controller.by&&t.loopFix(),t.transitionEnd())})))}if(Array.isArray(r))for(a=0;a<r.length;a+=1)r[a]!==t&&r[a]instanceof s&&n(r[a]);else r instanceof s&&t!==r&&n(r)}},se={getRandomNumber:function(e){void 0===e&&(e=16);return"x".repeat(e).replace(/x/g,(function(){return Math.round(16*Math.random()).toString(16)}))},makeElFocusable:function(e){return e.attr("tabIndex","0"),e},makeElNotFocusable:function(e){return e.attr("tabIndex","-1"),e},addElRole:function(e,t){return e.attr("role",t),e},addElRoleDescription:function(e,t){return e.attr("aria-roledescription",t),e},addElControls:function(e,t){return e.attr("aria-controls",t),e},addElLabel:function(e,t){return e.attr("aria-label",t),e},addElId:function(e,t){return e.attr("id",t),e},addElLive:function(e,t){return e.attr("aria-live",t),e},disableEl:function(e){return e.attr("aria-disabled",!0),e},enableEl:function(e){return e.attr("aria-disabled",!1),e},onEnterOrSpaceKey:function(e){if(13===e.keyCode||32===e.keyCode){var t=this,a=t.params.a11y,i=m(e.target);t.navigation&&t.navigation.$nextEl&&i.is(t.navigation.$nextEl)&&(t.isEnd&&!t.params.loop||t.slideNext(),t.isEnd?t.a11y.notify(a.lastSlideMessage):t.a11y.notify(a.nextSlideMessage)),t.navigation&&t.navigation.$prevEl&&i.is(t.navigation.$prevEl)&&(t.isBeginning&&!t.params.loop||t.slidePrev(),t.isBeginning?t.a11y.notify(a.firstSlideMessage):t.a11y.notify(a.prevSlideMessage)),t.pagination&&i.is(z(t.params.pagination.bulletClass))&&i[0].click()}},notify:function(e){var t=this.a11y.liveRegion;0!==t.length&&(t.html(""),t.html(e))},updateNavigation:function(){var e=this;if(!e.params.loop&&e.navigation){var t=e.navigation,a=t.$nextEl,i=t.$prevEl;i&&i.length>0&&(e.isBeginning?(e.a11y.disableEl(i),e.a11y.makeElNotFocusable(i)):(e.a11y.enableEl(i),e.a11y.makeElFocusable(i))),a&&a.length>0&&(e.isEnd?(e.a11y.disableEl(a),e.a11y.makeElNotFocusable(a)):(e.a11y.enableEl(a),e.a11y.makeElFocusable(a)))}},updatePagination:function(){var e=this,t=e.params.a11y;e.pagination&&e.params.pagination.clickable&&e.pagination.bullets&&e.pagination.bullets.length&&e.pagination.bullets.each((function(a){var i=m(a);e.a11y.makeElFocusable(i),e.params.pagination.renderBullet||(e.a11y.addElRole(i,"button"),e.a11y.addElLabel(i,t.paginationBulletMessage.replace(/\{\{index\}\}/,i.index()+1)))}))},init:function(){var e=this,t=e.params.a11y;e.$el.append(e.a11y.liveRegion);var a=e.$el;t.containerRoleDescriptionMessage&&e.a11y.addElRoleDescription(a,t.containerRoleDescriptionMessage),t.containerMessage&&e.a11y.addElLabel(a,t.containerMessage);var i,s,r=e.$wrapperEl,n=r.attr("id")||"swiper-wrapper-"+e.a11y.getRandomNumber(16),o=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";e.a11y.addElId(r,n),e.a11y.addElLive(r,o),t.itemRoleDescriptionMessage&&e.a11y.addElRoleDescription(m(e.slides),t.itemRoleDescriptionMessage),e.a11y.addElRole(m(e.slides),t.slideRole),e.slides.each((function(a){var i=m(a),s=t.slideLabelMessage.replace(/\{\{index\}\}/,i.index()+1).replace(/\{\{slidesLength\}\}/,e.slides.length);e.a11y.addElLabel(i,s)})),e.navigation&&e.navigation.$nextEl&&(i=e.navigation.$nextEl),e.navigation&&e.navigation.$prevEl&&(s=e.navigation.$prevEl),i&&i.length&&(e.a11y.makeElFocusable(i),"BUTTON"!==i[0].tagName&&(e.a11y.addElRole(i,"button"),i.on("keydown",e.a11y.onEnterOrSpaceKey)),e.a11y.addElLabel(i,t.nextSlideMessage),e.a11y.addElControls(i,n)),s&&s.length&&(e.a11y.makeElFocusable(s),"BUTTON"!==s[0].tagName&&(e.a11y.addElRole(s,"button"),s.on("keydown",e.a11y.onEnterOrSpaceKey)),e.a11y.addElLabel(s,t.prevSlideMessage),e.a11y.addElControls(s,n)),e.pagination&&e.params.pagination.clickable&&e.pagination.bullets&&e.pagination.bullets.length&&e.pagination.$el.on("keydown",z(e.params.pagination.bulletClass),e.a11y.onEnterOrSpaceKey)},destroy:function(){var e,t,a=this;a.a11y.liveRegion&&a.a11y.liveRegion.length>0&&a.a11y.liveRegion.remove(),a.navigation&&a.navigation.$nextEl&&(e=a.navigation.$nextEl),a.navigation&&a.navigation.$prevEl&&(t=a.navigation.$prevEl),e&&e.off("keydown",a.a11y.onEnterOrSpaceKey),t&&t.off("keydown",a.a11y.onEnterOrSpaceKey),a.pagination&&a.params.pagination.clickable&&a.pagination.bullets&&a.pagination.bullets.length&&a.pagination.$el.off("keydown",z(a.params.pagination.bulletClass),a.a11y.onEnterOrSpaceKey)}},re={init:function(){var e=this,t=o();if(e.params.history){if(!t.history||!t.history.pushState)return e.params.history.enabled=!1,void(e.params.hashNavigation.enabled=!0);var a=e.history;a.initialized=!0,a.paths=re.getPathValues(e.params.url),(a.paths.key||a.paths.value)&&(a.scrollToSlide(0,a.paths.value,e.params.runCallbacksOnInit),e.params.history.replaceState||t.addEventListener("popstate",e.history.setHistoryPopState))}},destroy:function(){var e=o();this.params.history.replaceState||e.removeEventListener("popstate",this.history.setHistoryPopState)},setHistoryPopState:function(){var e=this;e.history.paths=re.getPathValues(e.params.url),e.history.scrollToSlide(e.params.speed,e.history.paths.value,!1)},getPathValues:function(e){var t=o(),a=(e?new URL(e):t.location).pathname.slice(1).split("/").filter((function(e){return""!==e})),i=a.length;return{key:a[i-2],value:a[i-1]}},setHistory:function(e,t){var a=this,i=o();if(a.history.initialized&&a.params.history.enabled){var s;s=a.params.url?new URL(a.params.url):i.location;var r=a.slides.eq(t),n=re.slugify(r.attr("data-history"));if(a.params.history.root.length>0){var l=a.params.history.root;"/"===l[l.length-1]&&(l=l.slice(0,l.length-1)),n=l+"/"+e+"/"+n}else s.pathname.includes(e)||(n=e+"/"+n);var d=i.history.state;d&&d.value===n||(a.params.history.replaceState?i.history.replaceState({value:n},null,n):i.history.pushState({value:n},null,n))}},slugify:function(e){return e.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},scrollToSlide:function(e,t,a){var i=this;if(t)for(var s=0,r=i.slides.length;s<r;s+=1){var n=i.slides.eq(s);if(re.slugify(n.attr("data-history"))===t&&!n.hasClass(i.params.slideDuplicateClass)){var o=n.index();i.slideTo(o,e,a)}}else i.slideTo(0,e,a)}},ne={onHashCange:function(){var e=this,t=r();e.emit("hashChange");var a=t.location.hash.replace("#","");if(a!==e.slides.eq(e.activeIndex).attr("data-hash")){var i=e.$wrapperEl.children("."+e.params.slideClass+'[data-hash="'+a+'"]').index();if(void 0===i)return;e.slideTo(i)}},setHash:function(){var e=this,t=o(),a=r();if(e.hashNavigation.initialized&&e.params.hashNavigation.enabled)if(e.params.hashNavigation.replaceState&&t.history&&t.history.replaceState)t.history.replaceState(null,null,"#"+e.slides.eq(e.activeIndex).attr("data-hash")||""),e.emit("hashSet");else{var i=e.slides.eq(e.activeIndex),s=i.attr("data-hash")||i.attr("data-history");a.location.hash=s||"",e.emit("hashSet")}},init:function(){var e=this,t=r(),a=o();if(!(!e.params.hashNavigation.enabled||e.params.history&&e.params.history.enabled)){e.hashNavigation.initialized=!0;var i=t.location.hash.replace("#","");if(i)for(var s=0,n=e.slides.length;s<n;s+=1){var l=e.slides.eq(s);if((l.attr("data-hash")||l.attr("data-history"))===i&&!l.hasClass(e.params.slideDuplicateClass)){var d=l.index();e.slideTo(d,0,e.params.runCallbacksOnInit,!0)}}e.params.hashNavigation.watchState&&m(a).on("hashchange",e.hashNavigation.onHashCange)}},destroy:function(){var e=o();this.params.hashNavigation.watchState&&m(e).off("hashchange",this.hashNavigation.onHashCange)}},oe={run:function(){var e=this,t=e.slides.eq(e.activeIndex),a=e.params.autoplay.delay;t.attr("data-swiper-autoplay")&&(a=t.attr("data-swiper-autoplay")||e.params.autoplay.delay),clearTimeout(e.autoplay.timeout),e.autoplay.timeout=E((function(){var t;e.params.autoplay.reverseDirection?e.params.loop?(e.loopFix(),t=e.slidePrev(e.params.speed,!0,!0),e.emit("autoplay")):e.isBeginning?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(t=e.slideTo(e.slides.length-1,e.params.speed,!0,!0),e.emit("autoplay")):(t=e.slidePrev(e.params.speed,!0,!0),e.emit("autoplay")):e.params.loop?(e.loopFix(),t=e.slideNext(e.params.speed,!0,!0),e.emit("autoplay")):e.isEnd?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(t=e.slideTo(0,e.params.speed,!0,!0),e.emit("autoplay")):(t=e.slideNext(e.params.speed,!0,!0),e.emit("autoplay")),(e.params.cssMode&&e.autoplay.running||!1===t)&&e.autoplay.run()}),a)},start:function(){var e=this;return void 0===e.autoplay.timeout&&(!e.autoplay.running&&(e.autoplay.running=!0,e.emit("autoplayStart"),e.autoplay.run(),!0))},stop:function(){var e=this;return!!e.autoplay.running&&(void 0!==e.autoplay.timeout&&(e.autoplay.timeout&&(clearTimeout(e.autoplay.timeout),e.autoplay.timeout=void 0),e.autoplay.running=!1,e.emit("autoplayStop"),!0))},pause:function(e){var t=this;t.autoplay.running&&(t.autoplay.paused||(t.autoplay.timeout&&clearTimeout(t.autoplay.timeout),t.autoplay.paused=!0,0!==e&&t.params.autoplay.waitForTransition?(t.$wrapperEl[0].addEventListener("transitionend",t.autoplay.onTransitionEnd),t.$wrapperEl[0].addEventListener("webkitTransitionEnd",t.autoplay.onTransitionEnd)):(t.autoplay.paused=!1,t.autoplay.run())))},onVisibilityChange:function(){var e=this,t=r();"hidden"===t.visibilityState&&e.autoplay.running&&e.autoplay.pause(),"visible"===t.visibilityState&&e.autoplay.paused&&(e.autoplay.run(),e.autoplay.paused=!1)},onTransitionEnd:function(e){var t=this;t&&!t.destroyed&&t.$wrapperEl&&e.target===t.$wrapperEl[0]&&(t.$wrapperEl[0].removeEventListener("transitionend",t.autoplay.onTransitionEnd),t.$wrapperEl[0].removeEventListener("webkitTransitionEnd",t.autoplay.onTransitionEnd),t.autoplay.paused=!1,t.autoplay.running?t.autoplay.run():t.autoplay.stop())}},le={setTranslate:function(){for(var e=this,t=e.slides,a=0;a<t.length;a+=1){var i=e.slides.eq(a),s=-i[0].swiperSlideOffset;e.params.virtualTranslate||(s-=e.translate);var r=0;e.isHorizontal()||(r=s,s=0);var n=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(i[0].progress),0):1+Math.min(Math.max(i[0].progress,-1),0);i.css({opacity:n}).transform("translate3d("+s+"px, "+r+"px, 0px)")}},setTransition:function(e){var t=this,a=t.slides,i=t.$wrapperEl;if(a.transition(e),t.params.virtualTranslate&&0!==e){var s=!1;a.transitionEnd((function(){if(!s&&t&&!t.destroyed){s=!0,t.animating=!1;for(var e=["webkitTransitionEnd","transitionend"],a=0;a<e.length;a+=1)i.trigger(e[a])}}))}}},de={setTranslate:function(){var e,t=this,a=t.$el,i=t.$wrapperEl,s=t.slides,r=t.width,n=t.height,o=t.rtlTranslate,l=t.size,d=t.browser,p=t.params.cubeEffect,c=t.isHorizontal(),u=t.virtual&&t.params.virtual.enabled,h=0;p.shadow&&(c?(0===(e=i.find(".swiper-cube-shadow")).length&&(e=m('<div class="swiper-cube-shadow"></div>'),i.append(e)),e.css({height:r+"px"})):0===(e=a.find(".swiper-cube-shadow")).length&&(e=m('<div class="swiper-cube-shadow"></div>'),a.append(e)));for(var v=0;v<s.length;v+=1){var f=s.eq(v),g=v;u&&(g=parseInt(f.attr("data-swiper-slide-index"),10));var b=90*g,w=Math.floor(b/360);o&&(b=-b,w=Math.floor(-b/360));var y=Math.max(Math.min(f[0].progress,1),-1),E=0,x=0,T=0;g%4==0?(E=4*-w*l,T=0):(g-1)%4==0?(E=0,T=4*-w*l):(g-2)%4==0?(E=l+4*w*l,T=l):(g-3)%4==0&&(E=-l,T=3*l+4*l*w),o&&(E=-E),c||(x=E,E=0);var S="rotateX("+(c?0:-b)+"deg) rotateY("+(c?b:0)+"deg) translate3d("+E+"px, "+x+"px, "+T+"px)";if(y<=1&&y>-1&&(h=90*g+90*y,o&&(h=90*-g-90*y)),f.transform(S),p.slideShadows){var C=c?f.find(".swiper-slide-shadow-left"):f.find(".swiper-slide-shadow-top"),M=c?f.find(".swiper-slide-shadow-right"):f.find(".swiper-slide-shadow-bottom");0===C.length&&(C=m('<div class="swiper-slide-shadow-'+(c?"left":"top")+'"></div>'),f.append(C)),0===M.length&&(M=m('<div class="swiper-slide-shadow-'+(c?"right":"bottom")+'"></div>'),f.append(M)),C.length&&(C[0].style.opacity=Math.max(-y,0)),M.length&&(M[0].style.opacity=Math.max(y,0))}}if(i.css({"-webkit-transform-origin":"50% 50% -"+l/2+"px","-moz-transform-origin":"50% 50% -"+l/2+"px","-ms-transform-origin":"50% 50% -"+l/2+"px","transform-origin":"50% 50% -"+l/2+"px"}),p.shadow)if(c)e.transform("translate3d(0px, "+(r/2+p.shadowOffset)+"px, "+-r/2+"px) rotateX(90deg) rotateZ(0deg) scale("+p.shadowScale+")");else{var z=Math.abs(h)-90*Math.floor(Math.abs(h)/90),P=1.5-(Math.sin(2*z*Math.PI/360)/2+Math.cos(2*z*Math.PI/360)/2),k=p.shadowScale,L=p.shadowScale/P,$=p.shadowOffset;e.transform("scale3d("+k+", 1, "+L+") translate3d(0px, "+(n/2+$)+"px, "+-n/2/L+"px) rotateX(-90deg)")}var I=d.isSafari||d.isWebView?-l/2:0;i.transform("translate3d(0px,0,"+I+"px) rotateX("+(t.isHorizontal()?0:h)+"deg) rotateY("+(t.isHorizontal()?-h:0)+"deg)")},setTransition:function(e){var t=this,a=t.$el;t.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),t.params.cubeEffect.shadow&&!t.isHorizontal()&&a.find(".swiper-cube-shadow").transition(e)}},pe={setTranslate:function(){for(var e=this,t=e.slides,a=e.rtlTranslate,i=0;i<t.length;i+=1){var s=t.eq(i),r=s[0].progress;e.params.flipEffect.limitRotation&&(r=Math.max(Math.min(s[0].progress,1),-1));var n=-180*r,o=0,l=-s[0].swiperSlideOffset,d=0;if(e.isHorizontal()?a&&(n=-n):(d=l,l=0,o=-n,n=0),s[0].style.zIndex=-Math.abs(Math.round(r))+t.length,e.params.flipEffect.slideShadows){var p=e.isHorizontal()?s.find(".swiper-slide-shadow-left"):s.find(".swiper-slide-shadow-top"),c=e.isHorizontal()?s.find(".swiper-slide-shadow-right"):s.find(".swiper-slide-shadow-bottom");0===p.length&&(p=m('<div class="swiper-slide-shadow-'+(e.isHorizontal()?"left":"top")+'"></div>'),s.append(p)),0===c.length&&(c=m('<div class="swiper-slide-shadow-'+(e.isHorizontal()?"right":"bottom")+'"></div>'),s.append(c)),p.length&&(p[0].style.opacity=Math.max(-r,0)),c.length&&(c[0].style.opacity=Math.max(r,0))}s.transform("translate3d("+l+"px, "+d+"px, 0px) rotateX("+o+"deg) rotateY("+n+"deg)")}},setTransition:function(e){var t=this,a=t.slides,i=t.activeIndex,s=t.$wrapperEl;if(a.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),t.params.virtualTranslate&&0!==e){var r=!1;a.eq(i).transitionEnd((function(){if(!r&&t&&!t.destroyed){r=!0,t.animating=!1;for(var e=["webkitTransitionEnd","transitionend"],a=0;a<e.length;a+=1)s.trigger(e[a])}}))}}},ce={setTranslate:function(){for(var e=this,t=e.width,a=e.height,i=e.slides,s=e.slidesSizesGrid,r=e.params.coverflowEffect,n=e.isHorizontal(),o=e.translate,l=n?t/2-o:a/2-o,d=n?r.rotate:-r.rotate,p=r.depth,c=0,u=i.length;c<u;c+=1){var h=i.eq(c),v=s[c],f=(l-h[0].swiperSlideOffset-v/2)/v*r.modifier,g=n?d*f:0,b=n?0:d*f,w=-p*Math.abs(f),y=r.stretch;"string"==typeof y&&-1!==y.indexOf("%")&&(y=parseFloat(r.stretch)/100*v);var E=n?0:y*f,x=n?y*f:0,T=1-(1-r.scale)*Math.abs(f);Math.abs(x)<.001&&(x=0),Math.abs(E)<.001&&(E=0),Math.abs(w)<.001&&(w=0),Math.abs(g)<.001&&(g=0),Math.abs(b)<.001&&(b=0),Math.abs(T)<.001&&(T=0);var S="translate3d("+x+"px,"+E+"px,"+w+"px)  rotateX("+b+"deg) rotateY("+g+"deg) scale("+T+")";if(h.transform(S),h[0].style.zIndex=1-Math.abs(Math.round(f)),r.slideShadows){var C=n?h.find(".swiper-slide-shadow-left"):h.find(".swiper-slide-shadow-top"),M=n?h.find(".swiper-slide-shadow-right"):h.find(".swiper-slide-shadow-bottom");0===C.length&&(C=m('<div class="swiper-slide-shadow-'+(n?"left":"top")+'"></div>'),h.append(C)),0===M.length&&(M=m('<div class="swiper-slide-shadow-'+(n?"right":"bottom")+'"></div>'),h.append(M)),C.length&&(C[0].style.opacity=f>0?f:0),M.length&&(M[0].style.opacity=-f>0?-f:0)}}},setTransition:function(e){this.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}},ue={init:function(){var e=this,t=e.params.thumbs;if(e.thumbs.initialized)return!1;e.thumbs.initialized=!0;var a=e.constructor;return t.swiper instanceof a?(e.thumbs.swiper=t.swiper,C(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),C(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1})):S(t.swiper)&&(e.thumbs.swiper=new a(C({},t.swiper,{watchSlidesVisibility:!0,watchSlidesProgress:!0,slideToClickedSlide:!1})),e.thumbs.swiperCreated=!0),e.thumbs.swiper.$el.addClass(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",e.thumbs.onThumbClick),!0},onThumbClick:function(){var e=this,t=e.thumbs.swiper;if(t){var a=t.clickedIndex,i=t.clickedSlide;if(!(i&&m(i).hasClass(e.params.thumbs.slideThumbActiveClass)||null==a)){var s;if(s=t.params.loop?parseInt(m(t.clickedSlide).attr("data-swiper-slide-index"),10):a,e.params.loop){var r=e.activeIndex;e.slides.eq(r).hasClass(e.params.slideDuplicateClass)&&(e.loopFix(),e._clientLeft=e.$wrapperEl[0].clientLeft,r=e.activeIndex);var n=e.slides.eq(r).prevAll('[data-swiper-slide-index="'+s+'"]').eq(0).index(),o=e.slides.eq(r).nextAll('[data-swiper-slide-index="'+s+'"]').eq(0).index();s=void 0===n?o:void 0===o?n:o-r<r-n?o:n}e.slideTo(s)}}},update:function(e){var t=this,a=t.thumbs.swiper;if(a){var i="auto"===a.params.slidesPerView?a.slidesPerViewDynamic():a.params.slidesPerView,s=t.params.thumbs.autoScrollOffset,r=s&&!a.params.loop;if(t.realIndex!==a.realIndex||r){var n,o,l=a.activeIndex;if(a.params.loop){a.slides.eq(l).hasClass(a.params.slideDuplicateClass)&&(a.loopFix(),a._clientLeft=a.$wrapperEl[0].clientLeft,l=a.activeIndex);var d=a.slides.eq(l).prevAll('[data-swiper-slide-index="'+t.realIndex+'"]').eq(0).index(),p=a.slides.eq(l).nextAll('[data-swiper-slide-index="'+t.realIndex+'"]').eq(0).index();n=void 0===d?p:void 0===p?d:p-l==l-d?l:p-l<l-d?p:d,o=t.activeIndex>t.previousIndex?"next":"prev"}else o=(n=t.realIndex)>t.previousIndex?"next":"prev";r&&(n+="next"===o?s:-1*s),a.visibleSlidesIndexes&&a.visibleSlidesIndexes.indexOf(n)<0&&(a.params.centeredSlides?n=n>l?n-Math.floor(i/2)+1:n+Math.floor(i/2)-1:n>l&&(n=n-i+1),a.slideTo(n,e?0:void 0))}var c=1,u=t.params.thumbs.slideThumbActiveClass;if(t.params.slidesPerView>1&&!t.params.centeredSlides&&(c=t.params.slidesPerView),t.params.thumbs.multipleActiveThumbs||(c=1),c=Math.floor(c),a.slides.removeClass(u),a.params.loop||a.params.virtual&&a.params.virtual.enabled)for(var h=0;h<c;h+=1)a.$wrapperEl.children('[data-swiper-slide-index="'+(t.realIndex+h)+'"]').addClass(u);else for(var v=0;v<c;v+=1)a.slides.eq(t.realIndex+v).addClass(u)}}},he=[q,U,{name:"mousewheel",params:{mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null}},create:function(){M(this,{mousewheel:{enabled:!1,lastScrollTime:x(),lastEventBeforeSnap:void 0,recentWheelEvents:[],enable:K.enable,disable:K.disable,handle:K.handle,handleMouseEnter:K.handleMouseEnter,handleMouseLeave:K.handleMouseLeave,animateSlider:K.animateSlider,releaseScroll:K.releaseScroll}})},on:{init:function(e){!e.params.mousewheel.enabled&&e.params.cssMode&&e.mousewheel.disable(),e.params.mousewheel.enabled&&e.mousewheel.enable()},destroy:function(e){e.params.cssMode&&e.mousewheel.enable(),e.mousewheel.enabled&&e.mousewheel.disable()}}},{name:"navigation",params:{navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}},create:function(){M(this,{navigation:t({},Z)})},on:{init:function(e){e.navigation.init(),e.navigation.update()},toEdge:function(e){e.navigation.update()},fromEdge:function(e){e.navigation.update()},destroy:function(e){e.navigation.destroy()},click:function(e,t){var a=e.navigation,i=a.$nextEl,s=a.$prevEl,r=t.target;if(e.params.navigation.hideOnClick&&!m(r).is(s)&&!m(r).is(i)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===r||e.pagination.el.contains(r)))return;var n;i?n=i.hasClass(e.params.navigation.hiddenClass):s&&(n=s.hasClass(e.params.navigation.hiddenClass)),!0===n?e.emit("navigationShow"):e.emit("navigationHide"),i&&i.toggleClass(e.params.navigation.hiddenClass),s&&s.toggleClass(e.params.navigation.hiddenClass)}}}},{name:"pagination",params:{pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:function(e){return e},formatFractionTotal:function(e){return e},bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",modifierClass:"swiper-pagination-",currentClass:"swiper-pagination-current",totalClass:"swiper-pagination-total",hiddenClass:"swiper-pagination-hidden",progressbarFillClass:"swiper-pagination-progressbar-fill",progressbarOppositeClass:"swiper-pagination-progressbar-opposite",clickableClass:"swiper-pagination-clickable",lockClass:"swiper-pagination-lock"}},create:function(){M(this,{pagination:t({dynamicBulletIndex:0},J)})},on:{init:function(e){e.pagination.init(),e.pagination.render(),e.pagination.update()},activeIndexChange:function(e){(e.params.loop||void 0===e.snapIndex)&&e.pagination.update()},snapIndexChange:function(e){e.params.loop||e.pagination.update()},slidesLengthChange:function(e){e.params.loop&&(e.pagination.render(),e.pagination.update())},snapGridLengthChange:function(e){e.params.loop||(e.pagination.render(),e.pagination.update())},destroy:function(e){e.pagination.destroy()},click:function(e,t){var a=t.target;if(e.params.pagination.el&&e.params.pagination.hideOnClick&&e.pagination.$el.length>0&&!m(a).hasClass(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&a===e.navigation.nextEl||e.navigation.prevEl&&a===e.navigation.prevEl))return;!0===e.pagination.$el.hasClass(e.params.pagination.hiddenClass)?e.emit("paginationShow"):e.emit("paginationHide"),e.pagination.$el.toggleClass(e.params.pagination.hiddenClass)}}}},{name:"scrollbar",params:{scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag"}},create:function(){M(this,{scrollbar:t({isTouched:!1,timeout:null,dragTimeout:null},Q)})},on:{init:function(e){e.scrollbar.init(),e.scrollbar.updateSize(),e.scrollbar.setTranslate()},update:function(e){e.scrollbar.updateSize()},resize:function(e){e.scrollbar.updateSize()},observerUpdate:function(e){e.scrollbar.updateSize()},setTranslate:function(e){e.scrollbar.setTranslate()},setTransition:function(e,t){e.scrollbar.setTransition(t)},destroy:function(e){e.scrollbar.destroy()}}},{name:"parallax",params:{parallax:{enabled:!1}},create:function(){M(this,{parallax:t({},ee)})},on:{beforeInit:function(e){e.params.parallax.enabled&&(e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)},init:function(e){e.params.parallax.enabled&&e.parallax.setTranslate()},setTranslate:function(e){e.params.parallax.enabled&&e.parallax.setTranslate()},setTransition:function(e,t){e.params.parallax.enabled&&e.parallax.setTransition(t)}}},{name:"zoom",params:{zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}},create:function(){var e=this;M(e,{zoom:t({enabled:!1,scale:1,currentScale:1,isScaling:!1,gesture:{$slideEl:void 0,slideWidth:void 0,slideHeight:void 0,$imageEl:void 0,$imageWrapEl:void 0,maxRatio:3},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0}},te)});var a=1;Object.defineProperty(e.zoom,"scale",{get:function(){return a},set:function(t){if(a!==t){var i=e.zoom.gesture.$imageEl?e.zoom.gesture.$imageEl[0]:void 0,s=e.zoom.gesture.$slideEl?e.zoom.gesture.$slideEl[0]:void 0;e.emit("zoomChange",t,i,s)}a=t}})},on:{init:function(e){e.params.zoom.enabled&&e.zoom.enable()},destroy:function(e){e.zoom.disable()},touchStart:function(e,t){e.zoom.enabled&&e.zoom.onTouchStart(t)},touchEnd:function(e,t){e.zoom.enabled&&e.zoom.onTouchEnd(t)},doubleTap:function(e,t){!e.animating&&e.params.zoom.enabled&&e.zoom.enabled&&e.params.zoom.toggle&&e.zoom.toggle(t)},transitionEnd:function(e){e.zoom.enabled&&e.params.zoom.enabled&&e.zoom.onTransitionEnd()},slideChange:function(e){e.zoom.enabled&&e.params.zoom.enabled&&e.params.cssMode&&e.zoom.onTransitionEnd()}}},{name:"lazy",params:{lazy:{checkInView:!1,enabled:!1,loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,scrollingElement:"",elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"}},create:function(){M(this,{lazy:t({initialImageLoaded:!1},ae)})},on:{beforeInit:function(e){e.params.lazy.enabled&&e.params.preloadImages&&(e.params.preloadImages=!1)},init:function(e){e.params.lazy.enabled&&!e.params.loop&&0===e.params.initialSlide&&(e.params.lazy.checkInView?e.lazy.checkInViewOnLoad():e.lazy.load())},scroll:function(e){e.params.freeMode&&!e.params.freeModeSticky&&e.lazy.load()},"scrollbarDragMove resize _freeModeNoMomentumRelease":function(e){e.params.lazy.enabled&&e.lazy.load()},transitionStart:function(e){e.params.lazy.enabled&&(e.params.lazy.loadOnTransitionStart||!e.params.lazy.loadOnTransitionStart&&!e.lazy.initialImageLoaded)&&e.lazy.load()},transitionEnd:function(e){e.params.lazy.enabled&&!e.params.lazy.loadOnTransitionStart&&e.lazy.load()},slideChange:function(e){e.params.lazy.enabled&&e.params.cssMode&&e.lazy.load()}}},{name:"controller",params:{controller:{control:void 0,inverse:!1,by:"slide"}},create:function(){M(this,{controller:t({control:this.params.controller.control},ie)})},on:{update:function(e){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)},resize:function(e){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)},observerUpdate:function(e){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)},setTranslate:function(e,t,a){e.controller.control&&e.controller.setTranslate(t,a)},setTransition:function(e,t,a){e.controller.control&&e.controller.setTransition(t,a)}}},{name:"a11y",params:{a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group"}},create:function(){M(this,{a11y:t({},se,{liveRegion:m('<span class="'+this.params.a11y.notificationClass+'" aria-live="assertive" aria-atomic="true"></span>')})})},on:{afterInit:function(e){e.params.a11y.enabled&&(e.a11y.init(),e.a11y.updateNavigation())},toEdge:function(e){e.params.a11y.enabled&&e.a11y.updateNavigation()},fromEdge:function(e){e.params.a11y.enabled&&e.a11y.updateNavigation()},paginationUpdate:function(e){e.params.a11y.enabled&&e.a11y.updatePagination()},destroy:function(e){e.params.a11y.enabled&&e.a11y.destroy()}}},{name:"history",params:{history:{enabled:!1,root:"",replaceState:!1,key:"slides"}},create:function(){M(this,{history:t({},re)})},on:{init:function(e){e.params.history.enabled&&e.history.init()},destroy:function(e){e.params.history.enabled&&e.history.destroy()},"transitionEnd _freeModeNoMomentumRelease":function(e){e.history.initialized&&e.history.setHistory(e.params.history.key,e.activeIndex)},slideChange:function(e){e.history.initialized&&e.params.cssMode&&e.history.setHistory(e.params.history.key,e.activeIndex)}}},{name:"hash-navigation",params:{hashNavigation:{enabled:!1,replaceState:!1,watchState:!1}},create:function(){M(this,{hashNavigation:t({initialized:!1},ne)})},on:{init:function(e){e.params.hashNavigation.enabled&&e.hashNavigation.init()},destroy:function(e){e.params.hashNavigation.enabled&&e.hashNavigation.destroy()},"transitionEnd _freeModeNoMomentumRelease":function(e){e.hashNavigation.initialized&&e.hashNavigation.setHash()},slideChange:function(e){e.hashNavigation.initialized&&e.params.cssMode&&e.hashNavigation.setHash()}}},{name:"autoplay",params:{autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1}},create:function(){M(this,{autoplay:t({},oe,{running:!1,paused:!1})})},on:{init:function(e){e.params.autoplay.enabled&&(e.autoplay.start(),r().addEventListener("visibilitychange",e.autoplay.onVisibilityChange))},beforeTransitionStart:function(e,t,a){e.autoplay.running&&(a||!e.params.autoplay.disableOnInteraction?e.autoplay.pause(t):e.autoplay.stop())},sliderFirstMove:function(e){e.autoplay.running&&(e.params.autoplay.disableOnInteraction?e.autoplay.stop():e.autoplay.pause())},touchEnd:function(e){e.params.cssMode&&e.autoplay.paused&&!e.params.autoplay.disableOnInteraction&&e.autoplay.run()},destroy:function(e){e.autoplay.running&&e.autoplay.stop(),r().removeEventListener("visibilitychange",e.autoplay.onVisibilityChange)}}},{name:"effect-fade",params:{fadeEffect:{crossFade:!1}},create:function(){M(this,{fadeEffect:t({},le)})},on:{beforeInit:function(e){if("fade"===e.params.effect){e.classNames.push(e.params.containerModifierClass+"fade");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};C(e.params,t),C(e.originalParams,t)}},setTranslate:function(e){"fade"===e.params.effect&&e.fadeEffect.setTranslate()},setTransition:function(e,t){"fade"===e.params.effect&&e.fadeEffect.setTransition(t)}}},{name:"effect-cube",params:{cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}},create:function(){M(this,{cubeEffect:t({},de)})},on:{beforeInit:function(e){if("cube"===e.params.effect){e.classNames.push(e.params.containerModifierClass+"cube"),e.classNames.push(e.params.containerModifierClass+"3d");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0};C(e.params,t),C(e.originalParams,t)}},setTranslate:function(e){"cube"===e.params.effect&&e.cubeEffect.setTranslate()},setTransition:function(e,t){"cube"===e.params.effect&&e.cubeEffect.setTransition(t)}}},{name:"effect-flip",params:{flipEffect:{slideShadows:!0,limitRotation:!0}},create:function(){M(this,{flipEffect:t({},pe)})},on:{beforeInit:function(e){if("flip"===e.params.effect){e.classNames.push(e.params.containerModifierClass+"flip"),e.classNames.push(e.params.containerModifierClass+"3d");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};C(e.params,t),C(e.originalParams,t)}},setTranslate:function(e){"flip"===e.params.effect&&e.flipEffect.setTranslate()},setTransition:function(e,t){"flip"===e.params.effect&&e.flipEffect.setTransition(t)}}},{name:"effect-coverflow",params:{coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}},create:function(){M(this,{coverflowEffect:t({},ce)})},on:{beforeInit:function(e){"coverflow"===e.params.effect&&(e.classNames.push(e.params.containerModifierClass+"coverflow"),e.classNames.push(e.params.containerModifierClass+"3d"),e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)},setTranslate:function(e){"coverflow"===e.params.effect&&e.coverflowEffect.setTranslate()},setTransition:function(e,t){"coverflow"===e.params.effect&&e.coverflowEffect.setTransition(t)}}},{name:"thumbs",params:{thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-container-thumbs"}},create:function(){M(this,{thumbs:t({swiper:null,initialized:!1},ue)})},on:{beforeInit:function(e){var t=e.params.thumbs;t&&t.swiper&&(e.thumbs.init(),e.thumbs.update(!0))},slideChange:function(e){e.thumbs.swiper&&e.thumbs.update()},update:function(e){e.thumbs.swiper&&e.thumbs.update()},resize:function(e){e.thumbs.swiper&&e.thumbs.update()},observerUpdate:function(e){e.thumbs.swiper&&e.thumbs.update()},setTransition:function(e,t){var a=e.thumbs.swiper;a&&a.setTransition(t)},beforeDestroy:function(e){var t=e.thumbs.swiper;t&&e.thumbs.swiperCreated&&t&&t.destroy()}}}];return F.use(he),F}));
//# sourceMappingURL=swiper-bundle.min.js.map
!function(i){"use strict";"function"==typeof define&&define.amd?define(["jquery"],i):"undefined"!=typeof exports?module.exports=i(require("jquery")):i(jQuery)}(function(i){"use strict";var e=window.Slick||{};(e=function(){var e=0;return function(t,o){var s,n=this;n.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:i(t),appendDots:i(t),arrows:!0,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,t){return i('<button type="button" />').text(t+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},n.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},i.extend(n,n.initials),n.activeBreakpoint=null,n.animType=null,n.animProp=null,n.breakpoints=[],n.breakpointSettings=[],n.cssTransitions=!1,n.focussed=!1,n.interrupted=!1,n.hidden="hidden",n.paused=!0,n.positionProp=null,n.respondTo=null,n.rowCount=1,n.shouldClick=!0,n.$slider=i(t),n.$slidesCache=null,n.transformType=null,n.transitionType=null,n.visibilityChange="visibilitychange",n.windowWidth=0,n.windowTimer=null,s=i(t).data("slick")||{},n.options=i.extend({},n.defaults,o,s),n.currentSlide=n.options.initialSlide,n.originalSettings=n.options,void 0!==document.mozHidden?(n.hidden="mozHidden",n.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(n.hidden="webkitHidden",n.visibilityChange="webkitvisibilitychange"),n.autoPlay=i.proxy(n.autoPlay,n),n.autoPlayClear=i.proxy(n.autoPlayClear,n),n.autoPlayIterator=i.proxy(n.autoPlayIterator,n),n.changeSlide=i.proxy(n.changeSlide,n),n.clickHandler=i.proxy(n.clickHandler,n),n.selectHandler=i.proxy(n.selectHandler,n),n.setPosition=i.proxy(n.setPosition,n),n.swipeHandler=i.proxy(n.swipeHandler,n),n.dragHandler=i.proxy(n.dragHandler,n),n.keyHandler=i.proxy(n.keyHandler,n),n.instanceUid=e++,n.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,n.registerBreakpoints(),n.init(!0)}}()).prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},e.prototype.addSlide=e.prototype.slickAdd=function(e,t,o){var s=this;if("boolean"==typeof t)o=t,t=null;else if(t<0||t>=s.slideCount)return!1;s.unload(),"number"==typeof t?0===t&&0===s.$slides.length?i(e).appendTo(s.$slideTrack):o?i(e).insertBefore(s.$slides.eq(t)):i(e).insertAfter(s.$slides.eq(t)):!0===o?i(e).prependTo(s.$slideTrack):i(e).appendTo(s.$slideTrack),s.$slides=s.$slideTrack.children(this.options.slide),s.$slideTrack.children(this.options.slide).detach(),s.$slideTrack.append(s.$slides),s.$slides.each(function(e,t){i(t).attr("data-slick-index",e)}),s.$slidesCache=s.$slides,s.reinit()},e.prototype.animateHeight=function(){var i=this;if(1===i.options.slidesToShow&&!0===i.options.adaptiveHeight&&!1===i.options.vertical){var e=i.$slides.eq(i.currentSlide).outerHeight(!0);i.$list.animate({height:e},i.options.speed)}},e.prototype.animateSlide=function(e,t){var o={},s=this;s.animateHeight(),!0===s.options.rtl&&!1===s.options.vertical&&(e=-e),!1===s.transformsEnabled?!1===s.options.vertical?s.$slideTrack.animate({left:e},s.options.speed,s.options.easing,t):s.$slideTrack.animate({top:e},s.options.speed,s.options.easing,t):!1===s.cssTransitions?(!0===s.options.rtl&&(s.currentLeft=-s.currentLeft),i({animStart:s.currentLeft}).animate({animStart:e},{duration:s.options.speed,easing:s.options.easing,step:function(i){i=Math.ceil(i),!1===s.options.vertical?(o[s.animType]="translate("+i+"px, 0px)",s.$slideTrack.css(o)):(o[s.animType]="translate(0px,"+i+"px)",s.$slideTrack.css(o))},complete:function(){t&&t.call()}})):(s.applyTransition(),e=Math.ceil(e),!1===s.options.vertical?o[s.animType]="translate3d("+e+"px, 0px, 0px)":o[s.animType]="translate3d(0px,"+e+"px, 0px)",s.$slideTrack.css(o),t&&setTimeout(function(){s.disableTransition(),t.call()},s.options.speed))},e.prototype.getNavTarget=function(){var e=this,t=e.options.asNavFor;return t&&null!==t&&(t=i(t).not(e.$slider)),t},e.prototype.asNavFor=function(e){var t=this.getNavTarget();null!==t&&"object"==typeof t&&t.each(function(){var t=i(this).slick("getSlick");t.unslicked||t.slideHandler(e,!0)})},e.prototype.applyTransition=function(i){var e=this,t={};!1===e.options.fade?t[e.transitionType]=e.transformType+" "+e.options.speed+"ms "+e.options.cssEase:t[e.transitionType]="opacity "+e.options.speed+"ms "+e.options.cssEase,!1===e.options.fade?e.$slideTrack.css(t):e.$slides.eq(i).css(t)},e.prototype.autoPlay=function(){var i=this;i.autoPlayClear(),i.slideCount>i.options.slidesToShow&&(i.autoPlayTimer=setInterval(i.autoPlayIterator,i.options.autoplaySpeed))},e.prototype.autoPlayClear=function(){var i=this;i.autoPlayTimer&&clearInterval(i.autoPlayTimer)},e.prototype.autoPlayIterator=function(){var i=this,e=i.currentSlide+i.options.slidesToScroll;i.paused||i.interrupted||i.focussed||(!1===i.options.infinite&&(1===i.direction&&i.currentSlide+1===i.slideCount-1?i.direction=0:0===i.direction&&(e=i.currentSlide-i.options.slidesToScroll,i.currentSlide-1==0&&(i.direction=1))),i.slideHandler(e))},e.prototype.buildArrows=function(){var e=this;!0===e.options.arrows&&(e.$prevArrow=i(e.options.prevArrow).addClass("slick-arrow"),e.$nextArrow=i(e.options.nextArrow).addClass("slick-arrow"),e.slideCount>e.options.slidesToShow?(e.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.prependTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),!0!==e.options.infinite&&e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):e.$prevArrow.add(e.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},e.prototype.buildDots=function(){var e,t,o=this;if(!0===o.options.dots){for(o.$slider.addClass("slick-dotted"),t=i("<ul />").addClass(o.options.dotsClass),e=0;e<=o.getDotCount();e+=1)t.append(i("<li />").append(o.options.customPaging.call(this,o,e)));o.$dots=t.appendTo(o.options.appendDots),o.$dots.find("li").first().addClass("slick-active")}},e.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(e.options.slide+":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each(function(e,t){i(t).attr("data-slick-index",e).data("originalStyling",i(t).attr("style")||"")}),e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?i('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),!0!==e.options.centerMode&&!0!==e.options.swipeToSlide||(e.options.slidesToScroll=1),i("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),!0===e.options.draggable&&e.$list.addClass("draggable")},e.prototype.buildRows=function(){var i,e,t,o,s,n,r,l=this;if(o=document.createDocumentFragment(),n=l.$slider.children(),l.options.rows>1){for(r=l.options.slidesPerRow*l.options.rows,s=Math.ceil(n.length/r),i=0;i<s;i++){var d=document.createElement("div");for(e=0;e<l.options.rows;e++){var a=document.createElement("div");for(t=0;t<l.options.slidesPerRow;t++){var c=i*r+(e*l.options.slidesPerRow+t);n.get(c)&&a.appendChild(n.get(c))}d.appendChild(a)}o.appendChild(d)}l.$slider.empty().append(o),l.$slider.children().children().children().css({width:100/l.options.slidesPerRow+"%",display:"inline-block"})}},e.prototype.checkResponsive=function(e,t){var o,s,n,r=this,l=!1,d=r.$slider.width(),a=window.innerWidth||i(window).width();if("window"===r.respondTo?n=a:"slider"===r.respondTo?n=d:"min"===r.respondTo&&(n=Math.min(a,d)),r.options.responsive&&r.options.responsive.length&&null!==r.options.responsive){s=null;for(o in r.breakpoints)r.breakpoints.hasOwnProperty(o)&&(!1===r.originalSettings.mobileFirst?n<r.breakpoints[o]&&(s=r.breakpoints[o]):n>r.breakpoints[o]&&(s=r.breakpoints[o]));null!==s?null!==r.activeBreakpoint?(s!==r.activeBreakpoint||t)&&(r.activeBreakpoint=s,"unslick"===r.breakpointSettings[s]?r.unslick(s):(r.options=i.extend({},r.originalSettings,r.breakpointSettings[s]),!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh(e)),l=s):(r.activeBreakpoint=s,"unslick"===r.breakpointSettings[s]?r.unslick(s):(r.options=i.extend({},r.originalSettings,r.breakpointSettings[s]),!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh(e)),l=s):null!==r.activeBreakpoint&&(r.activeBreakpoint=null,r.options=r.originalSettings,!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh(e),l=s),e||!1===l||r.$slider.trigger("breakpoint",[r,l])}},e.prototype.changeSlide=function(e,t){var o,s,n,r=this,l=i(e.currentTarget);switch(l.is("a")&&e.preventDefault(),l.is("li")||(l=l.closest("li")),n=r.slideCount%r.options.slidesToScroll!=0,o=n?0:(r.slideCount-r.currentSlide)%r.options.slidesToScroll,e.data.message){case"previous":s=0===o?r.options.slidesToScroll:r.options.slidesToShow-o,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide-s,!1,t);break;case"next":s=0===o?r.options.slidesToScroll:o,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide+s,!1,t);break;case"index":var d=0===e.data.index?0:e.data.index||l.index()*r.options.slidesToScroll;r.slideHandler(r.checkNavigable(d),!1,t),l.children().trigger("focus");break;default:return}},e.prototype.checkNavigable=function(i){var e,t;if(e=this.getNavigableIndexes(),t=0,i>e[e.length-1])i=e[e.length-1];else for(var o in e){if(i<e[o]){i=t;break}t=e[o]}return i},e.prototype.cleanUpEvents=function(){var e=this;e.options.dots&&null!==e.$dots&&(i("li",e.$dots).off("click.slick",e.changeSlide).off("mouseenter.slick",i.proxy(e.interrupt,e,!0)).off("mouseleave.slick",i.proxy(e.interrupt,e,!1)),!0===e.options.accessibility&&e.$dots.off("keydown.slick",e.keyHandler)),e.$slider.off("focus.slick blur.slick"),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow&&e.$prevArrow.off("click.slick",e.changeSlide),e.$nextArrow&&e.$nextArrow.off("click.slick",e.changeSlide),!0===e.options.accessibility&&(e.$prevArrow&&e.$prevArrow.off("keydown.slick",e.keyHandler),e.$nextArrow&&e.$nextArrow.off("keydown.slick",e.keyHandler))),e.$list.off("touchstart.slick mousedown.slick",e.swipeHandler),e.$list.off("touchmove.slick mousemove.slick",e.swipeHandler),e.$list.off("touchend.slick mouseup.slick",e.swipeHandler),e.$list.off("touchcancel.slick mouseleave.slick",e.swipeHandler),e.$list.off("click.slick",e.clickHandler),i(document).off(e.visibilityChange,e.visibility),e.cleanUpSlideEvents(),!0===e.options.accessibility&&e.$list.off("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&i(e.$slideTrack).children().off("click.slick",e.selectHandler),i(window).off("orientationchange.slick.slick-"+e.instanceUid,e.orientationChange),i(window).off("resize.slick.slick-"+e.instanceUid,e.resize),i("[draggable!=true]",e.$slideTrack).off("dragstart",e.preventDefault),i(window).off("load.slick.slick-"+e.instanceUid,e.setPosition)},e.prototype.cleanUpSlideEvents=function(){var e=this;e.$list.off("mouseenter.slick",i.proxy(e.interrupt,e,!0)),e.$list.off("mouseleave.slick",i.proxy(e.interrupt,e,!1))},e.prototype.cleanUpRows=function(){var i,e=this;e.options.rows>1&&((i=e.$slides.children().children()).removeAttr("style"),e.$slider.empty().append(i))},e.prototype.clickHandler=function(i){!1===this.shouldClick&&(i.stopImmediatePropagation(),i.stopPropagation(),i.preventDefault())},e.prototype.destroy=function(e){var t=this;t.autoPlayClear(),t.touchObject={},t.cleanUpEvents(),i(".slick-cloned",t.$slider).detach(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.$prevArrow.length&&(t.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove()),t.$nextArrow&&t.$nextArrow.length&&(t.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove()),t.$slides&&(t.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){i(this).attr("style",i(this).data("originalStyling"))}),t.$slideTrack.children(this.options.slide).detach(),t.$slideTrack.detach(),t.$list.detach(),t.$slider.append(t.$slides)),t.cleanUpRows(),t.$slider.removeClass("slick-slider"),t.$slider.removeClass("slick-initialized"),t.$slider.removeClass("slick-dotted"),t.unslicked=!0,e||t.$slider.trigger("destroy",[t])},e.prototype.disableTransition=function(i){var e=this,t={};t[e.transitionType]="",!1===e.options.fade?e.$slideTrack.css(t):e.$slides.eq(i).css(t)},e.prototype.fadeSlide=function(i,e){var t=this;!1===t.cssTransitions?(t.$slides.eq(i).css({zIndex:t.options.zIndex}),t.$slides.eq(i).animate({opacity:1},t.options.speed,t.options.easing,e)):(t.applyTransition(i),t.$slides.eq(i).css({opacity:1,zIndex:t.options.zIndex}),e&&setTimeout(function(){t.disableTransition(i),e.call()},t.options.speed))},e.prototype.fadeSlideOut=function(i){var e=this;!1===e.cssTransitions?e.$slides.eq(i).animate({opacity:0,zIndex:e.options.zIndex-2},e.options.speed,e.options.easing):(e.applyTransition(i),e.$slides.eq(i).css({opacity:0,zIndex:e.options.zIndex-2}))},e.prototype.filterSlides=e.prototype.slickFilter=function(i){var e=this;null!==i&&(e.$slidesCache=e.$slides,e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.filter(i).appendTo(e.$slideTrack),e.reinit())},e.prototype.focusHandler=function(){var e=this;e.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*",function(t){t.stopImmediatePropagation();var o=i(this);setTimeout(function(){e.options.pauseOnFocus&&(e.focussed=o.is(":focus"),e.autoPlay())},0)})},e.prototype.getCurrent=e.prototype.slickCurrentSlide=function(){return this.currentSlide},e.prototype.getDotCount=function(){var i=this,e=0,t=0,o=0;if(!0===i.options.infinite)if(i.slideCount<=i.options.slidesToShow)++o;else for(;e<i.slideCount;)++o,e=t+i.options.slidesToScroll,t+=i.options.slidesToScroll<=i.options.slidesToShow?i.options.slidesToScroll:i.options.slidesToShow;else if(!0===i.options.centerMode)o=i.slideCount;else if(i.options.asNavFor)for(;e<i.slideCount;)++o,e=t+i.options.slidesToScroll,t+=i.options.slidesToScroll<=i.options.slidesToShow?i.options.slidesToScroll:i.options.slidesToShow;else o=1+Math.ceil((i.slideCount-i.options.slidesToShow)/i.options.slidesToScroll);return o-1},e.prototype.getLeft=function(i){var e,t,o,s,n=this,r=0;return n.slideOffset=0,t=n.$slides.first().outerHeight(!0),!0===n.options.infinite?(n.slideCount>n.options.slidesToShow&&(n.slideOffset=n.slideWidth*n.options.slidesToShow*-1,s=-1,!0===n.options.vertical&&!0===n.options.centerMode&&(2===n.options.slidesToShow?s=-1.5:1===n.options.slidesToShow&&(s=-2)),r=t*n.options.slidesToShow*s),n.slideCount%n.options.slidesToScroll!=0&&i+n.options.slidesToScroll>n.slideCount&&n.slideCount>n.options.slidesToShow&&(i>n.slideCount?(n.slideOffset=(n.options.slidesToShow-(i-n.slideCount))*n.slideWidth*-1,r=(n.options.slidesToShow-(i-n.slideCount))*t*-1):(n.slideOffset=n.slideCount%n.options.slidesToScroll*n.slideWidth*-1,r=n.slideCount%n.options.slidesToScroll*t*-1))):i+n.options.slidesToShow>n.slideCount&&(n.slideOffset=(i+n.options.slidesToShow-n.slideCount)*n.slideWidth,r=(i+n.options.slidesToShow-n.slideCount)*t),n.slideCount<=n.options.slidesToShow&&(n.slideOffset=0,r=0),!0===n.options.centerMode&&n.slideCount<=n.options.slidesToShow?n.slideOffset=n.slideWidth*Math.floor(n.options.slidesToShow)/2-n.slideWidth*n.slideCount/2:!0===n.options.centerMode&&!0===n.options.infinite?n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)-n.slideWidth:!0===n.options.centerMode&&(n.slideOffset=0,n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)),e=!1===n.options.vertical?i*n.slideWidth*-1+n.slideOffset:i*t*-1+r,!0===n.options.variableWidth&&(o=n.slideCount<=n.options.slidesToShow||!1===n.options.infinite?n.$slideTrack.children(".slick-slide").eq(i):n.$slideTrack.children(".slick-slide").eq(i+n.options.slidesToShow),e=!0===n.options.rtl?o[0]?-1*(n.$slideTrack.width()-o[0].offsetLeft-o.width()):0:o[0]?-1*o[0].offsetLeft:0,!0===n.options.centerMode&&(o=n.slideCount<=n.options.slidesToShow||!1===n.options.infinite?n.$slideTrack.children(".slick-slide").eq(i):n.$slideTrack.children(".slick-slide").eq(i+n.options.slidesToShow+1),e=!0===n.options.rtl?o[0]?-1*(n.$slideTrack.width()-o[0].offsetLeft-o.width()):0:o[0]?-1*o[0].offsetLeft:0,e+=(n.$list.width()-o.outerWidth())/2)),e},e.prototype.getOption=e.prototype.slickGetOption=function(i){return this.options[i]},e.prototype.getNavigableIndexes=function(){var i,e=this,t=0,o=0,s=[];for(!1===e.options.infinite?i=e.slideCount:(t=-1*e.options.slidesToScroll,o=-1*e.options.slidesToScroll,i=2*e.slideCount);t<i;)s.push(t),t=o+e.options.slidesToScroll,o+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return s},e.prototype.getSlick=function(){return this},e.prototype.getSlideCount=function(){var e,t,o=this;return t=!0===o.options.centerMode?o.slideWidth*Math.floor(o.options.slidesToShow/2):0,!0===o.options.swipeToSlide?(o.$slideTrack.find(".slick-slide").each(function(s,n){if(n.offsetLeft-t+i(n).outerWidth()/2>-1*o.swipeLeft)return e=n,!1}),Math.abs(i(e).attr("data-slick-index")-o.currentSlide)||1):o.options.slidesToScroll},e.prototype.goTo=e.prototype.slickGoTo=function(i,e){this.changeSlide({data:{message:"index",index:parseInt(i)}},e)},e.prototype.init=function(e){var t=this;i(t.$slider).hasClass("slick-initialized")||(i(t.$slider).addClass("slick-initialized"),t.buildRows(),t.buildOut(),t.setProps(),t.startLoad(),t.loadSlider(),t.initializeEvents(),t.updateArrows(),t.updateDots(),t.checkResponsive(!0),t.focusHandler()),e&&t.$slider.trigger("init",[t]),!0===t.options.accessibility&&t.initADA(),t.options.autoplay&&(t.paused=!1,t.autoPlay())},e.prototype.initADA=function(){var e=this,t=Math.ceil(e.slideCount/e.options.slidesToShow),o=e.getNavigableIndexes().filter(function(i){return i>=0&&i<e.slideCount});e.$slides.add(e.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),null!==e.$dots&&(e.$slides.not(e.$slideTrack.find(".slick-cloned")).each(function(t){var s=o.indexOf(t);i(this).attr({role:"tabpanel",id:"slick-slide"+e.instanceUid+t,tabindex:-1}),-1!==s&&i(this).attr({"aria-describedby":"slick-slide-control"+e.instanceUid+s})}),e.$dots.attr("role","tablist").find("li").each(function(s){var n=o[s];i(this).attr({role:"presentation"}),i(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+e.instanceUid+s,"aria-controls":"slick-slide"+e.instanceUid+n,"aria-label":s+1+" of "+t,"aria-selected":null,tabindex:"-1"})}).eq(e.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end());for(var s=e.currentSlide,n=s+e.options.slidesToShow;s<n;s++)e.$slides.eq(s).attr("tabindex",0);e.activateADA()},e.prototype.initArrowEvents=function(){var i=this;!0===i.options.arrows&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},i.changeSlide),i.$nextArrow.off("click.slick").on("click.slick",{message:"next"},i.changeSlide),!0===i.options.accessibility&&(i.$prevArrow.on("keydown.slick",i.keyHandler),i.$nextArrow.on("keydown.slick",i.keyHandler)))},e.prototype.initDotEvents=function(){var e=this;!0===e.options.dots&&(i("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide),!0===e.options.accessibility&&e.$dots.on("keydown.slick",e.keyHandler)),!0===e.options.dots&&!0===e.options.pauseOnDotsHover&&i("li",e.$dots).on("mouseenter.slick",i.proxy(e.interrupt,e,!0)).on("mouseleave.slick",i.proxy(e.interrupt,e,!1))},e.prototype.initSlideEvents=function(){var e=this;e.options.pauseOnHover&&(e.$list.on("mouseenter.slick",i.proxy(e.interrupt,e,!0)),e.$list.on("mouseleave.slick",i.proxy(e.interrupt,e,!1)))},e.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.initSlideEvents(),e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.$list.on("click.slick",e.clickHandler),i(document).on(e.visibilityChange,i.proxy(e.visibility,e)),!0===e.options.accessibility&&e.$list.on("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&i(e.$slideTrack).children().on("click.slick",e.selectHandler),i(window).on("orientationchange.slick.slick-"+e.instanceUid,i.proxy(e.orientationChange,e)),i(window).on("resize.slick.slick-"+e.instanceUid,i.proxy(e.resize,e)),i("[draggable!=true]",e.$slideTrack).on("dragstart",e.preventDefault),i(window).on("load.slick.slick-"+e.instanceUid,e.setPosition),i(e.setPosition)},e.prototype.initUI=function(){var i=this;!0===i.options.arrows&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.show(),i.$nextArrow.show()),!0===i.options.dots&&i.slideCount>i.options.slidesToShow&&i.$dots.show()},e.prototype.keyHandler=function(i){var e=this;i.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===i.keyCode&&!0===e.options.accessibility?e.changeSlide({data:{message:!0===e.options.rtl?"next":"previous"}}):39===i.keyCode&&!0===e.options.accessibility&&e.changeSlide({data:{message:!0===e.options.rtl?"previous":"next"}}))},e.prototype.lazyLoad=function(){function e(e){i("img[data-lazy]",e).each(function(){var e=i(this),t=i(this).attr("data-lazy"),o=i(this).attr("data-srcset"),s=i(this).attr("data-sizes")||n.$slider.attr("data-sizes"),r=document.createElement("img");r.onload=function(){e.animate({opacity:0},100,function(){o&&(e.attr("srcset",o),s&&e.attr("sizes",s)),e.attr("src",t).animate({opacity:1},200,function(){e.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")}),n.$slider.trigger("lazyLoaded",[n,e,t])})},r.onerror=function(){e.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),n.$slider.trigger("lazyLoadError",[n,e,t])},r.src=t})}var t,o,s,n=this;if(!0===n.options.centerMode?!0===n.options.infinite?s=(o=n.currentSlide+(n.options.slidesToShow/2+1))+n.options.slidesToShow+2:(o=Math.max(0,n.currentSlide-(n.options.slidesToShow/2+1)),s=n.options.slidesToShow/2+1+2+n.currentSlide):(o=n.options.infinite?n.options.slidesToShow+n.currentSlide:n.currentSlide,s=Math.ceil(o+n.options.slidesToShow),!0===n.options.fade&&(o>0&&o--,s<=n.slideCount&&s++)),t=n.$slider.find(".slick-slide").slice(o,s),"anticipated"===n.options.lazyLoad)for(var r=o-1,l=s,d=n.$slider.find(".slick-slide"),a=0;a<n.options.slidesToScroll;a++)r<0&&(r=n.slideCount-1),t=(t=t.add(d.eq(r))).add(d.eq(l)),r--,l++;e(t),n.slideCount<=n.options.slidesToShow?e(n.$slider.find(".slick-slide")):n.currentSlide>=n.slideCount-n.options.slidesToShow?e(n.$slider.find(".slick-cloned").slice(0,n.options.slidesToShow)):0===n.currentSlide&&e(n.$slider.find(".slick-cloned").slice(-1*n.options.slidesToShow))},e.prototype.loadSlider=function(){var i=this;i.setPosition(),i.$slideTrack.css({opacity:1}),i.$slider.removeClass("slick-loading"),i.initUI(),"progressive"===i.options.lazyLoad&&i.progressiveLazyLoad()},e.prototype.next=e.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},e.prototype.orientationChange=function(){var i=this;i.checkResponsive(),i.setPosition()},e.prototype.pause=e.prototype.slickPause=function(){var i=this;i.autoPlayClear(),i.paused=!0},e.prototype.play=e.prototype.slickPlay=function(){var i=this;i.autoPlay(),i.options.autoplay=!0,i.paused=!1,i.focussed=!1,i.interrupted=!1},e.prototype.postSlide=function(e){var t=this;t.unslicked||(t.$slider.trigger("afterChange",[t,e]),t.animating=!1,t.slideCount>t.options.slidesToShow&&t.setPosition(),t.swipeLeft=null,t.options.autoplay&&t.autoPlay(),!0===t.options.accessibility&&(t.initADA(),t.options.focusOnChange&&i(t.$slides.get(t.currentSlide)).attr("tabindex",0).focus()))},e.prototype.prev=e.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},e.prototype.preventDefault=function(i){i.preventDefault()},e.prototype.progressiveLazyLoad=function(e){e=e||1;var t,o,s,n,r,l=this,d=i("img[data-lazy]",l.$slider);d.length?(t=d.first(),o=t.attr("data-lazy"),s=t.attr("data-srcset"),n=t.attr("data-sizes")||l.$slider.attr("data-sizes"),(r=document.createElement("img")).onload=function(){s&&(t.attr("srcset",s),n&&t.attr("sizes",n)),t.attr("src",o).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"),!0===l.options.adaptiveHeight&&l.setPosition(),l.$slider.trigger("lazyLoaded",[l,t,o]),l.progressiveLazyLoad()},r.onerror=function(){e<3?setTimeout(function(){l.progressiveLazyLoad(e+1)},500):(t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),l.$slider.trigger("lazyLoadError",[l,t,o]),l.progressiveLazyLoad())},r.src=o):l.$slider.trigger("allImagesLoaded",[l])},e.prototype.refresh=function(e){var t,o,s=this;o=s.slideCount-s.options.slidesToShow,!s.options.infinite&&s.currentSlide>o&&(s.currentSlide=o),s.slideCount<=s.options.slidesToShow&&(s.currentSlide=0),t=s.currentSlide,s.destroy(!0),i.extend(s,s.initials,{currentSlide:t}),s.init(),e||s.changeSlide({data:{message:"index",index:t}},!1)},e.prototype.registerBreakpoints=function(){var e,t,o,s=this,n=s.options.responsive||null;if("array"===i.type(n)&&n.length){s.respondTo=s.options.respondTo||"window";for(e in n)if(o=s.breakpoints.length-1,n.hasOwnProperty(e)){for(t=n[e].breakpoint;o>=0;)s.breakpoints[o]&&s.breakpoints[o]===t&&s.breakpoints.splice(o,1),o--;s.breakpoints.push(t),s.breakpointSettings[t]=n[e].settings}s.breakpoints.sort(function(i,e){return s.options.mobileFirst?i-e:e-i})}},e.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.registerBreakpoints(),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.cleanUpSlideEvents(),e.initSlideEvents(),e.checkResponsive(!1,!0),!0===e.options.focusOnSelect&&i(e.$slideTrack).children().on("click.slick",e.selectHandler),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),e.setPosition(),e.focusHandler(),e.paused=!e.options.autoplay,e.autoPlay(),e.$slider.trigger("reInit",[e])},e.prototype.resize=function(){var e=this;i(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){e.windowWidth=i(window).width(),e.checkResponsive(),e.unslicked||e.setPosition()},50))},e.prototype.removeSlide=e.prototype.slickRemove=function(i,e,t){var o=this;if(i="boolean"==typeof i?!0===(e=i)?0:o.slideCount-1:!0===e?--i:i,o.slideCount<1||i<0||i>o.slideCount-1)return!1;o.unload(),!0===t?o.$slideTrack.children().remove():o.$slideTrack.children(this.options.slide).eq(i).remove(),o.$slides=o.$slideTrack.children(this.options.slide),o.$slideTrack.children(this.options.slide).detach(),o.$slideTrack.append(o.$slides),o.$slidesCache=o.$slides,o.reinit()},e.prototype.setCSS=function(i){var e,t,o=this,s={};!0===o.options.rtl&&(i=-i),e="left"==o.positionProp?Math.ceil(i)+"px":"0px",t="top"==o.positionProp?Math.ceil(i)+"px":"0px",s[o.positionProp]=i,!1===o.transformsEnabled?o.$slideTrack.css(s):(s={},!1===o.cssTransitions?(s[o.animType]="translate("+e+", "+t+")",o.$slideTrack.css(s)):(s[o.animType]="translate3d("+e+", "+t+", 0px)",o.$slideTrack.css(s)))},e.prototype.setDimensions=function(){var i=this;!1===i.options.vertical?!0===i.options.centerMode&&i.$list.css({padding:"0px "+i.options.centerPadding}):(i.$list.height(i.$slides.first().outerHeight(!0)*i.options.slidesToShow),!0===i.options.centerMode&&i.$list.css({padding:i.options.centerPadding+" 0px"})),i.listWidth=i.$list.width(),i.listHeight=i.$list.height(),!1===i.options.vertical&&!1===i.options.variableWidth?(i.slideWidth=Math.ceil(i.listWidth/i.options.slidesToShow),i.$slideTrack.width(Math.ceil(i.slideWidth*i.$slideTrack.children(".slick-slide").length))):!0===i.options.variableWidth?i.$slideTrack.width(5e3*i.slideCount):(i.slideWidth=Math.ceil(i.listWidth),i.$slideTrack.height(Math.ceil(i.$slides.first().outerHeight(!0)*i.$slideTrack.children(".slick-slide").length)));var e=i.$slides.first().outerWidth(!0)-i.$slides.first().width();!1===i.options.variableWidth&&i.$slideTrack.children(".slick-slide").width(i.slideWidth-e)},e.prototype.setFade=function(){var e,t=this;t.$slides.each(function(o,s){e=t.slideWidth*o*-1,!0===t.options.rtl?i(s).css({position:"relative",right:e,top:0,zIndex:t.options.zIndex-2,opacity:0}):i(s).css({position:"relative",left:e,top:0,zIndex:t.options.zIndex-2,opacity:0})}),t.$slides.eq(t.currentSlide).css({zIndex:t.options.zIndex-1,opacity:1})},e.prototype.setHeight=function(){var i=this;if(1===i.options.slidesToShow&&!0===i.options.adaptiveHeight&&!1===i.options.vertical){var e=i.$slides.eq(i.currentSlide).outerHeight(!0);i.$list.css("height",e)}},e.prototype.setOption=e.prototype.slickSetOption=function(){var e,t,o,s,n,r=this,l=!1;if("object"===i.type(arguments[0])?(o=arguments[0],l=arguments[1],n="multiple"):"string"===i.type(arguments[0])&&(o=arguments[0],s=arguments[1],l=arguments[2],"responsive"===arguments[0]&&"array"===i.type(arguments[1])?n="responsive":void 0!==arguments[1]&&(n="single")),"single"===n)r.options[o]=s;else if("multiple"===n)i.each(o,function(i,e){r.options[i]=e});else if("responsive"===n)for(t in s)if("array"!==i.type(r.options.responsive))r.options.responsive=[s[t]];else{for(e=r.options.responsive.length-1;e>=0;)r.options.responsive[e].breakpoint===s[t].breakpoint&&r.options.responsive.splice(e,1),e--;r.options.responsive.push(s[t])}l&&(r.unload(),r.reinit())},e.prototype.setPosition=function(){var i=this;i.setDimensions(),i.setHeight(),!1===i.options.fade?i.setCSS(i.getLeft(i.currentSlide)):i.setFade(),i.$slider.trigger("setPosition",[i])},e.prototype.setProps=function(){var i=this,e=document.body.style;i.positionProp=!0===i.options.vertical?"top":"left","top"===i.positionProp?i.$slider.addClass("slick-vertical"):i.$slider.removeClass("slick-vertical"),void 0===e.WebkitTransition&&void 0===e.MozTransition&&void 0===e.msTransition||!0===i.options.useCSS&&(i.cssTransitions=!0),i.options.fade&&("number"==typeof i.options.zIndex?i.options.zIndex<3&&(i.options.zIndex=3):i.options.zIndex=i.defaults.zIndex),void 0!==e.OTransform&&(i.animType="OTransform",i.transformType="-o-transform",i.transitionType="OTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(i.animType=!1)),void 0!==e.MozTransform&&(i.animType="MozTransform",i.transformType="-moz-transform",i.transitionType="MozTransition",void 0===e.perspectiveProperty&&void 0===e.MozPerspective&&(i.animType=!1)),void 0!==e.webkitTransform&&(i.animType="webkitTransform",i.transformType="-webkit-transform",i.transitionType="webkitTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(i.animType=!1)),void 0!==e.msTransform&&(i.animType="msTransform",i.transformType="-ms-transform",i.transitionType="msTransition",void 0===e.msTransform&&(i.animType=!1)),void 0!==e.transform&&!1!==i.animType&&(i.animType="transform",i.transformType="transform",i.transitionType="transition"),i.transformsEnabled=i.options.useTransform&&null!==i.animType&&!1!==i.animType},e.prototype.setSlideClasses=function(i){var e,t,o,s,n=this;if(t=n.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),n.$slides.eq(i).addClass("slick-current"),!0===n.options.centerMode){var r=n.options.slidesToShow%2==0?1:0;e=Math.floor(n.options.slidesToShow/2),!0===n.options.infinite&&(i>=e&&i<=n.slideCount-1-e?n.$slides.slice(i-e+r,i+e+1).addClass("slick-active").attr("aria-hidden","false"):(o=n.options.slidesToShow+i,t.slice(o-e+1+r,o+e+2).addClass("slick-active").attr("aria-hidden","false")),0===i?t.eq(t.length-1-n.options.slidesToShow).addClass("slick-center"):i===n.slideCount-1&&t.eq(n.options.slidesToShow).addClass("slick-center")),n.$slides.eq(i).addClass("slick-center")}else i>=0&&i<=n.slideCount-n.options.slidesToShow?n.$slides.slice(i,i+n.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):t.length<=n.options.slidesToShow?t.addClass("slick-active").attr("aria-hidden","false"):(s=n.slideCount%n.options.slidesToShow,o=!0===n.options.infinite?n.options.slidesToShow+i:i,n.options.slidesToShow==n.options.slidesToScroll&&n.slideCount-i<n.options.slidesToShow?t.slice(o-(n.options.slidesToShow-s),o+s).addClass("slick-active").attr("aria-hidden","false"):t.slice(o,o+n.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"));"ondemand"!==n.options.lazyLoad&&"anticipated"!==n.options.lazyLoad||n.lazyLoad()},e.prototype.setupInfinite=function(){var e,t,o,s=this;if(!0===s.options.fade&&(s.options.centerMode=!1),!0===s.options.infinite&&!1===s.options.fade&&(t=null,s.slideCount>s.options.slidesToShow)){for(o=!0===s.options.centerMode?s.options.slidesToShow+1:s.options.slidesToShow,e=s.slideCount;e>s.slideCount-o;e-=1)t=e-1,i(s.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t-s.slideCount).prependTo(s.$slideTrack).addClass("slick-cloned");for(e=0;e<o+s.slideCount;e+=1)t=e,i(s.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t+s.slideCount).appendTo(s.$slideTrack).addClass("slick-cloned");s.$slideTrack.find(".slick-cloned").find("[id]").each(function(){i(this).attr("id","")})}},e.prototype.interrupt=function(i){var e=this;i||e.autoPlay(),e.interrupted=i},e.prototype.selectHandler=function(e){var t=this,o=i(e.target).is(".slick-slide")?i(e.target):i(e.target).parents(".slick-slide"),s=parseInt(o.attr("data-slick-index"));s||(s=0),t.slideCount<=t.options.slidesToShow?t.slideHandler(s,!1,!0):t.slideHandler(s)},e.prototype.slideHandler=function(i,e,t){var o,s,n,r,l,d=null,a=this;if(e=e||!1,!(!0===a.animating&&!0===a.options.waitForAnimate||!0===a.options.fade&&a.currentSlide===i))if(!1===e&&a.asNavFor(i),o=i,d=a.getLeft(o),r=a.getLeft(a.currentSlide),a.currentLeft=null===a.swipeLeft?r:a.swipeLeft,!1===a.options.infinite&&!1===a.options.centerMode&&(i<0||i>a.getDotCount()*a.options.slidesToScroll))!1===a.options.fade&&(o=a.currentSlide,!0!==t?a.animateSlide(r,function(){a.postSlide(o)}):a.postSlide(o));else if(!1===a.options.infinite&&!0===a.options.centerMode&&(i<0||i>a.slideCount-a.options.slidesToScroll))!1===a.options.fade&&(o=a.currentSlide,!0!==t?a.animateSlide(r,function(){a.postSlide(o)}):a.postSlide(o));else{if(a.options.autoplay&&clearInterval(a.autoPlayTimer),s=o<0?a.slideCount%a.options.slidesToScroll!=0?a.slideCount-a.slideCount%a.options.slidesToScroll:a.slideCount+o:o>=a.slideCount?a.slideCount%a.options.slidesToScroll!=0?0:o-a.slideCount:o,a.animating=!0,a.$slider.trigger("beforeChange",[a,a.currentSlide,s]),n=a.currentSlide,a.currentSlide=s,a.setSlideClasses(a.currentSlide),a.options.asNavFor&&(l=(l=a.getNavTarget()).slick("getSlick")).slideCount<=l.options.slidesToShow&&l.setSlideClasses(a.currentSlide),a.updateDots(),a.updateArrows(),!0===a.options.fade)return!0!==t?(a.fadeSlideOut(n),a.fadeSlide(s,function(){a.postSlide(s)})):a.postSlide(s),void a.animateHeight();!0!==t?a.animateSlide(d,function(){a.postSlide(s)}):a.postSlide(s)}},e.prototype.startLoad=function(){var i=this;!0===i.options.arrows&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.hide(),i.$nextArrow.hide()),!0===i.options.dots&&i.slideCount>i.options.slidesToShow&&i.$dots.hide(),i.$slider.addClass("slick-loading")},e.prototype.swipeDirection=function(){var i,e,t,o,s=this;return i=s.touchObject.startX-s.touchObject.curX,e=s.touchObject.startY-s.touchObject.curY,t=Math.atan2(e,i),(o=Math.round(180*t/Math.PI))<0&&(o=360-Math.abs(o)),o<=45&&o>=0?!1===s.options.rtl?"left":"right":o<=360&&o>=315?!1===s.options.rtl?"left":"right":o>=135&&o<=225?!1===s.options.rtl?"right":"left":!0===s.options.verticalSwiping?o>=35&&o<=135?"down":"up":"vertical"},e.prototype.swipeEnd=function(i){var e,t,o=this;if(o.dragging=!1,o.swiping=!1,o.scrolling)return o.scrolling=!1,!1;if(o.interrupted=!1,o.shouldClick=!(o.touchObject.swipeLength>10),void 0===o.touchObject.curX)return!1;if(!0===o.touchObject.edgeHit&&o.$slider.trigger("edge",[o,o.swipeDirection()]),o.touchObject.swipeLength>=o.touchObject.minSwipe){switch(t=o.swipeDirection()){case"left":case"down":e=o.options.swipeToSlide?o.checkNavigable(o.currentSlide+o.getSlideCount()):o.currentSlide+o.getSlideCount(),o.currentDirection=0;break;case"right":case"up":e=o.options.swipeToSlide?o.checkNavigable(o.currentSlide-o.getSlideCount()):o.currentSlide-o.getSlideCount(),o.currentDirection=1}"vertical"!=t&&(o.slideHandler(e),o.touchObject={},o.$slider.trigger("swipe",[o,t]))}else o.touchObject.startX!==o.touchObject.curX&&(o.slideHandler(o.currentSlide),o.touchObject={})},e.prototype.swipeHandler=function(i){var e=this;if(!(!1===e.options.swipe||"ontouchend"in document&&!1===e.options.swipe||!1===e.options.draggable&&-1!==i.type.indexOf("mouse")))switch(e.touchObject.fingerCount=i.originalEvent&&void 0!==i.originalEvent.touches?i.originalEvent.touches.length:1,e.touchObject.minSwipe=e.listWidth/e.options.touchThreshold,!0===e.options.verticalSwiping&&(e.touchObject.minSwipe=e.listHeight/e.options.touchThreshold),i.data.action){case"start":e.swipeStart(i);break;case"move":e.swipeMove(i);break;case"end":e.swipeEnd(i)}},e.prototype.swipeMove=function(i){var e,t,o,s,n,r,l=this;return n=void 0!==i.originalEvent?i.originalEvent.touches:null,!(!l.dragging||l.scrolling||n&&1!==n.length)&&(e=l.getLeft(l.currentSlide),l.touchObject.curX=void 0!==n?n[0].pageX:i.clientX,l.touchObject.curY=void 0!==n?n[0].pageY:i.clientY,l.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(l.touchObject.curX-l.touchObject.startX,2))),r=Math.round(Math.sqrt(Math.pow(l.touchObject.curY-l.touchObject.startY,2))),!l.options.verticalSwiping&&!l.swiping&&r>4?(l.scrolling=!0,!1):(!0===l.options.verticalSwiping&&(l.touchObject.swipeLength=r),t=l.swipeDirection(),void 0!==i.originalEvent&&l.touchObject.swipeLength>4&&(l.swiping=!0,i.preventDefault()),s=(!1===l.options.rtl?1:-1)*(l.touchObject.curX>l.touchObject.startX?1:-1),!0===l.options.verticalSwiping&&(s=l.touchObject.curY>l.touchObject.startY?1:-1),o=l.touchObject.swipeLength,l.touchObject.edgeHit=!1,!1===l.options.infinite&&(0===l.currentSlide&&"right"===t||l.currentSlide>=l.getDotCount()&&"left"===t)&&(o=l.touchObject.swipeLength*l.options.edgeFriction,l.touchObject.edgeHit=!0),!1===l.options.vertical?l.swipeLeft=e+o*s:l.swipeLeft=e+o*(l.$list.height()/l.listWidth)*s,!0===l.options.verticalSwiping&&(l.swipeLeft=e+o*s),!0!==l.options.fade&&!1!==l.options.touchMove&&(!0===l.animating?(l.swipeLeft=null,!1):void l.setCSS(l.swipeLeft))))},e.prototype.swipeStart=function(i){var e,t=this;if(t.interrupted=!0,1!==t.touchObject.fingerCount||t.slideCount<=t.options.slidesToShow)return t.touchObject={},!1;void 0!==i.originalEvent&&void 0!==i.originalEvent.touches&&(e=i.originalEvent.touches[0]),t.touchObject.startX=t.touchObject.curX=void 0!==e?e.pageX:i.clientX,t.touchObject.startY=t.touchObject.curY=void 0!==e?e.pageY:i.clientY,t.dragging=!0},e.prototype.unfilterSlides=e.prototype.slickUnfilter=function(){var i=this;null!==i.$slidesCache&&(i.unload(),i.$slideTrack.children(this.options.slide).detach(),i.$slidesCache.appendTo(i.$slideTrack),i.reinit())},e.prototype.unload=function(){var e=this;i(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove(),e.$nextArrow&&e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},e.prototype.unslick=function(i){var e=this;e.$slider.trigger("unslick",[e,i]),e.destroy()},e.prototype.updateArrows=function(){var i=this;Math.floor(i.options.slidesToShow/2),!0===i.options.arrows&&i.slideCount>i.options.slidesToShow&&!i.options.infinite&&(i.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),i.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===i.currentSlide?(i.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),i.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):i.currentSlide>=i.slideCount-i.options.slidesToShow&&!1===i.options.centerMode?(i.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),i.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):i.currentSlide>=i.slideCount-1&&!0===i.options.centerMode&&(i.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),i.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},e.prototype.updateDots=function(){var i=this;null!==i.$dots&&(i.$dots.find("li").removeClass("slick-active").end(),i.$dots.find("li").eq(Math.floor(i.currentSlide/i.options.slidesToScroll)).addClass("slick-active"))},e.prototype.visibility=function(){var i=this;i.options.autoplay&&(document[i.hidden]?i.interrupted=!0:i.interrupted=!1)},i.fn.slick=function(){var i,t,o=this,s=arguments[0],n=Array.prototype.slice.call(arguments,1),r=o.length;for(i=0;i<r;i++)if("object"==typeof s||void 0===s?o[i].slick=new e(o[i],s):t=o[i].slick[s].apply(o[i].slick,n),void 0!==t)return t;return o}});

$(function(){

  

	$('input[type="tel"]').mask("+7 (999) 999-99-99");

  let age = $('#age');
  
  if(localStorage.age != 18) {
    age.delay(700).fadeIn();
    $('html').addClass('scroll-disabled');
  } 
  
  $('#age .btn[href="#yes"]').on('click', function(){
    localStorage.age = 18;
    $('html').removeClass('scroll-disabled');
    age.fadeOut();
  })
  const burger = $('.header__burger');
  const menu = $('.header__menu');
  
  burger.on('click', function (e) {
  
    // if ($('html').hasClass('scroll-disabled')) {
    //   $('html').removeClass('scroll-disabled');
    // }
  
  	e.preventDefault();
  	burger.toggleClass('header__burger--close');
  	menu.toggleClass('header__menu--open');
    // $('html').toggleClass('scroll-disabled');
  
  	$(document).keyup(function(e) {
  		if (e.key === "Escape" || e.keyCode === 27) {
  			$('.header__menu').removeClass('header__menu--open');
  			burger.removeClass('header__burger--close');
  			// $('html').removeClass('scroll-disabled');
  		}
  	});
  });
  $('body').on('click', '[href*="#"]', function(e){
  	var fixed_offset = 0;
  
  	$('html,body').stop().animate({ 
  		scrollTop: $(this.hash).offset().top - fixed_offset 
  	}, 300);
  	e.preventDefault();
  	burger.toggleClass('header__burger--close');
  	menu.toggleClass('header__menu--open');
    // $('html').toggleClass('scroll-disabled');
  });
  $('.prod__item').hide();
  
  
  let attr = $('.prod__tab.prod__tab--active').attr('data-tab');
  $('.prod__item[data-tab="'+ attr +'"]').show();
  
  $('.prod__tab').on('click', function(){
  
    $('.prod__tab').removeClass('prod__tab--active');
  	$(this).addClass('prod__tab--active');
  
    let id = $(this).attr('data-tab');
  
    $('.prod__item').hide();
    let content = $('.prod__item[data-tab="'+ id +'"]');
    content.show();
    initProdSwiper();
  });
  
  $('#prod-select').on('change', function(){
  	let id = $('#prod-select').val();
  
    $('.prod__item').hide();
    let content = $('.prod__item[data-tab="'+ id +'"]');
    content.show();
    initProdSwiper();
  });
  
  //map
  
  $('.points__list li').hide();
  let attrPoints = $('#map-select').val();
  $('.points__list li[data-tab="'+ attrPoints +'"]').show();
  
  $('#map-select').on('change', function(){
  	let id = $('#map-select').val();
  
    $('.points__list li').hide();
    let content = $('.points__list li[data-tab="'+ id +'"]');
    content.show();
  
  });
  $('.carousel__slider').slick({
  	slidesToShow: 4,
  	slidesToScroll: 1,
    // lazyLoad: 'ondemand',
    autoplay: true,
    autoplaySpeed: 3000,
    // arrows: false,
  	responsive: [
      {
  			breakpoint: 1200,
        settings: {
          slidesToShow: 3
        }
  		},
  		{
  			breakpoint: 992,
        settings: {
          slidesToShow: 2
        }
  		},
  		{
  			breakpoint: 770,
        settings: {
          slidesToShow: 1
        }
  		}
  	]
  });
  
  
  function initProdSwiper(){
    const swiper = new Swiper('.prod__slider', {
    // Optional parameters
    loop: true,
    slidesPerView: 1,
    // keyboardControl: true,
    // grabCursor:true,
    roundLengths: true,
    // effect: 'fade',
    // fade: { 
    //   crossFade:true 
    // },
    // spaceBetween: 60,
    // centeredSlides: true,
  
    // Navigation arrows
    navigation: {
      nextEl: '.swiper-button-next',
      prevEl: '.swiper-button-prev',
      clickable: true,
    },
    breakpoints: {
      640: {
        slidesPerView: 2,
        spaceBetween: 30,
      },
      1024: {
        slidesPerView: 3,
        spaceBetween: 40,
      },
    },
  
    });
  }
  function isInViewport(elem) {
  	var elementTop = $(elem).offset().top;
  	var elementHeight = $(elem).outerHeight();
  	var elementBottom = elementTop + elementHeight;
  
  
  	var viewportTop = $(window).scrollTop();
  	var viewportBottom = viewportTop + $(window).height();
  
  	return elementBottom > viewportTop && elementTop  < viewportBottom;
  };
  
  function start_lazy_map(elem) {
  	if (!map_loaded) {
  			var map_block = $(elem);
  			map_loaded = true;
  			map_block.attr('src', map_block.attr('data-src'));
  			map_block.removeAttr('data-src');
  	}
  }
  
  
  var map_loaded = false;
  
  $('#map').on('click', function(){
  	start_lazy_map('#ymap_lazy');
  })
  
  $(window).on('resize scroll', function() {
  	if (isInViewport('#map')) {
  		start_lazy_map('#ymap_lazy');
  	} 
  });
  //body arrow up - see btn.less for customizing
  $('<div>').addClass('arrowUpBtn').attr('title', 'Вернуться к началу').appendTo('body');
  
  var arrowUpBtn = $('.arrowUpBtn');
  
  function scrollBtn() {
  	var top = $(this).scrollTop();
  
  	if (top > 300) {
  		arrowUpBtn.fadeIn(500);
  	} else {
  		arrowUpBtn.fadeOut(500);
  	}
  	// $(this).scrollTop() > 300 ? $('.arrowUpBtn').fadeIn() : $('.arrowUpBtn').fadeOut();
  }
  
  scrollBtn();
  
  $(window).on('scroll', scrollBtn);
  
  arrowUpBtn.on('click', function () {
  	$('html, body').animate({
  		scrollTop: 0
  	}, 500);
  })

  initProdSwiper();

});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6InNjcmlwdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiAoZmFjdG9yeSkge1xyXG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xyXG4gICAgICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cclxuICAgICAgICBkZWZpbmUoWydqcXVlcnknXSwgZmFjdG9yeSk7XHJcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgIC8vIE5vZGUvQ29tbW9uSlNcclxuICAgICAgICBmYWN0b3J5KHJlcXVpcmUoJ2pxdWVyeScpKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gQnJvd3NlciBnbG9iYWxzXHJcbiAgICAgICAgZmFjdG9yeShqUXVlcnkpO1xyXG4gICAgfVxyXG59KGZ1bmN0aW9uICgkKSB7XHJcblxyXG52YXIgdWEgPSBuYXZpZ2F0b3IudXNlckFnZW50LFxyXG5cdGlQaG9uZSA9IC9pcGhvbmUvaS50ZXN0KHVhKSxcclxuXHRjaHJvbWUgPSAvY2hyb21lL2kudGVzdCh1YSksXHJcblx0YW5kcm9pZCA9IC9hbmRyb2lkL2kudGVzdCh1YSksXHJcblx0Y2FyZXRUaW1lb3V0SWQ7XHJcblxyXG4kLm1hc2sgPSB7XHJcblx0Ly9QcmVkZWZpbmVkIGNoYXJhY3RlciBkZWZpbml0aW9uc1xyXG5cdGRlZmluaXRpb25zOiB7XHJcblx0XHQnOSc6IFwiWzAtOV1cIixcclxuXHRcdCdhJzogXCJbQS1aYS16XVwiLFxyXG5cdFx0JyonOiBcIltBLVphLXowLTldXCJcclxuXHR9LFxyXG5cdGF1dG9jbGVhcjogdHJ1ZSxcclxuXHRkYXRhTmFtZTogXCJyYXdNYXNrRm5cIixcclxuXHRwbGFjZWhvbGRlcjogJ18nXHJcbn07XHJcblxyXG4kLmZuLmV4dGVuZCh7XHJcblx0Ly9IZWxwZXIgRnVuY3Rpb24gZm9yIENhcmV0IHBvc2l0aW9uaW5nXHJcblx0Y2FyZXQ6IGZ1bmN0aW9uKGJlZ2luLCBlbmQpIHtcclxuXHRcdHZhciByYW5nZTtcclxuXHJcblx0XHRpZiAodGhpcy5sZW5ndGggPT09IDAgfHwgdGhpcy5pcyhcIjpoaWRkZW5cIikgfHwgdGhpcy5nZXQoMCkgIT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0eXBlb2YgYmVnaW4gPT0gJ251bWJlcicpIHtcclxuXHRcdFx0ZW5kID0gKHR5cGVvZiBlbmQgPT09ICdudW1iZXInKSA/IGVuZCA6IGJlZ2luO1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdGlmICh0aGlzLnNldFNlbGVjdGlvblJhbmdlKSB7XHJcblx0XHRcdFx0XHR0aGlzLnNldFNlbGVjdGlvblJhbmdlKGJlZ2luLCBlbmQpO1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAodGhpcy5jcmVhdGVUZXh0UmFuZ2UpIHtcclxuXHRcdFx0XHRcdHJhbmdlID0gdGhpcy5jcmVhdGVUZXh0UmFuZ2UoKTtcclxuXHRcdFx0XHRcdHJhbmdlLmNvbGxhcHNlKHRydWUpO1xyXG5cdFx0XHRcdFx0cmFuZ2UubW92ZUVuZCgnY2hhcmFjdGVyJywgZW5kKTtcclxuXHRcdFx0XHRcdHJhbmdlLm1vdmVTdGFydCgnY2hhcmFjdGVyJywgYmVnaW4pO1xyXG5cdFx0XHRcdFx0cmFuZ2Uuc2VsZWN0KCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGlmICh0aGlzWzBdLnNldFNlbGVjdGlvblJhbmdlKSB7XHJcblx0XHRcdFx0YmVnaW4gPSB0aGlzWzBdLnNlbGVjdGlvblN0YXJ0O1xyXG5cdFx0XHRcdGVuZCA9IHRoaXNbMF0uc2VsZWN0aW9uRW5kO1xyXG5cdFx0XHR9IGVsc2UgaWYgKGRvY3VtZW50LnNlbGVjdGlvbiAmJiBkb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UpIHtcclxuXHRcdFx0XHRyYW5nZSA9IGRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpO1xyXG5cdFx0XHRcdGJlZ2luID0gMCAtIHJhbmdlLmR1cGxpY2F0ZSgpLm1vdmVTdGFydCgnY2hhcmFjdGVyJywgLTEwMDAwMCk7XHJcblx0XHRcdFx0ZW5kID0gYmVnaW4gKyByYW5nZS50ZXh0Lmxlbmd0aDtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4geyBiZWdpbjogYmVnaW4sIGVuZDogZW5kIH07XHJcblx0XHR9XHJcblx0fSxcclxuXHR1bm1hc2s6IGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMudHJpZ2dlcihcInVubWFza1wiKTtcclxuXHR9LFxyXG5cdG1hc2s6IGZ1bmN0aW9uKG1hc2ssIHNldHRpbmdzKSB7XHJcblx0XHR2YXIgaW5wdXQsXHJcblx0XHRcdGRlZnMsXHJcblx0XHRcdHRlc3RzLFxyXG5cdFx0XHRwYXJ0aWFsUG9zaXRpb24sXHJcblx0XHRcdGZpcnN0Tm9uTWFza1BvcyxcclxuICAgICAgICAgICAgbGFzdFJlcXVpcmVkTm9uTWFza1BvcyxcclxuICAgICAgICAgICAgbGVuLFxyXG4gICAgICAgICAgICBvbGRWYWw7XHJcblxyXG5cdFx0aWYgKCFtYXNrICYmIHRoaXMubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRpbnB1dCA9ICQodGhpc1swXSk7XHJcbiAgICAgICAgICAgIHZhciBmbiA9IGlucHV0LmRhdGEoJC5tYXNrLmRhdGFOYW1lKVxyXG5cdFx0XHRyZXR1cm4gZm4/Zm4oKTp1bmRlZmluZWQ7XHJcblx0XHR9XHJcblxyXG5cdFx0c2V0dGluZ3MgPSAkLmV4dGVuZCh7XHJcblx0XHRcdGF1dG9jbGVhcjogJC5tYXNrLmF1dG9jbGVhcixcclxuXHRcdFx0cGxhY2Vob2xkZXI6ICQubWFzay5wbGFjZWhvbGRlciwgLy8gTG9hZCBkZWZhdWx0IHBsYWNlaG9sZGVyXHJcblx0XHRcdGNvbXBsZXRlZDogbnVsbFxyXG5cdFx0fSwgc2V0dGluZ3MpO1xyXG5cclxuXHJcblx0XHRkZWZzID0gJC5tYXNrLmRlZmluaXRpb25zO1xyXG5cdFx0dGVzdHMgPSBbXTtcclxuXHRcdHBhcnRpYWxQb3NpdGlvbiA9IGxlbiA9IG1hc2subGVuZ3RoO1xyXG5cdFx0Zmlyc3ROb25NYXNrUG9zID0gbnVsbDtcclxuXHJcblx0XHRtYXNrID0gU3RyaW5nKG1hc2spO1xyXG5cclxuXHRcdCQuZWFjaChtYXNrLnNwbGl0KFwiXCIpLCBmdW5jdGlvbihpLCBjKSB7XHJcblx0XHRcdGlmIChjID09ICc/Jykge1xyXG5cdFx0XHRcdGxlbi0tO1xyXG5cdFx0XHRcdHBhcnRpYWxQb3NpdGlvbiA9IGk7XHJcblx0XHRcdH0gZWxzZSBpZiAoZGVmc1tjXSkge1xyXG5cdFx0XHRcdHRlc3RzLnB1c2gobmV3IFJlZ0V4cChkZWZzW2NdKSk7XHJcblx0XHRcdFx0aWYgKGZpcnN0Tm9uTWFza1BvcyA9PT0gbnVsbCkge1xyXG5cdFx0XHRcdFx0Zmlyc3ROb25NYXNrUG9zID0gdGVzdHMubGVuZ3RoIC0gMTtcclxuXHRcdFx0XHR9XHJcbiAgICAgICAgICAgICAgICBpZihpIDwgcGFydGlhbFBvc2l0aW9uKXtcclxuICAgICAgICAgICAgICAgICAgICBsYXN0UmVxdWlyZWROb25NYXNrUG9zID0gdGVzdHMubGVuZ3RoIC0gMTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0ZXN0cy5wdXNoKG51bGwpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHRyZXR1cm4gdGhpcy50cmlnZ2VyKFwidW5tYXNrXCIpLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBpbnB1dCA9ICQodGhpcyksXHJcblx0XHRcdFx0YnVmZmVyID0gJC5tYXAoXHJcbiAgICBcdFx0XHRcdG1hc2suc3BsaXQoXCJcIiksXHJcbiAgICBcdFx0XHRcdGZ1bmN0aW9uKGMsIGkpIHtcclxuICAgIFx0XHRcdFx0XHRpZiAoYyAhPSAnPycpIHtcclxuICAgIFx0XHRcdFx0XHRcdHJldHVybiBkZWZzW2NdID8gZ2V0UGxhY2Vob2xkZXIoaSkgOiBjO1xyXG4gICAgXHRcdFx0XHRcdH1cclxuICAgIFx0XHRcdFx0fSksXHJcblx0XHRcdFx0ZGVmYXVsdEJ1ZmZlciA9IGJ1ZmZlci5qb2luKCcnKSxcclxuXHRcdFx0XHRmb2N1c1RleHQgPSBpbnB1dC52YWwoKTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHRyeUZpcmVDb21wbGV0ZWQoKXtcclxuICAgICAgICAgICAgICAgIGlmICghc2V0dGluZ3MuY29tcGxldGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSBmaXJzdE5vbk1hc2tQb3M7IGkgPD0gbGFzdFJlcXVpcmVkTm9uTWFza1BvczsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRlc3RzW2ldICYmIGJ1ZmZlcltpXSA9PT0gZ2V0UGxhY2Vob2xkZXIoaSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHNldHRpbmdzLmNvbXBsZXRlZC5jYWxsKGlucHV0KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0UGxhY2Vob2xkZXIoaSl7XHJcbiAgICAgICAgICAgICAgICBpZihpIDwgc2V0dGluZ3MucGxhY2Vob2xkZXIubGVuZ3RoKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXR0aW5ncy5wbGFjZWhvbGRlci5jaGFyQXQoaSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0dGluZ3MucGxhY2Vob2xkZXIuY2hhckF0KDApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBzZWVrTmV4dChwb3MpIHtcclxuXHRcdFx0XHR3aGlsZSAoKytwb3MgPCBsZW4gJiYgIXRlc3RzW3Bvc10pO1xyXG5cdFx0XHRcdHJldHVybiBwb3M7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGZ1bmN0aW9uIHNlZWtQcmV2KHBvcykge1xyXG5cdFx0XHRcdHdoaWxlICgtLXBvcyA+PSAwICYmICF0ZXN0c1twb3NdKTtcclxuXHRcdFx0XHRyZXR1cm4gcG9zO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBzaGlmdEwoYmVnaW4sZW5kKSB7XHJcblx0XHRcdFx0dmFyIGksXHJcblx0XHRcdFx0XHRqO1xyXG5cclxuXHRcdFx0XHRpZiAoYmVnaW48MCkge1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Zm9yIChpID0gYmVnaW4sIGogPSBzZWVrTmV4dChlbmQpOyBpIDwgbGVuOyBpKyspIHtcclxuXHRcdFx0XHRcdGlmICh0ZXN0c1tpXSkge1xyXG5cdFx0XHRcdFx0XHRpZiAoaiA8IGxlbiAmJiB0ZXN0c1tpXS50ZXN0KGJ1ZmZlcltqXSkpIHtcclxuXHRcdFx0XHRcdFx0XHRidWZmZXJbaV0gPSBidWZmZXJbal07XHJcblx0XHRcdFx0XHRcdFx0YnVmZmVyW2pdID0gZ2V0UGxhY2Vob2xkZXIoaik7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdGogPSBzZWVrTmV4dChqKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0d3JpdGVCdWZmZXIoKTtcclxuXHRcdFx0XHRpbnB1dC5jYXJldChNYXRoLm1heChmaXJzdE5vbk1hc2tQb3MsIGJlZ2luKSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGZ1bmN0aW9uIHNoaWZ0Uihwb3MpIHtcclxuXHRcdFx0XHR2YXIgaSxcclxuXHRcdFx0XHRcdGMsXHJcblx0XHRcdFx0XHRqLFxyXG5cdFx0XHRcdFx0dDtcclxuXHJcblx0XHRcdFx0Zm9yIChpID0gcG9zLCBjID0gZ2V0UGxhY2Vob2xkZXIocG9zKTsgaSA8IGxlbjsgaSsrKSB7XHJcblx0XHRcdFx0XHRpZiAodGVzdHNbaV0pIHtcclxuXHRcdFx0XHRcdFx0aiA9IHNlZWtOZXh0KGkpO1xyXG5cdFx0XHRcdFx0XHR0ID0gYnVmZmVyW2ldO1xyXG5cdFx0XHRcdFx0XHRidWZmZXJbaV0gPSBjO1xyXG5cdFx0XHRcdFx0XHRpZiAoaiA8IGxlbiAmJiB0ZXN0c1tqXS50ZXN0KHQpKSB7XHJcblx0XHRcdFx0XHRcdFx0YyA9IHQ7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGZ1bmN0aW9uIGFuZHJvaWRJbnB1dEV2ZW50KGUpIHtcclxuXHRcdFx0XHR2YXIgY3VyVmFsID0gaW5wdXQudmFsKCk7XHJcblx0XHRcdFx0dmFyIHBvcyA9IGlucHV0LmNhcmV0KCk7XHJcblx0XHRcdFx0aWYgKG9sZFZhbCAmJiBvbGRWYWwubGVuZ3RoICYmIG9sZFZhbC5sZW5ndGggPiBjdXJWYWwubGVuZ3RoICkge1xyXG5cdFx0XHRcdFx0Ly8gYSBkZWxldGlvbiBvciBiYWNrc3BhY2UgaGFwcGVuZWRcclxuXHRcdFx0XHRcdGNoZWNrVmFsKHRydWUpO1xyXG5cdFx0XHRcdFx0d2hpbGUgKHBvcy5iZWdpbiA+IDAgJiYgIXRlc3RzW3Bvcy5iZWdpbi0xXSlcclxuXHRcdFx0XHRcdFx0cG9zLmJlZ2luLS07XHJcblx0XHRcdFx0XHRpZiAocG9zLmJlZ2luID09PSAwKVxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHR3aGlsZSAocG9zLmJlZ2luIDwgZmlyc3ROb25NYXNrUG9zICYmICF0ZXN0c1twb3MuYmVnaW5dKVxyXG5cdFx0XHRcdFx0XHRcdHBvcy5iZWdpbisrO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0aW5wdXQuY2FyZXQocG9zLmJlZ2luLHBvcy5iZWdpbik7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHZhciBwb3MyID0gY2hlY2tWYWwodHJ1ZSk7XHJcblx0XHRcdFx0XHR2YXIgbGFzdEVudGVyZWRWYWx1ZSA9IGN1clZhbC5jaGFyQXQocG9zLmJlZ2luKTtcclxuXHRcdFx0XHRcdGlmIChwb3MuYmVnaW4gPCBsZW4pe1xyXG5cdFx0XHRcdFx0XHRpZighdGVzdHNbcG9zLmJlZ2luXSl7XHJcblx0XHRcdFx0XHRcdFx0cG9zLmJlZ2luKys7XHJcblx0XHRcdFx0XHRcdFx0aWYodGVzdHNbcG9zLmJlZ2luXS50ZXN0KGxhc3RFbnRlcmVkVmFsdWUpKXtcclxuXHRcdFx0XHRcdFx0XHRcdHBvcy5iZWdpbisrO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRcdFx0aWYodGVzdHNbcG9zLmJlZ2luXS50ZXN0KGxhc3RFbnRlcmVkVmFsdWUpKXtcclxuXHRcdFx0XHRcdFx0XHRcdHBvcy5iZWdpbisrO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0aW5wdXQuY2FyZXQocG9zLmJlZ2luLHBvcy5iZWdpbik7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHRyeUZpcmVDb21wbGV0ZWQoKTtcclxuXHRcdFx0fVxyXG5cclxuXHJcblx0XHRcdGZ1bmN0aW9uIGJsdXJFdmVudChlKSB7XHJcbiAgICAgICAgICAgICAgICBjaGVja1ZhbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChpbnB1dC52YWwoKSAhPSBmb2N1c1RleHQpXHJcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQuY2hhbmdlKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcblx0XHRcdGZ1bmN0aW9uIGtleWRvd25FdmVudChlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQucHJvcChcInJlYWRvbmx5XCIpKXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG5cdFx0XHRcdHZhciBrID0gZS53aGljaCB8fCBlLmtleUNvZGUsXHJcblx0XHRcdFx0XHRwb3MsXHJcblx0XHRcdFx0XHRiZWdpbixcclxuXHRcdFx0XHRcdGVuZDtcclxuICAgICAgICAgICAgICAgICAgICBvbGRWYWwgPSBpbnB1dC52YWwoKTtcclxuXHRcdFx0XHQvL2JhY2tzcGFjZSwgZGVsZXRlLCBhbmQgZXNjYXBlIGdldCBzcGVjaWFsIHRyZWF0bWVudFxyXG5cdFx0XHRcdGlmIChrID09PSA4IHx8IGsgPT09IDQ2IHx8IChpUGhvbmUgJiYgayA9PT0gMTI3KSkge1xyXG5cdFx0XHRcdFx0cG9zID0gaW5wdXQuY2FyZXQoKTtcclxuXHRcdFx0XHRcdGJlZ2luID0gcG9zLmJlZ2luO1xyXG5cdFx0XHRcdFx0ZW5kID0gcG9zLmVuZDtcclxuXHJcblx0XHRcdFx0XHRpZiAoZW5kIC0gYmVnaW4gPT09IDApIHtcclxuXHRcdFx0XHRcdFx0YmVnaW49ayE9PTQ2P3NlZWtQcmV2KGJlZ2luKTooZW5kPXNlZWtOZXh0KGJlZ2luLTEpKTtcclxuXHRcdFx0XHRcdFx0ZW5kPWs9PT00Nj9zZWVrTmV4dChlbmQpOmVuZDtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGNsZWFyQnVmZmVyKGJlZ2luLCBlbmQpO1xyXG5cdFx0XHRcdFx0c2hpZnRMKGJlZ2luLCBlbmQgLSAxKTtcclxuXHJcblx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0fSBlbHNlIGlmKCBrID09PSAxMyApIHsgLy8gZW50ZXJcclxuXHRcdFx0XHRcdGJsdXJFdmVudC5jYWxsKHRoaXMsIGUpO1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAoayA9PT0gMjcpIHsgLy8gZXNjYXBlXHJcblx0XHRcdFx0XHRpbnB1dC52YWwoZm9jdXNUZXh0KTtcclxuXHRcdFx0XHRcdGlucHV0LmNhcmV0KDAsIGNoZWNrVmFsKCkpO1xyXG5cdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZnVuY3Rpb24ga2V5cHJlc3NFdmVudChlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQucHJvcChcInJlYWRvbmx5XCIpKXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG5cdFx0XHRcdHZhciBrID0gZS53aGljaCB8fCBlLmtleUNvZGUsXHJcblx0XHRcdFx0XHRwb3MgPSBpbnB1dC5jYXJldCgpLFxyXG5cdFx0XHRcdFx0cCxcclxuXHRcdFx0XHRcdGMsXHJcblx0XHRcdFx0XHRuZXh0O1xyXG5cclxuXHRcdFx0XHRpZiAoZS5jdHJsS2V5IHx8IGUuYWx0S2V5IHx8IGUubWV0YUtleSB8fCBrIDwgMzIpIHsvL0lnbm9yZVxyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAoIGsgJiYgayAhPT0gMTMgKSB7XHJcblx0XHRcdFx0XHRpZiAocG9zLmVuZCAtIHBvcy5iZWdpbiAhPT0gMCl7XHJcblx0XHRcdFx0XHRcdGNsZWFyQnVmZmVyKHBvcy5iZWdpbiwgcG9zLmVuZCk7XHJcblx0XHRcdFx0XHRcdHNoaWZ0TChwb3MuYmVnaW4sIHBvcy5lbmQtMSk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0cCA9IHNlZWtOZXh0KHBvcy5iZWdpbiAtIDEpO1xyXG5cdFx0XHRcdFx0aWYgKHAgPCBsZW4pIHtcclxuXHRcdFx0XHRcdFx0YyA9IFN0cmluZy5mcm9tQ2hhckNvZGUoayk7XHJcblx0XHRcdFx0XHRcdGlmICh0ZXN0c1twXS50ZXN0KGMpKSB7XHJcblx0XHRcdFx0XHRcdFx0c2hpZnRSKHApO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRidWZmZXJbcF0gPSBjO1xyXG5cdFx0XHRcdFx0XHRcdHdyaXRlQnVmZmVyKCk7XHJcblx0XHRcdFx0XHRcdFx0bmV4dCA9IHNlZWtOZXh0KHApO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRpZihhbmRyb2lkKXtcclxuXHRcdFx0XHRcdFx0XHRcdC8vUGF0aCBmb3IgQ1NQIFZpb2xhdGlvbiBvbiBGaXJlRm94IE9TIDEuMVxyXG5cdFx0XHRcdFx0XHRcdFx0dmFyIHByb3h5ID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdCQucHJveHkoJC5mbi5jYXJldCxpbnB1dCxuZXh0KSgpO1xyXG5cdFx0XHRcdFx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRzZXRUaW1lb3V0KHByb3h5LDApO1xyXG5cdFx0XHRcdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0XHRcdFx0aW5wdXQuY2FyZXQobmV4dCk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYocG9zLmJlZ2luIDw9IGxhc3RSZXF1aXJlZE5vbk1hc2tQb3Mpe1xyXG5cdFx0ICAgICAgICAgICAgICAgICAgICAgICAgIHRyeUZpcmVDb21wbGV0ZWQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGZ1bmN0aW9uIGNsZWFyQnVmZmVyKHN0YXJ0LCBlbmQpIHtcclxuXHRcdFx0XHR2YXIgaTtcclxuXHRcdFx0XHRmb3IgKGkgPSBzdGFydDsgaSA8IGVuZCAmJiBpIDwgbGVuOyBpKyspIHtcclxuXHRcdFx0XHRcdGlmICh0ZXN0c1tpXSkge1xyXG5cdFx0XHRcdFx0XHRidWZmZXJbaV0gPSBnZXRQbGFjZWhvbGRlcihpKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGZ1bmN0aW9uIHdyaXRlQnVmZmVyKCkgeyBpbnB1dC52YWwoYnVmZmVyLmpvaW4oJycpKTsgfVxyXG5cclxuXHRcdFx0ZnVuY3Rpb24gY2hlY2tWYWwoYWxsb3cpIHtcclxuXHRcdFx0XHQvL3RyeSB0byBwbGFjZSBjaGFyYWN0ZXJzIHdoZXJlIHRoZXkgYmVsb25nXHJcblx0XHRcdFx0dmFyIHRlc3QgPSBpbnB1dC52YWwoKSxcclxuXHRcdFx0XHRcdGxhc3RNYXRjaCA9IC0xLFxyXG5cdFx0XHRcdFx0aSxcclxuXHRcdFx0XHRcdGMsXHJcblx0XHRcdFx0XHRwb3M7XHJcblxyXG5cdFx0XHRcdGZvciAoaSA9IDAsIHBvcyA9IDA7IGkgPCBsZW47IGkrKykge1xyXG5cdFx0XHRcdFx0aWYgKHRlc3RzW2ldKSB7XHJcblx0XHRcdFx0XHRcdGJ1ZmZlcltpXSA9IGdldFBsYWNlaG9sZGVyKGkpO1xyXG5cdFx0XHRcdFx0XHR3aGlsZSAocG9zKysgPCB0ZXN0Lmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0XHRcdGMgPSB0ZXN0LmNoYXJBdChwb3MgLSAxKTtcclxuXHRcdFx0XHRcdFx0XHRpZiAodGVzdHNbaV0udGVzdChjKSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0YnVmZmVyW2ldID0gYztcclxuXHRcdFx0XHRcdFx0XHRcdGxhc3RNYXRjaCA9IGk7XHJcblx0XHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0aWYgKHBvcyA+IHRlc3QubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRcdFx0Y2xlYXJCdWZmZXIoaSArIDEsIGxlbik7XHJcblx0XHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChidWZmZXJbaV0gPT09IHRlc3QuY2hhckF0KHBvcykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcysrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBpIDwgcGFydGlhbFBvc2l0aW9uKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RNYXRjaCA9IGk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKGFsbG93KSB7XHJcblx0XHRcdFx0XHR3cml0ZUJ1ZmZlcigpO1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAobGFzdE1hdGNoICsgMSA8IHBhcnRpYWxQb3NpdGlvbikge1xyXG5cdFx0XHRcdFx0aWYgKHNldHRpbmdzLmF1dG9jbGVhciB8fCBidWZmZXIuam9pbignJykgPT09IGRlZmF1bHRCdWZmZXIpIHtcclxuXHRcdFx0XHRcdFx0Ly8gSW52YWxpZCB2YWx1ZS4gUmVtb3ZlIGl0IGFuZCByZXBsYWNlIGl0IHdpdGggdGhlXHJcblx0XHRcdFx0XHRcdC8vIG1hc2ssIHdoaWNoIGlzIHRoZSBkZWZhdWx0IGJlaGF2aW9yLlxyXG5cdFx0XHRcdFx0XHRpZihpbnB1dC52YWwoKSkgaW5wdXQudmFsKFwiXCIpO1xyXG5cdFx0XHRcdFx0XHRjbGVhckJ1ZmZlcigwLCBsZW4pO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0Ly8gSW52YWxpZCB2YWx1ZSwgYnV0IHdlIG9wdCB0byBzaG93IHRoZSB2YWx1ZSB0byB0aGVcclxuXHRcdFx0XHRcdFx0Ly8gdXNlciBhbmQgYWxsb3cgdGhlbSB0byBjb3JyZWN0IHRoZWlyIG1pc3Rha2UuXHJcblx0XHRcdFx0XHRcdHdyaXRlQnVmZmVyKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHdyaXRlQnVmZmVyKCk7XHJcblx0XHRcdFx0XHRpbnB1dC52YWwoaW5wdXQudmFsKCkuc3Vic3RyaW5nKDAsIGxhc3RNYXRjaCArIDEpKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIChwYXJ0aWFsUG9zaXRpb24gPyBpIDogZmlyc3ROb25NYXNrUG9zKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aW5wdXQuZGF0YSgkLm1hc2suZGF0YU5hbWUsZnVuY3Rpb24oKXtcclxuXHRcdFx0XHRyZXR1cm4gJC5tYXAoYnVmZmVyLCBmdW5jdGlvbihjLCBpKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gdGVzdHNbaV0mJmMhPWdldFBsYWNlaG9sZGVyKGkpID8gYyA6IG51bGw7XHJcblx0XHRcdFx0fSkuam9pbignJyk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHJcblx0XHRcdGlucHV0XHJcblx0XHRcdFx0Lm9uZShcInVubWFza1wiLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdGlucHV0XHJcblx0XHRcdFx0XHRcdC5vZmYoXCIubWFza1wiKVxyXG5cdFx0XHRcdFx0XHQucmVtb3ZlRGF0YSgkLm1hc2suZGF0YU5hbWUpO1xyXG5cdFx0XHRcdH0pXHJcblx0XHRcdFx0Lm9uKFwiZm9jdXMubWFza1wiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQucHJvcChcInJlYWRvbmx5XCIpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcblx0XHRcdFx0XHRjbGVhclRpbWVvdXQoY2FyZXRUaW1lb3V0SWQpO1xyXG5cdFx0XHRcdFx0dmFyIHBvcztcclxuXHJcblx0XHRcdFx0XHRmb2N1c1RleHQgPSBpbnB1dC52YWwoKTtcclxuXHJcblx0XHRcdFx0XHRwb3MgPSBjaGVja1ZhbCgpO1xyXG5cclxuXHRcdFx0XHRcdGNhcmV0VGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihpbnB1dC5nZXQoMCkgIT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblx0XHRcdFx0XHRcdHdyaXRlQnVmZmVyKCk7XHJcblx0XHRcdFx0XHRcdGlmIChwb3MgPT0gbWFzay5yZXBsYWNlKFwiP1wiLFwiXCIpLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0XHRcdGlucHV0LmNhcmV0KDAsIHBvcyk7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0aW5wdXQuY2FyZXQocG9zKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSwgMTApO1xyXG5cdFx0XHRcdH0pXHJcblx0XHRcdFx0Lm9uKFwiYmx1ci5tYXNrXCIsIGJsdXJFdmVudClcclxuXHRcdFx0XHQub24oXCJrZXlkb3duLm1hc2tcIiwga2V5ZG93bkV2ZW50KVxyXG5cdFx0XHRcdC5vbihcImtleXByZXNzLm1hc2tcIiwga2V5cHJlc3NFdmVudClcclxuXHRcdFx0XHQub24oXCJpbnB1dC5tYXNrIHBhc3RlLm1hc2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LnByb3AoXCJyZWFkb25seVwiKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG5cdFx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0dmFyIHBvcz1jaGVja1ZhbCh0cnVlKTtcclxuXHRcdFx0XHRcdFx0aW5wdXQuY2FyZXQocG9zKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5RmlyZUNvbXBsZXRlZCgpO1xyXG5cdFx0XHRcdFx0fSwgMCk7XHJcblx0XHRcdFx0fSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hyb21lICYmIGFuZHJvaWQpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgLm9mZignaW5wdXQubWFzaycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5vbignaW5wdXQubWFzaycsIGFuZHJvaWRJbnB1dEV2ZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHRcdFx0XHRjaGVja1ZhbCgpOyAvL1BlcmZvcm0gaW5pdGlhbCBjaGVjayBmb3IgZXhpc3RpbmcgdmFsdWVzXHJcblx0XHR9KTtcclxuXHR9XHJcbn0pO1xyXG59KSk7XHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIGZhbmN5Qm94IHYzLjUuN1xyXG4vL1xyXG4vLyBMaWNlbnNlZCBHUEx2MyBmb3Igb3BlbiBzb3VyY2UgdXNlXHJcbi8vIG9yIGZhbmN5Qm94IENvbW1lcmNpYWwgTGljZW5zZSBmb3IgY29tbWVyY2lhbCB1c2VcclxuLy9cclxuLy8gaHR0cDovL2ZhbmN5YXBwcy5jb20vZmFuY3lib3gvXHJcbi8vIENvcHlyaWdodCAyMDE5IGZhbmN5QXBwc1xyXG4vL1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4hZnVuY3Rpb24odCxlLG4sbyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaSh0LGUpe3ZhciBvLGksYSxzPVtdLHI9MDt0JiZ0LmlzRGVmYXVsdFByZXZlbnRlZCgpfHwodC5wcmV2ZW50RGVmYXVsdCgpLGU9ZXx8e30sdCYmdC5kYXRhJiYoZT1oKHQuZGF0YS5vcHRpb25zLGUpKSxvPWUuJHRhcmdldHx8bih0LmN1cnJlbnRUYXJnZXQpLnRyaWdnZXIoXCJibHVyXCIpLChhPW4uZmFuY3lib3guZ2V0SW5zdGFuY2UoKSkmJmEuJHRyaWdnZXImJmEuJHRyaWdnZXIuaXMobyl8fChlLnNlbGVjdG9yP3M9bihlLnNlbGVjdG9yKTooaT1vLmF0dHIoXCJkYXRhLWZhbmN5Ym94XCIpfHxcIlwiLGk/KHM9dC5kYXRhP3QuZGF0YS5pdGVtczpbXSxzPXMubGVuZ3RoP3MuZmlsdGVyKCdbZGF0YS1mYW5jeWJveD1cIicraSsnXCJdJyk6bignW2RhdGEtZmFuY3lib3g9XCInK2krJ1wiXScpKTpzPVtvXSkscj1uKHMpLmluZGV4KG8pLHI8MCYmKHI9MCksYT1uLmZhbmN5Ym94Lm9wZW4ocyxlLHIpLGEuJHRyaWdnZXI9bykpfWlmKHQuY29uc29sZT10LmNvbnNvbGV8fHtpbmZvOmZ1bmN0aW9uKHQpe319LG4pe2lmKG4uZm4uZmFuY3lib3gpcmV0dXJuIHZvaWQgY29uc29sZS5pbmZvKFwiZmFuY3lCb3ggYWxyZWFkeSBpbml0aWFsaXplZFwiKTt2YXIgYT17Y2xvc2VFeGlzdGluZzohMSxsb29wOiExLGd1dHRlcjo1MCxrZXlib2FyZDohMCxwcmV2ZW50Q2FwdGlvbk92ZXJsYXA6ITAsYXJyb3dzOiEwLGluZm9iYXI6ITAsc21hbGxCdG46XCJhdXRvXCIsdG9vbGJhcjpcImF1dG9cIixidXR0b25zOltcInpvb21cIixcInNsaWRlU2hvd1wiLFwidGh1bWJzXCIsXCJjbG9zZVwiXSxpZGxlVGltZTozLHByb3RlY3Q6ITEsbW9kYWw6ITEsaW1hZ2U6e3ByZWxvYWQ6ITF9LGFqYXg6e3NldHRpbmdzOntkYXRhOntmYW5jeWJveDohMH19fSxpZnJhbWU6e3RwbDonPGlmcmFtZSBpZD1cImZhbmN5Ym94LWZyYW1le3JuZH1cIiBuYW1lPVwiZmFuY3lib3gtZnJhbWV7cm5kfVwiIGNsYXNzPVwiZmFuY3lib3gtaWZyYW1lXCIgYWxsb3dmdWxsc2NyZWVuPVwiYWxsb3dmdWxsc2NyZWVuXCIgYWxsb3c9XCJhdXRvcGxheTsgZnVsbHNjcmVlblwiIHNyYz1cIlwiPjwvaWZyYW1lPicscHJlbG9hZDohMCxjc3M6e30sYXR0cjp7c2Nyb2xsaW5nOlwiYXV0b1wifX0sdmlkZW86e3RwbDonPHZpZGVvIGNsYXNzPVwiZmFuY3lib3gtdmlkZW9cIiBjb250cm9scyBjb250cm9sc0xpc3Q9XCJub2Rvd25sb2FkXCIgcG9zdGVyPVwie3twb3N0ZXJ9fVwiPjxzb3VyY2Ugc3JjPVwie3tzcmN9fVwiIHR5cGU9XCJ7e2Zvcm1hdH19XCIgLz5Tb3JyeSwgeW91ciBicm93c2VyIGRvZXNuXFwndCBzdXBwb3J0IGVtYmVkZGVkIHZpZGVvcywgPGEgaHJlZj1cInt7c3JjfX1cIj5kb3dubG9hZDwvYT4gYW5kIHdhdGNoIHdpdGggeW91ciBmYXZvcml0ZSB2aWRlbyBwbGF5ZXIhPC92aWRlbz4nLGZvcm1hdDpcIlwiLGF1dG9TdGFydDohMH0sZGVmYXVsdFR5cGU6XCJpbWFnZVwiLGFuaW1hdGlvbkVmZmVjdDpcInpvb21cIixhbmltYXRpb25EdXJhdGlvbjozNjYsem9vbU9wYWNpdHk6XCJhdXRvXCIsdHJhbnNpdGlvbkVmZmVjdDpcImZhZGVcIix0cmFuc2l0aW9uRHVyYXRpb246MzY2LHNsaWRlQ2xhc3M6XCJcIixiYXNlQ2xhc3M6XCJcIixiYXNlVHBsOic8ZGl2IGNsYXNzPVwiZmFuY3lib3gtY29udGFpbmVyXCIgcm9sZT1cImRpYWxvZ1wiIHRhYmluZGV4PVwiLTFcIj48ZGl2IGNsYXNzPVwiZmFuY3lib3gtYmdcIj48L2Rpdj48ZGl2IGNsYXNzPVwiZmFuY3lib3gtaW5uZXJcIj48ZGl2IGNsYXNzPVwiZmFuY3lib3gtaW5mb2JhclwiPjxzcGFuIGRhdGEtZmFuY3lib3gtaW5kZXg+PC9zcGFuPiZuYnNwOy8mbmJzcDs8c3BhbiBkYXRhLWZhbmN5Ym94LWNvdW50Pjwvc3Bhbj48L2Rpdj48ZGl2IGNsYXNzPVwiZmFuY3lib3gtdG9vbGJhclwiPnt7YnV0dG9uc319PC9kaXY+PGRpdiBjbGFzcz1cImZhbmN5Ym94LW5hdmlnYXRpb25cIj57e2Fycm93c319PC9kaXY+PGRpdiBjbGFzcz1cImZhbmN5Ym94LXN0YWdlXCI+PC9kaXY+PGRpdiBjbGFzcz1cImZhbmN5Ym94LWNhcHRpb25cIj48ZGl2IGNsYXNzPVwiZmFuY3lib3gtY2FwdGlvbl9fYm9keVwiPjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2Picsc3Bpbm5lclRwbDonPGRpdiBjbGFzcz1cImZhbmN5Ym94LWxvYWRpbmdcIj48L2Rpdj4nLGVycm9yVHBsOic8ZGl2IGNsYXNzPVwiZmFuY3lib3gtZXJyb3JcIj48cD57e0VSUk9SfX08L3A+PC9kaXY+JyxidG5UcGw6e2Rvd25sb2FkOic8YSBkb3dubG9hZCBkYXRhLWZhbmN5Ym94LWRvd25sb2FkIGNsYXNzPVwiZmFuY3lib3gtYnV0dG9uIGZhbmN5Ym94LWJ1dHRvbi0tZG93bmxvYWRcIiB0aXRsZT1cInt7RE9XTkxPQUR9fVwiIGhyZWY9XCJqYXZhc2NyaXB0OjtcIj48c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggZD1cIk0xOC42MiAxNy4wOVYxOUg1LjM4di0xLjkxem0tMi45Ny02Ljk2TDE3IDExLjQ1bC01IDQuODctNS00Ljg3IDEuMzYtMS4zMiAyLjY4IDIuNjRWNWgxLjkydjcuNzd6XCIvPjwvc3ZnPjwvYT4nLHpvb206JzxidXR0b24gZGF0YS1mYW5jeWJveC16b29tIGNsYXNzPVwiZmFuY3lib3gtYnV0dG9uIGZhbmN5Ym94LWJ1dHRvbi0tem9vbVwiIHRpdGxlPVwie3taT09NfX1cIj48c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggZD1cIk0xOC43IDE3LjNsLTMtM2E1LjkgNS45IDAgMCAwLS42LTcuNiA1LjkgNS45IDAgMCAwLTguNCAwIDUuOSA1LjkgMCAwIDAgMCA4LjQgNS45IDUuOSAwIDAgMCA3LjcuN2wzIDNhMSAxIDAgMCAwIDEuMyAwYy40LS41LjQtMSAwLTEuNXpNOC4xIDEzLjhhNCA0IDAgMCAxIDAtNS43IDQgNCAwIDAgMSA1LjcgMCA0IDQgMCAwIDEgMCA1LjcgNCA0IDAgMCAxLTUuNyAwelwiLz48L3N2Zz48L2J1dHRvbj4nLGNsb3NlOic8YnV0dG9uIGRhdGEtZmFuY3lib3gtY2xvc2UgY2xhc3M9XCJmYW5jeWJveC1idXR0b24gZmFuY3lib3gtYnV0dG9uLS1jbG9zZVwiIHRpdGxlPVwie3tDTE9TRX19XCI+PHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIGQ9XCJNMTIgMTAuNkw2LjYgNS4yIDUuMiA2LjZsNS40IDUuNC01LjQgNS40IDEuNCAxLjQgNS40LTUuNCA1LjQgNS40IDEuNC0xLjQtNS40LTUuNCA1LjQtNS40LTEuNC0xLjQtNS40IDUuNHpcIi8+PC9zdmc+PC9idXR0b24+JyxhcnJvd0xlZnQ6JzxidXR0b24gZGF0YS1mYW5jeWJveC1wcmV2IGNsYXNzPVwiZmFuY3lib3gtYnV0dG9uIGZhbmN5Ym94LWJ1dHRvbi0tYXJyb3dfbGVmdFwiIHRpdGxlPVwie3tQUkVWfX1cIj48ZGl2PjxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBkPVwiTTExLjI4IDE1LjdsLTEuMzQgMS4zN0w1IDEybDQuOTQtNS4wNyAxLjM0IDEuMzgtMi42OCAyLjcySDE5djEuOTRIOC42elwiLz48L3N2Zz48L2Rpdj48L2J1dHRvbj4nLGFycm93UmlnaHQ6JzxidXR0b24gZGF0YS1mYW5jeWJveC1uZXh0IGNsYXNzPVwiZmFuY3lib3gtYnV0dG9uIGZhbmN5Ym94LWJ1dHRvbi0tYXJyb3dfcmlnaHRcIiB0aXRsZT1cInt7TkVYVH19XCI+PGRpdj48c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggZD1cIk0xNS40IDEyLjk3bC0yLjY4IDIuNzIgMS4zNCAxLjM4TDE5IDEybC00Ljk0LTUuMDctMS4zNCAxLjM4IDIuNjggMi43Mkg1djEuOTR6XCIvPjwvc3ZnPjwvZGl2PjwvYnV0dG9uPicsc21hbGxCdG46JzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGRhdGEtZmFuY3lib3gtY2xvc2UgY2xhc3M9XCJmYW5jeWJveC1idXR0b24gZmFuY3lib3gtY2xvc2Utc21hbGxcIiB0aXRsZT1cInt7Q0xPU0V9fVwiPjxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZlcnNpb249XCIxXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIGQ9XCJNMTMgMTJsNS01LTEtMS01IDUtNS01LTEgMSA1IDUtNSA1IDEgMSA1LTUgNSA1IDEtMXpcIi8+PC9zdmc+PC9idXR0b24+J30scGFyZW50RWw6XCJib2R5XCIsaGlkZVNjcm9sbGJhcjohMCxhdXRvRm9jdXM6ITAsYmFja0ZvY3VzOiEwLHRyYXBGb2N1czohMCxmdWxsU2NyZWVuOnthdXRvU3RhcnQ6ITF9LHRvdWNoOnt2ZXJ0aWNhbDohMCxtb21lbnR1bTohMH0saGFzaDpudWxsLG1lZGlhOnt9LHNsaWRlU2hvdzp7YXV0b1N0YXJ0OiExLHNwZWVkOjNlM30sdGh1bWJzOnthdXRvU3RhcnQ6ITEsaGlkZU9uQ2xvc2U6ITAscGFyZW50RWw6XCIuZmFuY3lib3gtY29udGFpbmVyXCIsYXhpczpcInlcIn0sd2hlZWw6XCJhdXRvXCIsb25Jbml0Om4ubm9vcCxiZWZvcmVMb2FkOm4ubm9vcCxhZnRlckxvYWQ6bi5ub29wLGJlZm9yZVNob3c6bi5ub29wLGFmdGVyU2hvdzpuLm5vb3AsYmVmb3JlQ2xvc2U6bi5ub29wLGFmdGVyQ2xvc2U6bi5ub29wLG9uQWN0aXZhdGU6bi5ub29wLG9uRGVhY3RpdmF0ZTpuLm5vb3AsY2xpY2tDb250ZW50OmZ1bmN0aW9uKHQsZSl7cmV0dXJuXCJpbWFnZVwiPT09dC50eXBlJiZcInpvb21cIn0sY2xpY2tTbGlkZTpcImNsb3NlXCIsY2xpY2tPdXRzaWRlOlwiY2xvc2VcIixkYmxjbGlja0NvbnRlbnQ6ITEsZGJsY2xpY2tTbGlkZTohMSxkYmxjbGlja091dHNpZGU6ITEsbW9iaWxlOntwcmV2ZW50Q2FwdGlvbk92ZXJsYXA6ITEsaWRsZVRpbWU6ITEsY2xpY2tDb250ZW50OmZ1bmN0aW9uKHQsZSl7cmV0dXJuXCJpbWFnZVwiPT09dC50eXBlJiZcInRvZ2dsZUNvbnRyb2xzXCJ9LGNsaWNrU2xpZGU6ZnVuY3Rpb24odCxlKXtyZXR1cm5cImltYWdlXCI9PT10LnR5cGU/XCJ0b2dnbGVDb250cm9sc1wiOlwiY2xvc2VcIn0sZGJsY2xpY2tDb250ZW50OmZ1bmN0aW9uKHQsZSl7cmV0dXJuXCJpbWFnZVwiPT09dC50eXBlJiZcInpvb21cIn0sZGJsY2xpY2tTbGlkZTpmdW5jdGlvbih0LGUpe3JldHVyblwiaW1hZ2VcIj09PXQudHlwZSYmXCJ6b29tXCJ9fSxsYW5nOlwiZW5cIixpMThuOntlbjp7Q0xPU0U6XCJDbG9zZVwiLE5FWFQ6XCJOZXh0XCIsUFJFVjpcIlByZXZpb3VzXCIsRVJST1I6XCJUaGUgcmVxdWVzdGVkIGNvbnRlbnQgY2Fubm90IGJlIGxvYWRlZC4gPGJyLz4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci5cIixQTEFZX1NUQVJUOlwiU3RhcnQgc2xpZGVzaG93XCIsUExBWV9TVE9QOlwiUGF1c2Ugc2xpZGVzaG93XCIsRlVMTF9TQ1JFRU46XCJGdWxsIHNjcmVlblwiLFRIVU1CUzpcIlRodW1ibmFpbHNcIixET1dOTE9BRDpcIkRvd25sb2FkXCIsU0hBUkU6XCJTaGFyZVwiLFpPT006XCJab29tXCJ9LGRlOntDTE9TRTpcIlNjaGxpZSZzemxpZztlblwiLE5FWFQ6XCJXZWl0ZXJcIixQUkVWOlwiWnVyJnV1bWw7Y2tcIixFUlJPUjpcIkRpZSBhbmdlZm9yZGVydGVuIERhdGVuIGtvbm50ZW4gbmljaHQgZ2VsYWRlbiB3ZXJkZW4uIDxici8+IEJpdHRlIHZlcnN1Y2hlbiBTaWUgZXMgc3AmYXVtbDt0ZXIgbm9jaG1hbC5cIixQTEFZX1NUQVJUOlwiRGlhc2NoYXUgc3RhcnRlblwiLFBMQVlfU1RPUDpcIkRpYXNjaGF1IGJlZW5kZW5cIixGVUxMX1NDUkVFTjpcIlZvbGxiaWxkXCIsVEhVTUJTOlwiVm9yc2NoYXViaWxkZXJcIixET1dOTE9BRDpcIkhlcnVudGVybGFkZW5cIixTSEFSRTpcIlRlaWxlblwiLFpPT006XCJWZXJnciZvdW1sOyZzemxpZztlcm5cIn19fSxzPW4odCkscj1uKGUpLGM9MCxsPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Lmhhc093blByb3BlcnR5JiZ0IGluc3RhbmNlb2Ygbn0sZD1mdW5jdGlvbigpe3JldHVybiB0LnJlcXVlc3RBbmltYXRpb25GcmFtZXx8dC53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHQubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx0Lm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKGUpe3JldHVybiB0LnNldFRpbWVvdXQoZSwxZTMvNjApfX0oKSx1PWZ1bmN0aW9uKCl7cmV0dXJuIHQuY2FuY2VsQW5pbWF0aW9uRnJhbWV8fHQud2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWV8fHQubW96Q2FuY2VsQW5pbWF0aW9uRnJhbWV8fHQub0NhbmNlbEFuaW1hdGlvbkZyYW1lfHxmdW5jdGlvbihlKXt0LmNsZWFyVGltZW91dChlKX19KCksZj1mdW5jdGlvbigpe3ZhciB0LG49ZS5jcmVhdGVFbGVtZW50KFwiZmFrZWVsZW1lbnRcIiksbz17dHJhbnNpdGlvbjpcInRyYW5zaXRpb25lbmRcIixPVHJhbnNpdGlvbjpcIm9UcmFuc2l0aW9uRW5kXCIsTW96VHJhbnNpdGlvbjpcInRyYW5zaXRpb25lbmRcIixXZWJraXRUcmFuc2l0aW9uOlwid2Via2l0VHJhbnNpdGlvbkVuZFwifTtmb3IodCBpbiBvKWlmKHZvaWQgMCE9PW4uc3R5bGVbdF0pcmV0dXJuIG9bdF07cmV0dXJuXCJ0cmFuc2l0aW9uZW5kXCJ9KCkscD1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5sZW5ndGgmJnRbMF0ub2Zmc2V0SGVpZ2h0fSxoPWZ1bmN0aW9uKHQsZSl7dmFyIG89bi5leHRlbmQoITAse30sdCxlKTtyZXR1cm4gbi5lYWNoKGUsZnVuY3Rpb24odCxlKXtuLmlzQXJyYXkoZSkmJihvW3RdPWUpfSksb30sZz1mdW5jdGlvbih0KXt2YXIgbyxpO3JldHVybiEoIXR8fHQub3duZXJEb2N1bWVudCE9PWUpJiYobihcIi5mYW5jeWJveC1jb250YWluZXJcIikuY3NzKFwicG9pbnRlci1ldmVudHNcIixcIm5vbmVcIiksbz17eDp0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQrdC5vZmZzZXRXaWR0aC8yLHk6dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3ArdC5vZmZzZXRIZWlnaHQvMn0saT1lLmVsZW1lbnRGcm9tUG9pbnQoby54LG8ueSk9PT10LG4oXCIuZmFuY3lib3gtY29udGFpbmVyXCIpLmNzcyhcInBvaW50ZXItZXZlbnRzXCIsXCJcIiksaSl9LGI9ZnVuY3Rpb24odCxlLG8pe3ZhciBpPXRoaXM7aS5vcHRzPWgoe2luZGV4Om99LG4uZmFuY3lib3guZGVmYXVsdHMpLG4uaXNQbGFpbk9iamVjdChlKSYmKGkub3B0cz1oKGkub3B0cyxlKSksbi5mYW5jeWJveC5pc01vYmlsZSYmKGkub3B0cz1oKGkub3B0cyxpLm9wdHMubW9iaWxlKSksaS5pZD1pLm9wdHMuaWR8fCsrYyxpLmN1cnJJbmRleD1wYXJzZUludChpLm9wdHMuaW5kZXgsMTApfHwwLGkucHJldkluZGV4PW51bGwsaS5wcmV2UG9zPW51bGwsaS5jdXJyUG9zPTAsaS5maXJzdFJ1bj0hMCxpLmdyb3VwPVtdLGkuc2xpZGVzPXt9LGkuYWRkQ29udGVudCh0KSxpLmdyb3VwLmxlbmd0aCYmaS5pbml0KCl9O24uZXh0ZW5kKGIucHJvdG90eXBlLHtpbml0OmZ1bmN0aW9uKCl7dmFyIG8saSxhPXRoaXMscz1hLmdyb3VwW2EuY3VyckluZGV4XSxyPXMub3B0cztyLmNsb3NlRXhpc3RpbmcmJm4uZmFuY3lib3guY2xvc2UoITApLG4oXCJib2R5XCIpLmFkZENsYXNzKFwiZmFuY3lib3gtYWN0aXZlXCIpLCFuLmZhbmN5Ym94LmdldEluc3RhbmNlKCkmJiExIT09ci5oaWRlU2Nyb2xsYmFyJiYhbi5mYW5jeWJveC5pc01vYmlsZSYmZS5ib2R5LnNjcm9sbEhlaWdodD50LmlubmVySGVpZ2h0JiYobihcImhlYWRcIikuYXBwZW5kKCc8c3R5bGUgaWQ9XCJmYW5jeWJveC1zdHlsZS1ub3Njcm9sbFwiIHR5cGU9XCJ0ZXh0L2Nzc1wiPi5jb21wZW5zYXRlLWZvci1zY3JvbGxiYXJ7bWFyZ2luLXJpZ2h0OicrKHQuaW5uZXJXaWR0aC1lLmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCkrXCJweDt9PC9zdHlsZT5cIiksbihcImJvZHlcIikuYWRkQ2xhc3MoXCJjb21wZW5zYXRlLWZvci1zY3JvbGxiYXJcIikpLGk9XCJcIixuLmVhY2goci5idXR0b25zLGZ1bmN0aW9uKHQsZSl7aSs9ci5idG5UcGxbZV18fFwiXCJ9KSxvPW4oYS50cmFuc2xhdGUoYSxyLmJhc2VUcGwucmVwbGFjZShcInt7YnV0dG9uc319XCIsaSkucmVwbGFjZShcInt7YXJyb3dzfX1cIixyLmJ0blRwbC5hcnJvd0xlZnQrci5idG5UcGwuYXJyb3dSaWdodCkpKS5hdHRyKFwiaWRcIixcImZhbmN5Ym94LWNvbnRhaW5lci1cIithLmlkKS5hZGRDbGFzcyhyLmJhc2VDbGFzcykuZGF0YShcIkZhbmN5Qm94XCIsYSkuYXBwZW5kVG8oci5wYXJlbnRFbCksYS4kcmVmcz17Y29udGFpbmVyOm99LFtcImJnXCIsXCJpbm5lclwiLFwiaW5mb2JhclwiLFwidG9vbGJhclwiLFwic3RhZ2VcIixcImNhcHRpb25cIixcIm5hdmlnYXRpb25cIl0uZm9yRWFjaChmdW5jdGlvbih0KXthLiRyZWZzW3RdPW8uZmluZChcIi5mYW5jeWJveC1cIit0KX0pLGEudHJpZ2dlcihcIm9uSW5pdFwiKSxhLmFjdGl2YXRlKCksYS5qdW1wVG8oYS5jdXJySW5kZXgpfSx0cmFuc2xhdGU6ZnVuY3Rpb24odCxlKXt2YXIgbj10Lm9wdHMuaTE4blt0Lm9wdHMubGFuZ118fHQub3B0cy5pMThuLmVuO3JldHVybiBlLnJlcGxhY2UoL1xce1xceyhcXHcrKVxcfVxcfS9nLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PW5bZV0/dDpuW2VdfSl9LGFkZENvbnRlbnQ6ZnVuY3Rpb24odCl7dmFyIGUsbz10aGlzLGk9bi5tYWtlQXJyYXkodCk7bi5lYWNoKGksZnVuY3Rpb24odCxlKXt2YXIgaSxhLHMscixjLGw9e30sZD17fTtuLmlzUGxhaW5PYmplY3QoZSk/KGw9ZSxkPWUub3B0c3x8ZSk6XCJvYmplY3RcIj09PW4udHlwZShlKSYmbihlKS5sZW5ndGg/KGk9bihlKSxkPWkuZGF0YSgpfHx7fSxkPW4uZXh0ZW5kKCEwLHt9LGQsZC5vcHRpb25zKSxkLiRvcmlnPWksbC5zcmM9by5vcHRzLnNyY3x8ZC5zcmN8fGkuYXR0cihcImhyZWZcIiksbC50eXBlfHxsLnNyY3x8KGwudHlwZT1cImlubGluZVwiLGwuc3JjPWUpKTpsPXt0eXBlOlwiaHRtbFwiLHNyYzplK1wiXCJ9LGwub3B0cz1uLmV4dGVuZCghMCx7fSxvLm9wdHMsZCksbi5pc0FycmF5KGQuYnV0dG9ucykmJihsLm9wdHMuYnV0dG9ucz1kLmJ1dHRvbnMpLG4uZmFuY3lib3guaXNNb2JpbGUmJmwub3B0cy5tb2JpbGUmJihsLm9wdHM9aChsLm9wdHMsbC5vcHRzLm1vYmlsZSkpLGE9bC50eXBlfHxsLm9wdHMudHlwZSxyPWwuc3JjfHxcIlwiLCFhJiZyJiYoKHM9ci5tYXRjaCgvXFwuKG1wNHxtb3Z8b2d2fHdlYm0pKChcXD98IykuKik/JC9pKSk/KGE9XCJ2aWRlb1wiLGwub3B0cy52aWRlby5mb3JtYXR8fChsLm9wdHMudmlkZW8uZm9ybWF0PVwidmlkZW8vXCIrKFwib2d2XCI9PT1zWzFdP1wib2dnXCI6c1sxXSkpKTpyLm1hdGNoKC8oXmRhdGE6aW1hZ2VcXC9bYS16MC05K1xcLz1dKiwpfChcXC4oanAoZXxnfGVnKXxnaWZ8cG5nfGJtcHx3ZWJwfHN2Z3xpY28pKChcXD98IykuKik/JCkvaSk/YT1cImltYWdlXCI6ci5tYXRjaCgvXFwuKHBkZikoKFxcP3wjKS4qKT8kL2kpPyhhPVwiaWZyYW1lXCIsbD1uLmV4dGVuZCghMCxsLHtjb250ZW50VHlwZTpcInBkZlwiLG9wdHM6e2lmcmFtZTp7cHJlbG9hZDohMX19fSkpOlwiI1wiPT09ci5jaGFyQXQoMCkmJihhPVwiaW5saW5lXCIpKSxhP2wudHlwZT1hOm8udHJpZ2dlcihcIm9iamVjdE5lZWRzVHlwZVwiLGwpLGwuY29udGVudFR5cGV8fChsLmNvbnRlbnRUeXBlPW4uaW5BcnJheShsLnR5cGUsW1wiaHRtbFwiLFwiaW5saW5lXCIsXCJhamF4XCJdKT4tMT9cImh0bWxcIjpsLnR5cGUpLGwuaW5kZXg9by5ncm91cC5sZW5ndGgsXCJhdXRvXCI9PWwub3B0cy5zbWFsbEJ0biYmKGwub3B0cy5zbWFsbEJ0bj1uLmluQXJyYXkobC50eXBlLFtcImh0bWxcIixcImlubGluZVwiLFwiYWpheFwiXSk+LTEpLFwiYXV0b1wiPT09bC5vcHRzLnRvb2xiYXImJihsLm9wdHMudG9vbGJhcj0hbC5vcHRzLnNtYWxsQnRuKSxsLiR0aHVtYj1sLm9wdHMuJHRodW1ifHxudWxsLGwub3B0cy4kdHJpZ2dlciYmbC5pbmRleD09PW8ub3B0cy5pbmRleCYmKGwuJHRodW1iPWwub3B0cy4kdHJpZ2dlci5maW5kKFwiaW1nOmZpcnN0XCIpLGwuJHRodW1iLmxlbmd0aCYmKGwub3B0cy4kb3JpZz1sLm9wdHMuJHRyaWdnZXIpKSxsLiR0aHVtYiYmbC4kdGh1bWIubGVuZ3RofHwhbC5vcHRzLiRvcmlnfHwobC4kdGh1bWI9bC5vcHRzLiRvcmlnLmZpbmQoXCJpbWc6Zmlyc3RcIikpLGwuJHRodW1iJiYhbC4kdGh1bWIubGVuZ3RoJiYobC4kdGh1bWI9bnVsbCksbC50aHVtYj1sLm9wdHMudGh1bWJ8fChsLiR0aHVtYj9sLiR0aHVtYlswXS5zcmM6bnVsbCksXCJmdW5jdGlvblwiPT09bi50eXBlKGwub3B0cy5jYXB0aW9uKSYmKGwub3B0cy5jYXB0aW9uPWwub3B0cy5jYXB0aW9uLmFwcGx5KGUsW28sbF0pKSxcImZ1bmN0aW9uXCI9PT1uLnR5cGUoby5vcHRzLmNhcHRpb24pJiYobC5vcHRzLmNhcHRpb249by5vcHRzLmNhcHRpb24uYXBwbHkoZSxbbyxsXSkpLGwub3B0cy5jYXB0aW9uIGluc3RhbmNlb2Ygbnx8KGwub3B0cy5jYXB0aW9uPXZvaWQgMD09PWwub3B0cy5jYXB0aW9uP1wiXCI6bC5vcHRzLmNhcHRpb24rXCJcIiksXCJhamF4XCI9PT1sLnR5cGUmJihjPXIuc3BsaXQoL1xccysvLDIpLGMubGVuZ3RoPjEmJihsLnNyYz1jLnNoaWZ0KCksbC5vcHRzLmZpbHRlcj1jLnNoaWZ0KCkpKSxsLm9wdHMubW9kYWwmJihsLm9wdHM9bi5leHRlbmQoITAsbC5vcHRzLHt0cmFwRm9jdXM6ITAsaW5mb2JhcjowLHRvb2xiYXI6MCxzbWFsbEJ0bjowLGtleWJvYXJkOjAsc2xpZGVTaG93OjAsZnVsbFNjcmVlbjowLHRodW1iczowLHRvdWNoOjAsY2xpY2tDb250ZW50OiExLGNsaWNrU2xpZGU6ITEsY2xpY2tPdXRzaWRlOiExLGRibGNsaWNrQ29udGVudDohMSxkYmxjbGlja1NsaWRlOiExLGRibGNsaWNrT3V0c2lkZTohMX0pKSxvLmdyb3VwLnB1c2gobCl9KSxPYmplY3Qua2V5cyhvLnNsaWRlcykubGVuZ3RoJiYoby51cGRhdGVDb250cm9scygpLChlPW8uVGh1bWJzKSYmZS5pc0FjdGl2ZSYmKGUuY3JlYXRlKCksZS5mb2N1cygpKSl9LGFkZEV2ZW50czpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5yZW1vdmVFdmVudHMoKSxlLiRyZWZzLmNvbnRhaW5lci5vbihcImNsaWNrLmZiLWNsb3NlXCIsXCJbZGF0YS1mYW5jeWJveC1jbG9zZV1cIixmdW5jdGlvbih0KXt0LnN0b3BQcm9wYWdhdGlvbigpLHQucHJldmVudERlZmF1bHQoKSxlLmNsb3NlKHQpfSkub24oXCJ0b3VjaHN0YXJ0LmZiLXByZXYgY2xpY2suZmItcHJldlwiLFwiW2RhdGEtZmFuY3lib3gtcHJldl1cIixmdW5jdGlvbih0KXt0LnN0b3BQcm9wYWdhdGlvbigpLHQucHJldmVudERlZmF1bHQoKSxlLnByZXZpb3VzKCl9KS5vbihcInRvdWNoc3RhcnQuZmItbmV4dCBjbGljay5mYi1uZXh0XCIsXCJbZGF0YS1mYW5jeWJveC1uZXh0XVwiLGZ1bmN0aW9uKHQpe3Quc3RvcFByb3BhZ2F0aW9uKCksdC5wcmV2ZW50RGVmYXVsdCgpLGUubmV4dCgpfSkub24oXCJjbGljay5mYlwiLFwiW2RhdGEtZmFuY3lib3gtem9vbV1cIixmdW5jdGlvbih0KXtlW2UuaXNTY2FsZWREb3duKCk/XCJzY2FsZVRvQWN0dWFsXCI6XCJzY2FsZVRvRml0XCJdKCl9KSxzLm9uKFwib3JpZW50YXRpb25jaGFuZ2UuZmIgcmVzaXplLmZiXCIsZnVuY3Rpb24odCl7dCYmdC5vcmlnaW5hbEV2ZW50JiZcInJlc2l6ZVwiPT09dC5vcmlnaW5hbEV2ZW50LnR5cGU/KGUucmVxdWVzdElkJiZ1KGUucmVxdWVzdElkKSxlLnJlcXVlc3RJZD1kKGZ1bmN0aW9uKCl7ZS51cGRhdGUodCl9KSk6KGUuY3VycmVudCYmXCJpZnJhbWVcIj09PWUuY3VycmVudC50eXBlJiZlLiRyZWZzLnN0YWdlLmhpZGUoKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS4kcmVmcy5zdGFnZS5zaG93KCksZS51cGRhdGUodCl9LG4uZmFuY3lib3guaXNNb2JpbGU/NjAwOjI1MCkpfSksci5vbihcImtleWRvd24uZmJcIixmdW5jdGlvbih0KXt2YXIgbz1uLmZhbmN5Ym94P24uZmFuY3lib3guZ2V0SW5zdGFuY2UoKTpudWxsLGk9by5jdXJyZW50LGE9dC5rZXlDb2RlfHx0LndoaWNoO2lmKDk9PWEpcmV0dXJuIHZvaWQoaS5vcHRzLnRyYXBGb2N1cyYmZS5mb2N1cyh0KSk7aWYoISghaS5vcHRzLmtleWJvYXJkfHx0LmN0cmxLZXl8fHQuYWx0S2V5fHx0LnNoaWZ0S2V5fHxuKHQudGFyZ2V0KS5pcyhcImlucHV0LHRleHRhcmVhLHZpZGVvLGF1ZGlvLHNlbGVjdFwiKSkpcmV0dXJuIDg9PT1hfHwyNz09PWE/KHQucHJldmVudERlZmF1bHQoKSx2b2lkIGUuY2xvc2UodCkpOjM3PT09YXx8Mzg9PT1hPyh0LnByZXZlbnREZWZhdWx0KCksdm9pZCBlLnByZXZpb3VzKCkpOjM5PT09YXx8NDA9PT1hPyh0LnByZXZlbnREZWZhdWx0KCksdm9pZCBlLm5leHQoKSk6dm9pZCBlLnRyaWdnZXIoXCJhZnRlcktleWRvd25cIix0LGEpfSksZS5ncm91cFtlLmN1cnJJbmRleF0ub3B0cy5pZGxlVGltZSYmKGUuaWRsZVNlY29uZHNDb3VudGVyPTAsci5vbihcIm1vdXNlbW92ZS5mYi1pZGxlIG1vdXNlbGVhdmUuZmItaWRsZSBtb3VzZWRvd24uZmItaWRsZSB0b3VjaHN0YXJ0LmZiLWlkbGUgdG91Y2htb3ZlLmZiLWlkbGUgc2Nyb2xsLmZiLWlkbGUga2V5ZG93bi5mYi1pZGxlXCIsZnVuY3Rpb24odCl7ZS5pZGxlU2Vjb25kc0NvdW50ZXI9MCxlLmlzSWRsZSYmZS5zaG93Q29udHJvbHMoKSxlLmlzSWRsZT0hMX0pLGUuaWRsZUludGVydmFsPXQuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXsrK2UuaWRsZVNlY29uZHNDb3VudGVyPj1lLmdyb3VwW2UuY3VyckluZGV4XS5vcHRzLmlkbGVUaW1lJiYhZS5pc0RyYWdnaW5nJiYoZS5pc0lkbGU9ITAsZS5pZGxlU2Vjb25kc0NvdW50ZXI9MCxlLmhpZGVDb250cm9scygpKX0sMWUzKSl9LHJlbW92ZUV2ZW50czpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cy5vZmYoXCJvcmllbnRhdGlvbmNoYW5nZS5mYiByZXNpemUuZmJcIiksci5vZmYoXCJrZXlkb3duLmZiIC5mYi1pZGxlXCIpLHRoaXMuJHJlZnMuY29udGFpbmVyLm9mZihcIi5mYi1jbG9zZSAuZmItcHJldiAuZmItbmV4dFwiKSxlLmlkbGVJbnRlcnZhbCYmKHQuY2xlYXJJbnRlcnZhbChlLmlkbGVJbnRlcnZhbCksZS5pZGxlSW50ZXJ2YWw9bnVsbCl9LHByZXZpb3VzOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmp1bXBUbyh0aGlzLmN1cnJQb3MtMSx0KX0sbmV4dDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5qdW1wVG8odGhpcy5jdXJyUG9zKzEsdCl9LGp1bXBUbzpmdW5jdGlvbih0LGUpe3ZhciBvLGksYSxzLHIsYyxsLGQsdSxmPXRoaXMsaD1mLmdyb3VwLmxlbmd0aDtpZighKGYuaXNEcmFnZ2luZ3x8Zi5pc0Nsb3Npbmd8fGYuaXNBbmltYXRpbmcmJmYuZmlyc3RSdW4pKXtpZih0PXBhcnNlSW50KHQsMTApLCEoYT1mLmN1cnJlbnQ/Zi5jdXJyZW50Lm9wdHMubG9vcDpmLm9wdHMubG9vcCkmJih0PDB8fHQ+PWgpKXJldHVybiExO2lmKG89Zi5maXJzdFJ1bj0hT2JqZWN0LmtleXMoZi5zbGlkZXMpLmxlbmd0aCxyPWYuY3VycmVudCxmLnByZXZJbmRleD1mLmN1cnJJbmRleCxmLnByZXZQb3M9Zi5jdXJyUG9zLHM9Zi5jcmVhdGVTbGlkZSh0KSxoPjEmJigoYXx8cy5pbmRleDxoLTEpJiZmLmNyZWF0ZVNsaWRlKHQrMSksKGF8fHMuaW5kZXg+MCkmJmYuY3JlYXRlU2xpZGUodC0xKSksZi5jdXJyZW50PXMsZi5jdXJySW5kZXg9cy5pbmRleCxmLmN1cnJQb3M9cy5wb3MsZi50cmlnZ2VyKFwiYmVmb3JlU2hvd1wiLG8pLGYudXBkYXRlQ29udHJvbHMoKSxzLmZvcmNlZER1cmF0aW9uPXZvaWQgMCxuLmlzTnVtZXJpYyhlKT9zLmZvcmNlZER1cmF0aW9uPWU6ZT1zLm9wdHNbbz9cImFuaW1hdGlvbkR1cmF0aW9uXCI6XCJ0cmFuc2l0aW9uRHVyYXRpb25cIl0sZT1wYXJzZUludChlLDEwKSxpPWYuaXNNb3ZlZChzKSxzLiRzbGlkZS5hZGRDbGFzcyhcImZhbmN5Ym94LXNsaWRlLS1jdXJyZW50XCIpLG8pcmV0dXJuIHMub3B0cy5hbmltYXRpb25FZmZlY3QmJmUmJmYuJHJlZnMuY29udGFpbmVyLmNzcyhcInRyYW5zaXRpb24tZHVyYXRpb25cIixlK1wibXNcIiksZi4kcmVmcy5jb250YWluZXIuYWRkQ2xhc3MoXCJmYW5jeWJveC1pcy1vcGVuXCIpLnRyaWdnZXIoXCJmb2N1c1wiKSxmLmxvYWRTbGlkZShzKSx2b2lkIGYucHJlbG9hZChcImltYWdlXCIpO2M9bi5mYW5jeWJveC5nZXRUcmFuc2xhdGUoci4kc2xpZGUpLGw9bi5mYW5jeWJveC5nZXRUcmFuc2xhdGUoZi4kcmVmcy5zdGFnZSksbi5lYWNoKGYuc2xpZGVzLGZ1bmN0aW9uKHQsZSl7bi5mYW5jeWJveC5zdG9wKGUuJHNsaWRlLCEwKX0pLHIucG9zIT09cy5wb3MmJihyLmlzQ29tcGxldGU9ITEpLHIuJHNsaWRlLnJlbW92ZUNsYXNzKFwiZmFuY3lib3gtc2xpZGUtLWNvbXBsZXRlIGZhbmN5Ym94LXNsaWRlLS1jdXJyZW50XCIpLGk/KHU9Yy5sZWZ0LShyLnBvcypjLndpZHRoK3IucG9zKnIub3B0cy5ndXR0ZXIpLG4uZWFjaChmLnNsaWRlcyxmdW5jdGlvbih0LG8pe28uJHNsaWRlLnJlbW92ZUNsYXNzKFwiZmFuY3lib3gtYW5pbWF0ZWRcIikucmVtb3ZlQ2xhc3MoZnVuY3Rpb24odCxlKXtyZXR1cm4oZS5tYXRjaCgvKF58XFxzKWZhbmN5Ym94LWZ4LVxcUysvZyl8fFtdKS5qb2luKFwiIFwiKX0pO3ZhciBpPW8ucG9zKmMud2lkdGgrby5wb3Mqby5vcHRzLmd1dHRlcjtuLmZhbmN5Ym94LnNldFRyYW5zbGF0ZShvLiRzbGlkZSx7dG9wOjAsbGVmdDppLWwubGVmdCt1fSksby5wb3MhPT1zLnBvcyYmby4kc2xpZGUuYWRkQ2xhc3MoXCJmYW5jeWJveC1zbGlkZS0tXCIrKG8ucG9zPnMucG9zP1wibmV4dFwiOlwicHJldmlvdXNcIikpLHAoby4kc2xpZGUpLG4uZmFuY3lib3guYW5pbWF0ZShvLiRzbGlkZSx7dG9wOjAsbGVmdDooby5wb3Mtcy5wb3MpKmMud2lkdGgrKG8ucG9zLXMucG9zKSpvLm9wdHMuZ3V0dGVyfSxlLGZ1bmN0aW9uKCl7by4kc2xpZGUuY3NzKHt0cmFuc2Zvcm06XCJcIixvcGFjaXR5OlwiXCJ9KS5yZW1vdmVDbGFzcyhcImZhbmN5Ym94LXNsaWRlLS1uZXh0IGZhbmN5Ym94LXNsaWRlLS1wcmV2aW91c1wiKSxvLnBvcz09PWYuY3VyclBvcyYmZi5jb21wbGV0ZSgpfSl9KSk6ZSYmcy5vcHRzLnRyYW5zaXRpb25FZmZlY3QmJihkPVwiZmFuY3lib3gtYW5pbWF0ZWQgZmFuY3lib3gtZngtXCIrcy5vcHRzLnRyYW5zaXRpb25FZmZlY3Qsci4kc2xpZGUuYWRkQ2xhc3MoXCJmYW5jeWJveC1zbGlkZS0tXCIrKHIucG9zPnMucG9zP1wibmV4dFwiOlwicHJldmlvdXNcIikpLG4uZmFuY3lib3guYW5pbWF0ZShyLiRzbGlkZSxkLGUsZnVuY3Rpb24oKXtyLiRzbGlkZS5yZW1vdmVDbGFzcyhkKS5yZW1vdmVDbGFzcyhcImZhbmN5Ym94LXNsaWRlLS1uZXh0IGZhbmN5Ym94LXNsaWRlLS1wcmV2aW91c1wiKX0sITEpKSxzLmlzTG9hZGVkP2YucmV2ZWFsQ29udGVudChzKTpmLmxvYWRTbGlkZShzKSxmLnByZWxvYWQoXCJpbWFnZVwiKX19LGNyZWF0ZVNsaWRlOmZ1bmN0aW9uKHQpe3ZhciBlLG8saT10aGlzO3JldHVybiBvPXQlaS5ncm91cC5sZW5ndGgsbz1vPDA/aS5ncm91cC5sZW5ndGgrbzpvLCFpLnNsaWRlc1t0XSYmaS5ncm91cFtvXSYmKGU9bignPGRpdiBjbGFzcz1cImZhbmN5Ym94LXNsaWRlXCI+PC9kaXY+JykuYXBwZW5kVG8oaS4kcmVmcy5zdGFnZSksaS5zbGlkZXNbdF09bi5leHRlbmQoITAse30saS5ncm91cFtvXSx7cG9zOnQsJHNsaWRlOmUsaXNMb2FkZWQ6ITF9KSxpLnVwZGF0ZVNsaWRlKGkuc2xpZGVzW3RdKSksaS5zbGlkZXNbdF19LHNjYWxlVG9BY3R1YWw6ZnVuY3Rpb24odCxlLG8pe3ZhciBpLGEscyxyLGMsbD10aGlzLGQ9bC5jdXJyZW50LHU9ZC4kY29udGVudCxmPW4uZmFuY3lib3guZ2V0VHJhbnNsYXRlKGQuJHNsaWRlKS53aWR0aCxwPW4uZmFuY3lib3guZ2V0VHJhbnNsYXRlKGQuJHNsaWRlKS5oZWlnaHQsaD1kLndpZHRoLGc9ZC5oZWlnaHQ7bC5pc0FuaW1hdGluZ3x8bC5pc01vdmVkKCl8fCF1fHxcImltYWdlXCIhPWQudHlwZXx8IWQuaXNMb2FkZWR8fGQuaGFzRXJyb3J8fChsLmlzQW5pbWF0aW5nPSEwLG4uZmFuY3lib3guc3RvcCh1KSx0PXZvaWQgMD09PXQ/LjUqZjp0LGU9dm9pZCAwPT09ZT8uNSpwOmUsaT1uLmZhbmN5Ym94LmdldFRyYW5zbGF0ZSh1KSxpLnRvcC09bi5mYW5jeWJveC5nZXRUcmFuc2xhdGUoZC4kc2xpZGUpLnRvcCxpLmxlZnQtPW4uZmFuY3lib3guZ2V0VHJhbnNsYXRlKGQuJHNsaWRlKS5sZWZ0LHI9aC9pLndpZHRoLGM9Zy9pLmhlaWdodCxhPS41KmYtLjUqaCxzPS41KnAtLjUqZyxoPmYmJihhPWkubGVmdCpyLSh0KnItdCksYT4wJiYoYT0wKSxhPGYtaCYmKGE9Zi1oKSksZz5wJiYocz1pLnRvcCpjLShlKmMtZSkscz4wJiYocz0wKSxzPHAtZyYmKHM9cC1nKSksbC51cGRhdGVDdXJzb3IoaCxnKSxuLmZhbmN5Ym94LmFuaW1hdGUodSx7dG9wOnMsbGVmdDphLHNjYWxlWDpyLHNjYWxlWTpjfSxvfHwzNjYsZnVuY3Rpb24oKXtsLmlzQW5pbWF0aW5nPSExfSksbC5TbGlkZVNob3cmJmwuU2xpZGVTaG93LmlzQWN0aXZlJiZsLlNsaWRlU2hvdy5zdG9wKCkpfSxzY2FsZVRvRml0OmZ1bmN0aW9uKHQpe3ZhciBlLG89dGhpcyxpPW8uY3VycmVudCxhPWkuJGNvbnRlbnQ7by5pc0FuaW1hdGluZ3x8by5pc01vdmVkKCl8fCFhfHxcImltYWdlXCIhPWkudHlwZXx8IWkuaXNMb2FkZWR8fGkuaGFzRXJyb3J8fChvLmlzQW5pbWF0aW5nPSEwLG4uZmFuY3lib3guc3RvcChhKSxlPW8uZ2V0Rml0UG9zKGkpLG8udXBkYXRlQ3Vyc29yKGUud2lkdGgsZS5oZWlnaHQpLG4uZmFuY3lib3guYW5pbWF0ZShhLHt0b3A6ZS50b3AsbGVmdDplLmxlZnQsc2NhbGVYOmUud2lkdGgvYS53aWR0aCgpLHNjYWxlWTplLmhlaWdodC9hLmhlaWdodCgpfSx0fHwzNjYsZnVuY3Rpb24oKXtvLmlzQW5pbWF0aW5nPSExfSkpfSxnZXRGaXRQb3M6ZnVuY3Rpb24odCl7dmFyIGUsbyxpLGEscz10aGlzLHI9dC4kY29udGVudCxjPXQuJHNsaWRlLGw9dC53aWR0aHx8dC5vcHRzLndpZHRoLGQ9dC5oZWlnaHR8fHQub3B0cy5oZWlnaHQsdT17fTtyZXR1cm4hISh0LmlzTG9hZGVkJiZyJiZyLmxlbmd0aCkmJihlPW4uZmFuY3lib3guZ2V0VHJhbnNsYXRlKHMuJHJlZnMuc3RhZ2UpLndpZHRoLG89bi5mYW5jeWJveC5nZXRUcmFuc2xhdGUocy4kcmVmcy5zdGFnZSkuaGVpZ2h0LGUtPXBhcnNlRmxvYXQoYy5jc3MoXCJwYWRkaW5nTGVmdFwiKSkrcGFyc2VGbG9hdChjLmNzcyhcInBhZGRpbmdSaWdodFwiKSkrcGFyc2VGbG9hdChyLmNzcyhcIm1hcmdpbkxlZnRcIikpK3BhcnNlRmxvYXQoci5jc3MoXCJtYXJnaW5SaWdodFwiKSksby09cGFyc2VGbG9hdChjLmNzcyhcInBhZGRpbmdUb3BcIikpK3BhcnNlRmxvYXQoYy5jc3MoXCJwYWRkaW5nQm90dG9tXCIpKStwYXJzZUZsb2F0KHIuY3NzKFwibWFyZ2luVG9wXCIpKStwYXJzZUZsb2F0KHIuY3NzKFwibWFyZ2luQm90dG9tXCIpKSxsJiZkfHwobD1lLGQ9byksaT1NYXRoLm1pbigxLGUvbCxvL2QpLGwqPWksZCo9aSxsPmUtLjUmJihsPWUpLGQ+by0uNSYmKGQ9byksXCJpbWFnZVwiPT09dC50eXBlPyh1LnRvcD1NYXRoLmZsb29yKC41KihvLWQpKStwYXJzZUZsb2F0KGMuY3NzKFwicGFkZGluZ1RvcFwiKSksdS5sZWZ0PU1hdGguZmxvb3IoLjUqKGUtbCkpK3BhcnNlRmxvYXQoYy5jc3MoXCJwYWRkaW5nTGVmdFwiKSkpOlwidmlkZW9cIj09PXQuY29udGVudFR5cGUmJihhPXQub3B0cy53aWR0aCYmdC5vcHRzLmhlaWdodD9sL2Q6dC5vcHRzLnJhdGlvfHwxNi85LGQ+bC9hP2Q9bC9hOmw+ZCphJiYobD1kKmEpKSx1LndpZHRoPWwsdS5oZWlnaHQ9ZCx1KX0sdXBkYXRlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7bi5lYWNoKGUuc2xpZGVzLGZ1bmN0aW9uKG4sbyl7ZS51cGRhdGVTbGlkZShvLHQpfSl9LHVwZGF0ZVNsaWRlOmZ1bmN0aW9uKHQsZSl7dmFyIG89dGhpcyxpPXQmJnQuJGNvbnRlbnQsYT10LndpZHRofHx0Lm9wdHMud2lkdGgscz10LmhlaWdodHx8dC5vcHRzLmhlaWdodCxyPXQuJHNsaWRlO28uYWRqdXN0Q2FwdGlvbih0KSxpJiYoYXx8c3x8XCJ2aWRlb1wiPT09dC5jb250ZW50VHlwZSkmJiF0Lmhhc0Vycm9yJiYobi5mYW5jeWJveC5zdG9wKGkpLG4uZmFuY3lib3guc2V0VHJhbnNsYXRlKGksby5nZXRGaXRQb3ModCkpLHQucG9zPT09by5jdXJyUG9zJiYoby5pc0FuaW1hdGluZz0hMSxvLnVwZGF0ZUN1cnNvcigpKSksby5hZGp1c3RMYXlvdXQodCksci5sZW5ndGgmJihyLnRyaWdnZXIoXCJyZWZyZXNoXCIpLHQucG9zPT09by5jdXJyUG9zJiZvLiRyZWZzLnRvb2xiYXIuYWRkKG8uJHJlZnMubmF2aWdhdGlvbi5maW5kKFwiLmZhbmN5Ym94LWJ1dHRvbi0tYXJyb3dfcmlnaHRcIikpLnRvZ2dsZUNsYXNzKFwiY29tcGVuc2F0ZS1mb3Itc2Nyb2xsYmFyXCIsci5nZXQoMCkuc2Nyb2xsSGVpZ2h0PnIuZ2V0KDApLmNsaWVudEhlaWdodCkpLG8udHJpZ2dlcihcIm9uVXBkYXRlXCIsdCxlKX0sY2VudGVyU2xpZGU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxvPWUuY3VycmVudCxpPW8uJHNsaWRlOyFlLmlzQ2xvc2luZyYmbyYmKGkuc2libGluZ3MoKS5jc3Moe3RyYW5zZm9ybTpcIlwiLG9wYWNpdHk6XCJcIn0pLGkucGFyZW50KCkuY2hpbGRyZW4oKS5yZW1vdmVDbGFzcyhcImZhbmN5Ym94LXNsaWRlLS1wcmV2aW91cyBmYW5jeWJveC1zbGlkZS0tbmV4dFwiKSxuLmZhbmN5Ym94LmFuaW1hdGUoaSx7dG9wOjAsbGVmdDowLG9wYWNpdHk6MX0sdm9pZCAwPT09dD8wOnQsZnVuY3Rpb24oKXtpLmNzcyh7dHJhbnNmb3JtOlwiXCIsb3BhY2l0eTpcIlwifSksby5pc0NvbXBsZXRlfHxlLmNvbXBsZXRlKCl9LCExKSl9LGlzTW92ZWQ6ZnVuY3Rpb24odCl7dmFyIGUsbyxpPXR8fHRoaXMuY3VycmVudDtyZXR1cm4hIWkmJihvPW4uZmFuY3lib3guZ2V0VHJhbnNsYXRlKHRoaXMuJHJlZnMuc3RhZ2UpLGU9bi5mYW5jeWJveC5nZXRUcmFuc2xhdGUoaS4kc2xpZGUpLCFpLiRzbGlkZS5oYXNDbGFzcyhcImZhbmN5Ym94LWFuaW1hdGVkXCIpJiYoTWF0aC5hYnMoZS50b3Atby50b3ApPi41fHxNYXRoLmFicyhlLmxlZnQtby5sZWZ0KT4uNSkpfSx1cGRhdGVDdXJzb3I6ZnVuY3Rpb24odCxlKXt2YXIgbyxpLGE9dGhpcyxzPWEuY3VycmVudCxyPWEuJHJlZnMuY29udGFpbmVyO3MmJiFhLmlzQ2xvc2luZyYmYS5HdWVzdHVyZXMmJihyLnJlbW92ZUNsYXNzKFwiZmFuY3lib3gtaXMtem9vbWFibGUgZmFuY3lib3gtY2FuLXpvb21JbiBmYW5jeWJveC1jYW4tem9vbU91dCBmYW5jeWJveC1jYW4tc3dpcGUgZmFuY3lib3gtY2FuLXBhblwiKSxvPWEuY2FuUGFuKHQsZSksaT0hIW98fGEuaXNab29tYWJsZSgpLHIudG9nZ2xlQ2xhc3MoXCJmYW5jeWJveC1pcy16b29tYWJsZVwiLGkpLG4oXCJbZGF0YS1mYW5jeWJveC16b29tXVwiKS5wcm9wKFwiZGlzYWJsZWRcIiwhaSksbz9yLmFkZENsYXNzKFwiZmFuY3lib3gtY2FuLXBhblwiKTppJiYoXCJ6b29tXCI9PT1zLm9wdHMuY2xpY2tDb250ZW50fHxuLmlzRnVuY3Rpb24ocy5vcHRzLmNsaWNrQ29udGVudCkmJlwiem9vbVwiPT1zLm9wdHMuY2xpY2tDb250ZW50KHMpKT9yLmFkZENsYXNzKFwiZmFuY3lib3gtY2FuLXpvb21JblwiKTpzLm9wdHMudG91Y2gmJihzLm9wdHMudG91Y2gudmVydGljYWx8fGEuZ3JvdXAubGVuZ3RoPjEpJiZcInZpZGVvXCIhPT1zLmNvbnRlbnRUeXBlJiZyLmFkZENsYXNzKFwiZmFuY3lib3gtY2FuLXN3aXBlXCIpKX0saXNab29tYWJsZTpmdW5jdGlvbigpe3ZhciB0LGU9dGhpcyxuPWUuY3VycmVudDtpZihuJiYhZS5pc0Nsb3NpbmcmJlwiaW1hZ2VcIj09PW4udHlwZSYmIW4uaGFzRXJyb3Ipe2lmKCFuLmlzTG9hZGVkKXJldHVybiEwO2lmKCh0PWUuZ2V0Rml0UG9zKG4pKSYmKG4ud2lkdGg+dC53aWR0aHx8bi5oZWlnaHQ+dC5oZWlnaHQpKXJldHVybiEwfXJldHVybiExfSxpc1NjYWxlZERvd246ZnVuY3Rpb24odCxlKXt2YXIgbz10aGlzLGk9ITEsYT1vLmN1cnJlbnQscz1hLiRjb250ZW50O3JldHVybiB2b2lkIDAhPT10JiZ2b2lkIDAhPT1lP2k9dDxhLndpZHRoJiZlPGEuaGVpZ2h0OnMmJihpPW4uZmFuY3lib3guZ2V0VHJhbnNsYXRlKHMpLGk9aS53aWR0aDxhLndpZHRoJiZpLmhlaWdodDxhLmhlaWdodCksaX0sY2FuUGFuOmZ1bmN0aW9uKHQsZSl7dmFyIG89dGhpcyxpPW8uY3VycmVudCxhPW51bGwscz0hMTtyZXR1cm5cImltYWdlXCI9PT1pLnR5cGUmJihpLmlzQ29tcGxldGV8fHQmJmUpJiYhaS5oYXNFcnJvciYmKHM9by5nZXRGaXRQb3MoaSksdm9pZCAwIT09dCYmdm9pZCAwIT09ZT9hPXt3aWR0aDp0LGhlaWdodDplfTppLmlzQ29tcGxldGUmJihhPW4uZmFuY3lib3guZ2V0VHJhbnNsYXRlKGkuJGNvbnRlbnQpKSxhJiZzJiYocz1NYXRoLmFicyhhLndpZHRoLXMud2lkdGgpPjEuNXx8TWF0aC5hYnMoYS5oZWlnaHQtcy5oZWlnaHQpPjEuNSkpLHN9LGxvYWRTbGlkZTpmdW5jdGlvbih0KXt2YXIgZSxvLGksYT10aGlzO2lmKCF0LmlzTG9hZGluZyYmIXQuaXNMb2FkZWQpe2lmKHQuaXNMb2FkaW5nPSEwLCExPT09YS50cmlnZ2VyKFwiYmVmb3JlTG9hZFwiLHQpKXJldHVybiB0LmlzTG9hZGluZz0hMSwhMTtzd2l0Y2goZT10LnR5cGUsbz10LiRzbGlkZSxvLm9mZihcInJlZnJlc2hcIikudHJpZ2dlcihcIm9uUmVzZXRcIikuYWRkQ2xhc3ModC5vcHRzLnNsaWRlQ2xhc3MpLGUpe2Nhc2VcImltYWdlXCI6YS5zZXRJbWFnZSh0KTticmVhaztjYXNlXCJpZnJhbWVcIjphLnNldElmcmFtZSh0KTticmVhaztjYXNlXCJodG1sXCI6YS5zZXRDb250ZW50KHQsdC5zcmN8fHQuY29udGVudCk7YnJlYWs7Y2FzZVwidmlkZW9cIjphLnNldENvbnRlbnQodCx0Lm9wdHMudmlkZW8udHBsLnJlcGxhY2UoL1xce1xce3NyY1xcfVxcfS9naSx0LnNyYykucmVwbGFjZShcInt7Zm9ybWF0fX1cIix0Lm9wdHMudmlkZW9Gb3JtYXR8fHQub3B0cy52aWRlby5mb3JtYXR8fFwiXCIpLnJlcGxhY2UoXCJ7e3Bvc3Rlcn19XCIsdC50aHVtYnx8XCJcIikpO2JyZWFrO2Nhc2VcImlubGluZVwiOm4odC5zcmMpLmxlbmd0aD9hLnNldENvbnRlbnQodCxuKHQuc3JjKSk6YS5zZXRFcnJvcih0KTticmVhaztjYXNlXCJhamF4XCI6YS5zaG93TG9hZGluZyh0KSxpPW4uYWpheChuLmV4dGVuZCh7fSx0Lm9wdHMuYWpheC5zZXR0aW5ncyx7dXJsOnQuc3JjLHN1Y2Nlc3M6ZnVuY3Rpb24oZSxuKXtcInN1Y2Nlc3NcIj09PW4mJmEuc2V0Q29udGVudCh0LGUpfSxlcnJvcjpmdW5jdGlvbihlLG4pe2UmJlwiYWJvcnRcIiE9PW4mJmEuc2V0RXJyb3IodCl9fSkpLG8ub25lKFwib25SZXNldFwiLGZ1bmN0aW9uKCl7aS5hYm9ydCgpfSk7YnJlYWs7ZGVmYXVsdDphLnNldEVycm9yKHQpfXJldHVybiEwfX0sc2V0SW1hZ2U6ZnVuY3Rpb24odCl7dmFyIG8saT10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgZT10LiRpbWFnZTtpLmlzQ2xvc2luZ3x8IXQuaXNMb2FkaW5nfHxlJiZlLmxlbmd0aCYmZVswXS5jb21wbGV0ZXx8dC5oYXNFcnJvcnx8aS5zaG93TG9hZGluZyh0KX0sNTApLGkuY2hlY2tTcmNzZXQodCksdC4kY29udGVudD1uKCc8ZGl2IGNsYXNzPVwiZmFuY3lib3gtY29udGVudFwiPjwvZGl2PicpLmFkZENsYXNzKFwiZmFuY3lib3gtaXMtaGlkZGVuXCIpLmFwcGVuZFRvKHQuJHNsaWRlLmFkZENsYXNzKFwiZmFuY3lib3gtc2xpZGUtLWltYWdlXCIpKSwhMSE9PXQub3B0cy5wcmVsb2FkJiZ0Lm9wdHMud2lkdGgmJnQub3B0cy5oZWlnaHQmJnQudGh1bWImJih0LndpZHRoPXQub3B0cy53aWR0aCx0LmhlaWdodD10Lm9wdHMuaGVpZ2h0LG89ZS5jcmVhdGVFbGVtZW50KFwiaW1nXCIpLG8ub25lcnJvcj1mdW5jdGlvbigpe24odGhpcykucmVtb3ZlKCksdC4kZ2hvc3Q9bnVsbH0sby5vbmxvYWQ9ZnVuY3Rpb24oKXtpLmFmdGVyTG9hZCh0KX0sdC4kZ2hvc3Q9bihvKS5hZGRDbGFzcyhcImZhbmN5Ym94LWltYWdlXCIpLmFwcGVuZFRvKHQuJGNvbnRlbnQpLmF0dHIoXCJzcmNcIix0LnRodW1iKSksaS5zZXRCaWdJbWFnZSh0KX0sY2hlY2tTcmNzZXQ6ZnVuY3Rpb24oZSl7dmFyIG4sbyxpLGEscz1lLm9wdHMuc3Jjc2V0fHxlLm9wdHMuaW1hZ2Uuc3Jjc2V0O2lmKHMpe2k9dC5kZXZpY2VQaXhlbFJhdGlvfHwxLGE9dC5pbm5lcldpZHRoKmksbz1zLnNwbGl0KFwiLFwiKS5tYXAoZnVuY3Rpb24odCl7dmFyIGU9e307cmV0dXJuIHQudHJpbSgpLnNwbGl0KC9cXHMrLykuZm9yRWFjaChmdW5jdGlvbih0LG4pe3ZhciBvPXBhcnNlSW50KHQuc3Vic3RyaW5nKDAsdC5sZW5ndGgtMSksMTApO2lmKDA9PT1uKXJldHVybiBlLnVybD10O28mJihlLnZhbHVlPW8sZS5wb3N0Zml4PXRbdC5sZW5ndGgtMV0pfSksZX0pLG8uc29ydChmdW5jdGlvbih0LGUpe3JldHVybiB0LnZhbHVlLWUudmFsdWV9KTtmb3IodmFyIHI9MDtyPG8ubGVuZ3RoO3IrKyl7dmFyIGM9b1tyXTtpZihcIndcIj09PWMucG9zdGZpeCYmYy52YWx1ZT49YXx8XCJ4XCI9PT1jLnBvc3RmaXgmJmMudmFsdWU+PWkpe249YzticmVha319IW4mJm8ubGVuZ3RoJiYobj1vW28ubGVuZ3RoLTFdKSxuJiYoZS5zcmM9bi51cmwsZS53aWR0aCYmZS5oZWlnaHQmJlwid1wiPT1uLnBvc3RmaXgmJihlLmhlaWdodD1lLndpZHRoL2UuaGVpZ2h0Km4udmFsdWUsZS53aWR0aD1uLnZhbHVlKSxlLm9wdHMuc3Jjc2V0PXMpfX0sc2V0QmlnSW1hZ2U6ZnVuY3Rpb24odCl7dmFyIG89dGhpcyxpPWUuY3JlYXRlRWxlbWVudChcImltZ1wiKSxhPW4oaSk7dC4kaW1hZ2U9YS5vbmUoXCJlcnJvclwiLGZ1bmN0aW9uKCl7by5zZXRFcnJvcih0KX0pLm9uZShcImxvYWRcIixmdW5jdGlvbigpe3ZhciBlO3QuJGdob3N0fHwoby5yZXNvbHZlSW1hZ2VTbGlkZVNpemUodCx0aGlzLm5hdHVyYWxXaWR0aCx0aGlzLm5hdHVyYWxIZWlnaHQpLG8uYWZ0ZXJMb2FkKHQpKSxvLmlzQ2xvc2luZ3x8KHQub3B0cy5zcmNzZXQmJihlPXQub3B0cy5zaXplcyxlJiZcImF1dG9cIiE9PWV8fChlPSh0LndpZHRoL3QuaGVpZ2h0PjEmJnMud2lkdGgoKS9zLmhlaWdodCgpPjE/XCIxMDBcIjpNYXRoLnJvdW5kKHQud2lkdGgvdC5oZWlnaHQqMTAwKSkrXCJ2d1wiKSxhLmF0dHIoXCJzaXplc1wiLGUpLmF0dHIoXCJzcmNzZXRcIix0Lm9wdHMuc3Jjc2V0KSksdC4kZ2hvc3QmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0LiRnaG9zdCYmIW8uaXNDbG9zaW5nJiZ0LiRnaG9zdC5oaWRlKCl9LE1hdGgubWluKDMwMCxNYXRoLm1heCgxZTMsdC5oZWlnaHQvMTYwMCkpKSxvLmhpZGVMb2FkaW5nKHQpKX0pLmFkZENsYXNzKFwiZmFuY3lib3gtaW1hZ2VcIikuYXR0cihcInNyY1wiLHQuc3JjKS5hcHBlbmRUbyh0LiRjb250ZW50KSwoaS5jb21wbGV0ZXx8XCJjb21wbGV0ZVwiPT1pLnJlYWR5U3RhdGUpJiZhLm5hdHVyYWxXaWR0aCYmYS5uYXR1cmFsSGVpZ2h0P2EudHJpZ2dlcihcImxvYWRcIik6aS5lcnJvciYmYS50cmlnZ2VyKFwiZXJyb3JcIil9LHJlc29sdmVJbWFnZVNsaWRlU2l6ZTpmdW5jdGlvbih0LGUsbil7dmFyIG89cGFyc2VJbnQodC5vcHRzLndpZHRoLDEwKSxpPXBhcnNlSW50KHQub3B0cy5oZWlnaHQsMTApO3Qud2lkdGg9ZSx0LmhlaWdodD1uLG8+MCYmKHQud2lkdGg9byx0LmhlaWdodD1NYXRoLmZsb29yKG8qbi9lKSksaT4wJiYodC53aWR0aD1NYXRoLmZsb29yKGkqZS9uKSx0LmhlaWdodD1pKX0sc2V0SWZyYW1lOmZ1bmN0aW9uKHQpe3ZhciBlLG89dGhpcyxpPXQub3B0cy5pZnJhbWUsYT10LiRzbGlkZTt0LiRjb250ZW50PW4oJzxkaXYgY2xhc3M9XCJmYW5jeWJveC1jb250ZW50JysoaS5wcmVsb2FkP1wiIGZhbmN5Ym94LWlzLWhpZGRlblwiOlwiXCIpKydcIj48L2Rpdj4nKS5jc3MoaS5jc3MpLmFwcGVuZFRvKGEpLGEuYWRkQ2xhc3MoXCJmYW5jeWJveC1zbGlkZS0tXCIrdC5jb250ZW50VHlwZSksdC4kaWZyYW1lPWU9bihpLnRwbC5yZXBsYWNlKC9cXHtybmRcXH0vZywobmV3IERhdGUpLmdldFRpbWUoKSkpLmF0dHIoaS5hdHRyKS5hcHBlbmRUbyh0LiRjb250ZW50KSxpLnByZWxvYWQ/KG8uc2hvd0xvYWRpbmcodCksZS5vbihcImxvYWQuZmIgZXJyb3IuZmJcIixmdW5jdGlvbihlKXt0aGlzLmlzUmVhZHk9MSx0LiRzbGlkZS50cmlnZ2VyKFwicmVmcmVzaFwiKSxvLmFmdGVyTG9hZCh0KX0pLGEub24oXCJyZWZyZXNoLmZiXCIsZnVuY3Rpb24oKXt2YXIgbixvLHM9dC4kY29udGVudCxyPWkuY3NzLndpZHRoLGM9aS5jc3MuaGVpZ2h0O2lmKDE9PT1lWzBdLmlzUmVhZHkpe3RyeXtuPWUuY29udGVudHMoKSxvPW4uZmluZChcImJvZHlcIil9Y2F0Y2godCl7fW8mJm8ubGVuZ3RoJiZvLmNoaWxkcmVuKCkubGVuZ3RoJiYoYS5jc3MoXCJvdmVyZmxvd1wiLFwidmlzaWJsZVwiKSxzLmNzcyh7d2lkdGg6XCIxMDAlXCIsXCJtYXgtd2lkdGhcIjpcIjEwMCVcIixoZWlnaHQ6XCI5OTk5cHhcIn0pLHZvaWQgMD09PXImJihyPU1hdGguY2VpbChNYXRoLm1heChvWzBdLmNsaWVudFdpZHRoLG8ub3V0ZXJXaWR0aCghMCkpKSkscy5jc3MoXCJ3aWR0aFwiLHJ8fFwiXCIpLmNzcyhcIm1heC13aWR0aFwiLFwiXCIpLHZvaWQgMD09PWMmJihjPU1hdGguY2VpbChNYXRoLm1heChvWzBdLmNsaWVudEhlaWdodCxvLm91dGVySGVpZ2h0KCEwKSkpKSxzLmNzcyhcImhlaWdodFwiLGN8fFwiXCIpLGEuY3NzKFwib3ZlcmZsb3dcIixcImF1dG9cIikpLHMucmVtb3ZlQ2xhc3MoXCJmYW5jeWJveC1pcy1oaWRkZW5cIil9fSkpOm8uYWZ0ZXJMb2FkKHQpLGUuYXR0cihcInNyY1wiLHQuc3JjKSxhLm9uZShcIm9uUmVzZXRcIixmdW5jdGlvbigpe3RyeXtuKHRoaXMpLmZpbmQoXCJpZnJhbWVcIikuaGlkZSgpLnVuYmluZCgpLmF0dHIoXCJzcmNcIixcIi8vYWJvdXQ6YmxhbmtcIil9Y2F0Y2godCl7fW4odGhpcykub2ZmKFwicmVmcmVzaC5mYlwiKS5lbXB0eSgpLHQuaXNMb2FkZWQ9ITEsdC5pc1JldmVhbGVkPSExfSl9LHNldENvbnRlbnQ6ZnVuY3Rpb24odCxlKXt2YXIgbz10aGlzO28uaXNDbG9zaW5nfHwoby5oaWRlTG9hZGluZyh0KSx0LiRjb250ZW50JiZuLmZhbmN5Ym94LnN0b3AodC4kY29udGVudCksdC4kc2xpZGUuZW1wdHkoKSxsKGUpJiZlLnBhcmVudCgpLmxlbmd0aD8oKGUuaGFzQ2xhc3MoXCJmYW5jeWJveC1jb250ZW50XCIpfHxlLnBhcmVudCgpLmhhc0NsYXNzKFwiZmFuY3lib3gtY29udGVudFwiKSkmJmUucGFyZW50cyhcIi5mYW5jeWJveC1zbGlkZVwiKS50cmlnZ2VyKFwib25SZXNldFwiKSx0LiRwbGFjZWhvbGRlcj1uKFwiPGRpdj5cIikuaGlkZSgpLmluc2VydEFmdGVyKGUpLGUuY3NzKFwiZGlzcGxheVwiLFwiaW5saW5lLWJsb2NrXCIpKTp0Lmhhc0Vycm9yfHwoXCJzdHJpbmdcIj09PW4udHlwZShlKSYmKGU9bihcIjxkaXY+XCIpLmFwcGVuZChuLnRyaW0oZSkpLmNvbnRlbnRzKCkpLHQub3B0cy5maWx0ZXImJihlPW4oXCI8ZGl2PlwiKS5odG1sKGUpLmZpbmQodC5vcHRzLmZpbHRlcikpKSx0LiRzbGlkZS5vbmUoXCJvblJlc2V0XCIsZnVuY3Rpb24oKXtuKHRoaXMpLmZpbmQoXCJ2aWRlbyxhdWRpb1wiKS50cmlnZ2VyKFwicGF1c2VcIiksdC4kcGxhY2Vob2xkZXImJih0LiRwbGFjZWhvbGRlci5hZnRlcihlLnJlbW92ZUNsYXNzKFwiZmFuY3lib3gtY29udGVudFwiKS5oaWRlKCkpLnJlbW92ZSgpLHQuJHBsYWNlaG9sZGVyPW51bGwpLHQuJHNtYWxsQnRuJiYodC4kc21hbGxCdG4ucmVtb3ZlKCksdC4kc21hbGxCdG49bnVsbCksdC5oYXNFcnJvcnx8KG4odGhpcykuZW1wdHkoKSx0LmlzTG9hZGVkPSExLHQuaXNSZXZlYWxlZD0hMSl9KSxuKGUpLmFwcGVuZFRvKHQuJHNsaWRlKSxuKGUpLmlzKFwidmlkZW8sYXVkaW9cIikmJihuKGUpLmFkZENsYXNzKFwiZmFuY3lib3gtdmlkZW9cIiksbihlKS53cmFwKFwiPGRpdj48L2Rpdj5cIiksdC5jb250ZW50VHlwZT1cInZpZGVvXCIsdC5vcHRzLndpZHRoPXQub3B0cy53aWR0aHx8bihlKS5hdHRyKFwid2lkdGhcIiksdC5vcHRzLmhlaWdodD10Lm9wdHMuaGVpZ2h0fHxuKGUpLmF0dHIoXCJoZWlnaHRcIikpLHQuJGNvbnRlbnQ9dC4kc2xpZGUuY2hpbGRyZW4oKS5maWx0ZXIoXCJkaXYsZm9ybSxtYWluLHZpZGVvLGF1ZGlvLGFydGljbGUsLmZhbmN5Ym94LWNvbnRlbnRcIikuZmlyc3QoKSx0LiRjb250ZW50LnNpYmxpbmdzKCkuaGlkZSgpLHQuJGNvbnRlbnQubGVuZ3RofHwodC4kY29udGVudD10LiRzbGlkZS53cmFwSW5uZXIoXCI8ZGl2PjwvZGl2PlwiKS5jaGlsZHJlbigpLmZpcnN0KCkpLHQuJGNvbnRlbnQuYWRkQ2xhc3MoXCJmYW5jeWJveC1jb250ZW50XCIpLHQuJHNsaWRlLmFkZENsYXNzKFwiZmFuY3lib3gtc2xpZGUtLVwiK3QuY29udGVudFR5cGUpLG8uYWZ0ZXJMb2FkKHQpKX0sc2V0RXJyb3I6ZnVuY3Rpb24odCl7dC5oYXNFcnJvcj0hMCx0LiRzbGlkZS50cmlnZ2VyKFwib25SZXNldFwiKS5yZW1vdmVDbGFzcyhcImZhbmN5Ym94LXNsaWRlLS1cIit0LmNvbnRlbnRUeXBlKS5hZGRDbGFzcyhcImZhbmN5Ym94LXNsaWRlLS1lcnJvclwiKSx0LmNvbnRlbnRUeXBlPVwiaHRtbFwiLHRoaXMuc2V0Q29udGVudCh0LHRoaXMudHJhbnNsYXRlKHQsdC5vcHRzLmVycm9yVHBsKSksdC5wb3M9PT10aGlzLmN1cnJQb3MmJih0aGlzLmlzQW5pbWF0aW5nPSExKX0sc2hvd0xvYWRpbmc6ZnVuY3Rpb24odCl7dmFyIGU9dGhpczsodD10fHxlLmN1cnJlbnQpJiYhdC4kc3Bpbm5lciYmKHQuJHNwaW5uZXI9bihlLnRyYW5zbGF0ZShlLGUub3B0cy5zcGlubmVyVHBsKSkuYXBwZW5kVG8odC4kc2xpZGUpLmhpZGUoKS5mYWRlSW4oXCJmYXN0XCIpKX0saGlkZUxvYWRpbmc6ZnVuY3Rpb24odCl7dmFyIGU9dGhpczsodD10fHxlLmN1cnJlbnQpJiZ0LiRzcGlubmVyJiYodC4kc3Bpbm5lci5zdG9wKCkucmVtb3ZlKCksZGVsZXRlIHQuJHNwaW5uZXIpfSxhZnRlckxvYWQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztlLmlzQ2xvc2luZ3x8KHQuaXNMb2FkaW5nPSExLHQuaXNMb2FkZWQ9ITAsZS50cmlnZ2VyKFwiYWZ0ZXJMb2FkXCIsdCksZS5oaWRlTG9hZGluZyh0KSwhdC5vcHRzLnNtYWxsQnRufHx0LiRzbWFsbEJ0biYmdC4kc21hbGxCdG4ubGVuZ3RofHwodC4kc21hbGxCdG49bihlLnRyYW5zbGF0ZSh0LHQub3B0cy5idG5UcGwuc21hbGxCdG4pKS5hcHBlbmRUbyh0LiRjb250ZW50KSksdC5vcHRzLnByb3RlY3QmJnQuJGNvbnRlbnQmJiF0Lmhhc0Vycm9yJiYodC4kY29udGVudC5vbihcImNvbnRleHRtZW51LmZiXCIsZnVuY3Rpb24odCl7cmV0dXJuIDI9PXQuYnV0dG9uJiZ0LnByZXZlbnREZWZhdWx0KCksITB9KSxcImltYWdlXCI9PT10LnR5cGUmJm4oJzxkaXYgY2xhc3M9XCJmYW5jeWJveC1zcGFjZWJhbGxcIj48L2Rpdj4nKS5hcHBlbmRUbyh0LiRjb250ZW50KSksZS5hZGp1c3RDYXB0aW9uKHQpLGUuYWRqdXN0TGF5b3V0KHQpLHQucG9zPT09ZS5jdXJyUG9zJiZlLnVwZGF0ZUN1cnNvcigpLGUucmV2ZWFsQ29udGVudCh0KSl9LGFkanVzdENhcHRpb246ZnVuY3Rpb24odCl7dmFyIGUsbj10aGlzLG89dHx8bi5jdXJyZW50LGk9by5vcHRzLmNhcHRpb24sYT1vLm9wdHMucHJldmVudENhcHRpb25PdmVybGFwLHM9bi4kcmVmcy5jYXB0aW9uLHI9ITE7cy50b2dnbGVDbGFzcyhcImZhbmN5Ym94LWNhcHRpb24tLXNlcGFyYXRlXCIsYSksYSYmaSYmaS5sZW5ndGgmJihvLnBvcyE9PW4uY3VyclBvcz8oZT1zLmNsb25lKCkuYXBwZW5kVG8ocy5wYXJlbnQoKSksZS5jaGlsZHJlbigpLmVxKDApLmVtcHR5KCkuaHRtbChpKSxyPWUub3V0ZXJIZWlnaHQoITApLGUuZW1wdHkoKS5yZW1vdmUoKSk6bi4kY2FwdGlvbiYmKHI9bi4kY2FwdGlvbi5vdXRlckhlaWdodCghMCkpLG8uJHNsaWRlLmNzcyhcInBhZGRpbmctYm90dG9tXCIscnx8XCJcIikpfSxhZGp1c3RMYXlvdXQ6ZnVuY3Rpb24odCl7dmFyIGUsbixvLGksYT10aGlzLHM9dHx8YS5jdXJyZW50O3MuaXNMb2FkZWQmJiEwIT09cy5vcHRzLmRpc2FibGVMYXlvdXRGaXgmJihzLiRjb250ZW50LmNzcyhcIm1hcmdpbi1ib3R0b21cIixcIlwiKSxzLiRjb250ZW50Lm91dGVySGVpZ2h0KCk+cy4kc2xpZGUuaGVpZ2h0KCkrLjUmJihvPXMuJHNsaWRlWzBdLnN0eWxlW1wicGFkZGluZy1ib3R0b21cIl0saT1zLiRzbGlkZS5jc3MoXCJwYWRkaW5nLWJvdHRvbVwiKSxwYXJzZUZsb2F0KGkpPjAmJihlPXMuJHNsaWRlWzBdLnNjcm9sbEhlaWdodCxzLiRzbGlkZS5jc3MoXCJwYWRkaW5nLWJvdHRvbVwiLDApLE1hdGguYWJzKGUtcy4kc2xpZGVbMF0uc2Nyb2xsSGVpZ2h0KTwxJiYobj1pKSxzLiRzbGlkZS5jc3MoXCJwYWRkaW5nLWJvdHRvbVwiLG8pKSkscy4kY29udGVudC5jc3MoXCJtYXJnaW4tYm90dG9tXCIsbikpfSxyZXZlYWxDb250ZW50OmZ1bmN0aW9uKHQpe3ZhciBlLG8saSxhLHM9dGhpcyxyPXQuJHNsaWRlLGM9ITEsbD0hMSxkPXMuaXNNb3ZlZCh0KSx1PXQuaXNSZXZlYWxlZDtyZXR1cm4gdC5pc1JldmVhbGVkPSEwLGU9dC5vcHRzW3MuZmlyc3RSdW4/XCJhbmltYXRpb25FZmZlY3RcIjpcInRyYW5zaXRpb25FZmZlY3RcIl0saT10Lm9wdHNbcy5maXJzdFJ1bj9cImFuaW1hdGlvbkR1cmF0aW9uXCI6XCJ0cmFuc2l0aW9uRHVyYXRpb25cIl0saT1wYXJzZUludCh2b2lkIDA9PT10LmZvcmNlZER1cmF0aW9uP2k6dC5mb3JjZWREdXJhdGlvbiwxMCksIWQmJnQucG9zPT09cy5jdXJyUG9zJiZpfHwoZT0hMSksXCJ6b29tXCI9PT1lJiYodC5wb3M9PT1zLmN1cnJQb3MmJmkmJlwiaW1hZ2VcIj09PXQudHlwZSYmIXQuaGFzRXJyb3ImJihsPXMuZ2V0VGh1bWJQb3ModCkpP2M9cy5nZXRGaXRQb3ModCk6ZT1cImZhZGVcIiksXCJ6b29tXCI9PT1lPyhzLmlzQW5pbWF0aW5nPSEwLGMuc2NhbGVYPWMud2lkdGgvbC53aWR0aCxjLnNjYWxlWT1jLmhlaWdodC9sLmhlaWdodCxhPXQub3B0cy56b29tT3BhY2l0eSxcImF1dG9cIj09YSYmKGE9TWF0aC5hYnModC53aWR0aC90LmhlaWdodC1sLndpZHRoL2wuaGVpZ2h0KT4uMSksYSYmKGwub3BhY2l0eT0uMSxjLm9wYWNpdHk9MSksbi5mYW5jeWJveC5zZXRUcmFuc2xhdGUodC4kY29udGVudC5yZW1vdmVDbGFzcyhcImZhbmN5Ym94LWlzLWhpZGRlblwiKSxsKSxwKHQuJGNvbnRlbnQpLHZvaWQgbi5mYW5jeWJveC5hbmltYXRlKHQuJGNvbnRlbnQsYyxpLGZ1bmN0aW9uKCl7cy5pc0FuaW1hdGluZz0hMSxzLmNvbXBsZXRlKCl9KSk6KHMudXBkYXRlU2xpZGUodCksZT8obi5mYW5jeWJveC5zdG9wKHIpLG89XCJmYW5jeWJveC1zbGlkZS0tXCIrKHQucG9zPj1zLnByZXZQb3M/XCJuZXh0XCI6XCJwcmV2aW91c1wiKStcIiBmYW5jeWJveC1hbmltYXRlZCBmYW5jeWJveC1meC1cIitlLHIuYWRkQ2xhc3MobykucmVtb3ZlQ2xhc3MoXCJmYW5jeWJveC1zbGlkZS0tY3VycmVudFwiKSx0LiRjb250ZW50LnJlbW92ZUNsYXNzKFwiZmFuY3lib3gtaXMtaGlkZGVuXCIpLHAociksXCJpbWFnZVwiIT09dC50eXBlJiZ0LiRjb250ZW50LmhpZGUoKS5zaG93KDApLHZvaWQgbi5mYW5jeWJveC5hbmltYXRlKHIsXCJmYW5jeWJveC1zbGlkZS0tY3VycmVudFwiLGksZnVuY3Rpb24oKXtyLnJlbW92ZUNsYXNzKG8pLmNzcyh7dHJhbnNmb3JtOlwiXCIsb3BhY2l0eTpcIlwifSksdC5wb3M9PT1zLmN1cnJQb3MmJnMuY29tcGxldGUoKX0sITApKToodC4kY29udGVudC5yZW1vdmVDbGFzcyhcImZhbmN5Ym94LWlzLWhpZGRlblwiKSx1fHwhZHx8XCJpbWFnZVwiIT09dC50eXBlfHx0Lmhhc0Vycm9yfHx0LiRjb250ZW50LmhpZGUoKS5mYWRlSW4oXCJmYXN0XCIpLHZvaWQodC5wb3M9PT1zLmN1cnJQb3MmJnMuY29tcGxldGUoKSkpKX0sZ2V0VGh1bWJQb3M6ZnVuY3Rpb24odCl7dmFyIGUsbyxpLGEscyxyPSExLGM9dC4kdGh1bWI7cmV0dXJuISghY3x8IWcoY1swXSkpJiYoZT1uLmZhbmN5Ym94LmdldFRyYW5zbGF0ZShjKSxvPXBhcnNlRmxvYXQoYy5jc3MoXCJib3JkZXItdG9wLXdpZHRoXCIpfHwwKSxpPXBhcnNlRmxvYXQoYy5jc3MoXCJib3JkZXItcmlnaHQtd2lkdGhcIil8fDApLGE9cGFyc2VGbG9hdChjLmNzcyhcImJvcmRlci1ib3R0b20td2lkdGhcIil8fDApLHM9cGFyc2VGbG9hdChjLmNzcyhcImJvcmRlci1sZWZ0LXdpZHRoXCIpfHwwKSxyPXt0b3A6ZS50b3ArbyxsZWZ0OmUubGVmdCtzLHdpZHRoOmUud2lkdGgtaS1zLGhlaWdodDplLmhlaWdodC1vLWEsc2NhbGVYOjEsc2NhbGVZOjF9LGUud2lkdGg+MCYmZS5oZWlnaHQ+MCYmcil9LGNvbXBsZXRlOmZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLG89ZS5jdXJyZW50LGk9e307IWUuaXNNb3ZlZCgpJiZvLmlzTG9hZGVkJiYoby5pc0NvbXBsZXRlfHwoby5pc0NvbXBsZXRlPSEwLG8uJHNsaWRlLnNpYmxpbmdzKCkudHJpZ2dlcihcIm9uUmVzZXRcIiksZS5wcmVsb2FkKFwiaW5saW5lXCIpLHAoby4kc2xpZGUpLG8uJHNsaWRlLmFkZENsYXNzKFwiZmFuY3lib3gtc2xpZGUtLWNvbXBsZXRlXCIpLG4uZWFjaChlLnNsaWRlcyxmdW5jdGlvbih0LG8pe28ucG9zPj1lLmN1cnJQb3MtMSYmby5wb3M8PWUuY3VyclBvcysxP2lbby5wb3NdPW86byYmKG4uZmFuY3lib3guc3RvcChvLiRzbGlkZSksby4kc2xpZGUub2ZmKCkucmVtb3ZlKCkpfSksZS5zbGlkZXM9aSksZS5pc0FuaW1hdGluZz0hMSxlLnVwZGF0ZUN1cnNvcigpLGUudHJpZ2dlcihcImFmdGVyU2hvd1wiKSxvLm9wdHMudmlkZW8uYXV0b1N0YXJ0JiZvLiRzbGlkZS5maW5kKFwidmlkZW8sYXVkaW9cIikuZmlsdGVyKFwiOnZpc2libGU6Zmlyc3RcIikudHJpZ2dlcihcInBsYXlcIikub25lKFwiZW5kZWRcIixmdW5jdGlvbigpe0RvY3VtZW50LmV4aXRGdWxsc2NyZWVuP0RvY3VtZW50LmV4aXRGdWxsc2NyZWVuKCk6dGhpcy53ZWJraXRFeGl0RnVsbHNjcmVlbiYmdGhpcy53ZWJraXRFeGl0RnVsbHNjcmVlbigpLGUubmV4dCgpfSksby5vcHRzLmF1dG9Gb2N1cyYmXCJodG1sXCI9PT1vLmNvbnRlbnRUeXBlJiYodD1vLiRjb250ZW50LmZpbmQoXCJpbnB1dFthdXRvZm9jdXNdOmVuYWJsZWQ6dmlzaWJsZTpmaXJzdFwiKSx0Lmxlbmd0aD90LnRyaWdnZXIoXCJmb2N1c1wiKTplLmZvY3VzKG51bGwsITApKSxvLiRzbGlkZS5zY3JvbGxUb3AoMCkuc2Nyb2xsTGVmdCgwKSl9LHByZWxvYWQ6ZnVuY3Rpb24odCl7dmFyIGUsbixvPXRoaXM7by5ncm91cC5sZW5ndGg8Mnx8KG49by5zbGlkZXNbby5jdXJyUG9zKzFdLGU9by5zbGlkZXNbby5jdXJyUG9zLTFdLGUmJmUudHlwZT09PXQmJm8ubG9hZFNsaWRlKGUpLG4mJm4udHlwZT09PXQmJm8ubG9hZFNsaWRlKG4pKX0sZm9jdXM6ZnVuY3Rpb24odCxvKXt2YXIgaSxhLHM9dGhpcyxyPVtcImFbaHJlZl1cIixcImFyZWFbaHJlZl1cIiwnaW5wdXQ6bm90KFtkaXNhYmxlZF0pOm5vdChbdHlwZT1cImhpZGRlblwiXSk6bm90KFthcmlhLWhpZGRlbl0pJyxcInNlbGVjdDpub3QoW2Rpc2FibGVkXSk6bm90KFthcmlhLWhpZGRlbl0pXCIsXCJ0ZXh0YXJlYTpub3QoW2Rpc2FibGVkXSk6bm90KFthcmlhLWhpZGRlbl0pXCIsXCJidXR0b246bm90KFtkaXNhYmxlZF0pOm5vdChbYXJpYS1oaWRkZW5dKVwiLFwiaWZyYW1lXCIsXCJvYmplY3RcIixcImVtYmVkXCIsXCJ2aWRlb1wiLFwiYXVkaW9cIixcIltjb250ZW50ZWRpdGFibGVdXCIsJ1t0YWJpbmRleF06bm90KFt0YWJpbmRleF49XCItXCJdKSddLmpvaW4oXCIsXCIpO3MuaXNDbG9zaW5nfHwoaT0hdCYmcy5jdXJyZW50JiZzLmN1cnJlbnQuaXNDb21wbGV0ZT9zLmN1cnJlbnQuJHNsaWRlLmZpbmQoXCIqOnZpc2libGVcIisobz9cIjpub3QoLmZhbmN5Ym94LWNsb3NlLXNtYWxsKVwiOlwiXCIpKTpzLiRyZWZzLmNvbnRhaW5lci5maW5kKFwiKjp2aXNpYmxlXCIpLGk9aS5maWx0ZXIocikuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuXCJoaWRkZW5cIiE9PW4odGhpcykuY3NzKFwidmlzaWJpbGl0eVwiKSYmIW4odGhpcykuaGFzQ2xhc3MoXCJkaXNhYmxlZFwiKX0pLGkubGVuZ3RoPyhhPWkuaW5kZXgoZS5hY3RpdmVFbGVtZW50KSx0JiZ0LnNoaWZ0S2V5PyhhPDB8fDA9PWEpJiYodC5wcmV2ZW50RGVmYXVsdCgpLGkuZXEoaS5sZW5ndGgtMSkudHJpZ2dlcihcImZvY3VzXCIpKTooYTwwfHxhPT1pLmxlbmd0aC0xKSYmKHQmJnQucHJldmVudERlZmF1bHQoKSxpLmVxKDApLnRyaWdnZXIoXCJmb2N1c1wiKSkpOnMuJHJlZnMuY29udGFpbmVyLnRyaWdnZXIoXCJmb2N1c1wiKSl9LGFjdGl2YXRlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztuKFwiLmZhbmN5Ym94LWNvbnRhaW5lclwiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9bih0aGlzKS5kYXRhKFwiRmFuY3lCb3hcIik7ZSYmZS5pZCE9PXQuaWQmJiFlLmlzQ2xvc2luZyYmKGUudHJpZ2dlcihcIm9uRGVhY3RpdmF0ZVwiKSxlLnJlbW92ZUV2ZW50cygpLGUuaXNWaXNpYmxlPSExKX0pLHQuaXNWaXNpYmxlPSEwLCh0LmN1cnJlbnR8fHQuaXNJZGxlKSYmKHQudXBkYXRlKCksdC51cGRhdGVDb250cm9scygpKSx0LnRyaWdnZXIoXCJvbkFjdGl2YXRlXCIpLHQuYWRkRXZlbnRzKCl9LGNsb3NlOmZ1bmN0aW9uKHQsZSl7dmFyIG8saSxhLHMscixjLGwsdT10aGlzLGY9dS5jdXJyZW50LGg9ZnVuY3Rpb24oKXt1LmNsZWFuVXAodCl9O3JldHVybiF1LmlzQ2xvc2luZyYmKHUuaXNDbG9zaW5nPSEwLCExPT09dS50cmlnZ2VyKFwiYmVmb3JlQ2xvc2VcIix0KT8odS5pc0Nsb3Npbmc9ITEsZChmdW5jdGlvbigpe3UudXBkYXRlKCl9KSwhMSk6KHUucmVtb3ZlRXZlbnRzKCksYT1mLiRjb250ZW50LG89Zi5vcHRzLmFuaW1hdGlvbkVmZmVjdCxpPW4uaXNOdW1lcmljKGUpP2U6bz9mLm9wdHMuYW5pbWF0aW9uRHVyYXRpb246MCxmLiRzbGlkZS5yZW1vdmVDbGFzcyhcImZhbmN5Ym94LXNsaWRlLS1jb21wbGV0ZSBmYW5jeWJveC1zbGlkZS0tbmV4dCBmYW5jeWJveC1zbGlkZS0tcHJldmlvdXMgZmFuY3lib3gtYW5pbWF0ZWRcIiksITAhPT10P24uZmFuY3lib3guc3RvcChmLiRzbGlkZSk6bz0hMSxmLiRzbGlkZS5zaWJsaW5ncygpLnRyaWdnZXIoXCJvblJlc2V0XCIpLnJlbW92ZSgpLGkmJnUuJHJlZnMuY29udGFpbmVyLnJlbW92ZUNsYXNzKFwiZmFuY3lib3gtaXMtb3BlblwiKS5hZGRDbGFzcyhcImZhbmN5Ym94LWlzLWNsb3NpbmdcIikuY3NzKFwidHJhbnNpdGlvbi1kdXJhdGlvblwiLGkrXCJtc1wiKSx1LmhpZGVMb2FkaW5nKGYpLHUuaGlkZUNvbnRyb2xzKCEwKSx1LnVwZGF0ZUN1cnNvcigpLFwiem9vbVwiIT09b3x8YSYmaSYmXCJpbWFnZVwiPT09Zi50eXBlJiYhdS5pc01vdmVkKCkmJiFmLmhhc0Vycm9yJiYobD11LmdldFRodW1iUG9zKGYpKXx8KG89XCJmYWRlXCIpLFwiem9vbVwiPT09bz8obi5mYW5jeWJveC5zdG9wKGEpLHM9bi5mYW5jeWJveC5nZXRUcmFuc2xhdGUoYSksYz17dG9wOnMudG9wLGxlZnQ6cy5sZWZ0LHNjYWxlWDpzLndpZHRoL2wud2lkdGgsc2NhbGVZOnMuaGVpZ2h0L2wuaGVpZ2h0LHdpZHRoOmwud2lkdGgsaGVpZ2h0OmwuaGVpZ2h0fSxyPWYub3B0cy56b29tT3BhY2l0eSxcclxuXCJhdXRvXCI9PXImJihyPU1hdGguYWJzKGYud2lkdGgvZi5oZWlnaHQtbC53aWR0aC9sLmhlaWdodCk+LjEpLHImJihsLm9wYWNpdHk9MCksbi5mYW5jeWJveC5zZXRUcmFuc2xhdGUoYSxjKSxwKGEpLG4uZmFuY3lib3guYW5pbWF0ZShhLGwsaSxoKSwhMCk6KG8mJmk/bi5mYW5jeWJveC5hbmltYXRlKGYuJHNsaWRlLmFkZENsYXNzKFwiZmFuY3lib3gtc2xpZGUtLXByZXZpb3VzXCIpLnJlbW92ZUNsYXNzKFwiZmFuY3lib3gtc2xpZGUtLWN1cnJlbnRcIiksXCJmYW5jeWJveC1hbmltYXRlZCBmYW5jeWJveC1meC1cIitvLGksaCk6ITA9PT10P3NldFRpbWVvdXQoaCxpKTpoKCksITApKSl9LGNsZWFuVXA6ZnVuY3Rpb24oZSl7dmFyIG8saSxhLHM9dGhpcyxyPXMuY3VycmVudC5vcHRzLiRvcmlnO3MuY3VycmVudC4kc2xpZGUudHJpZ2dlcihcIm9uUmVzZXRcIikscy4kcmVmcy5jb250YWluZXIuZW1wdHkoKS5yZW1vdmUoKSxzLnRyaWdnZXIoXCJhZnRlckNsb3NlXCIsZSkscy5jdXJyZW50Lm9wdHMuYmFja0ZvY3VzJiYociYmci5sZW5ndGgmJnIuaXMoXCI6dmlzaWJsZVwiKXx8KHI9cy4kdHJpZ2dlciksciYmci5sZW5ndGgmJihpPXQuc2Nyb2xsWCxhPXQuc2Nyb2xsWSxyLnRyaWdnZXIoXCJmb2N1c1wiKSxuKFwiaHRtbCwgYm9keVwiKS5zY3JvbGxUb3AoYSkuc2Nyb2xsTGVmdChpKSkpLHMuY3VycmVudD1udWxsLG89bi5mYW5jeWJveC5nZXRJbnN0YW5jZSgpLG8/by5hY3RpdmF0ZSgpOihuKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcImZhbmN5Ym94LWFjdGl2ZSBjb21wZW5zYXRlLWZvci1zY3JvbGxiYXJcIiksbihcIiNmYW5jeWJveC1zdHlsZS1ub3Njcm9sbFwiKS5yZW1vdmUoKSl9LHRyaWdnZXI6ZnVuY3Rpb24odCxlKXt2YXIgbyxpPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxhPXRoaXMscz1lJiZlLm9wdHM/ZTphLmN1cnJlbnQ7aWYocz9pLnVuc2hpZnQocyk6cz1hLGkudW5zaGlmdChhKSxuLmlzRnVuY3Rpb24ocy5vcHRzW3RdKSYmKG89cy5vcHRzW3RdLmFwcGx5KHMsaSkpLCExPT09bylyZXR1cm4gbztcImFmdGVyQ2xvc2VcIiE9PXQmJmEuJHJlZnM/YS4kcmVmcy5jb250YWluZXIudHJpZ2dlcih0K1wiLmZiXCIsaSk6ci50cmlnZ2VyKHQrXCIuZmJcIixpKX0sdXBkYXRlQ29udHJvbHM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLG89dC5jdXJyZW50LGk9by5pbmRleCxhPXQuJHJlZnMuY29udGFpbmVyLHM9dC4kcmVmcy5jYXB0aW9uLHI9by5vcHRzLmNhcHRpb247by4kc2xpZGUudHJpZ2dlcihcInJlZnJlc2hcIiksciYmci5sZW5ndGg/KHQuJGNhcHRpb249cyxzLmNoaWxkcmVuKCkuZXEoMCkuaHRtbChyKSk6dC4kY2FwdGlvbj1udWxsLHQuaGFzSGlkZGVuQ29udHJvbHN8fHQuaXNJZGxlfHx0LnNob3dDb250cm9scygpLGEuZmluZChcIltkYXRhLWZhbmN5Ym94LWNvdW50XVwiKS5odG1sKHQuZ3JvdXAubGVuZ3RoKSxhLmZpbmQoXCJbZGF0YS1mYW5jeWJveC1pbmRleF1cIikuaHRtbChpKzEpLGEuZmluZChcIltkYXRhLWZhbmN5Ym94LXByZXZdXCIpLnByb3AoXCJkaXNhYmxlZFwiLCFvLm9wdHMubG9vcCYmaTw9MCksYS5maW5kKFwiW2RhdGEtZmFuY3lib3gtbmV4dF1cIikucHJvcChcImRpc2FibGVkXCIsIW8ub3B0cy5sb29wJiZpPj10Lmdyb3VwLmxlbmd0aC0xKSxcImltYWdlXCI9PT1vLnR5cGU/YS5maW5kKFwiW2RhdGEtZmFuY3lib3gtem9vbV1cIikuc2hvdygpLmVuZCgpLmZpbmQoXCJbZGF0YS1mYW5jeWJveC1kb3dubG9hZF1cIikuYXR0cihcImhyZWZcIixvLm9wdHMuaW1hZ2Uuc3JjfHxvLnNyYykuc2hvdygpOm8ub3B0cy50b29sYmFyJiZhLmZpbmQoXCJbZGF0YS1mYW5jeWJveC1kb3dubG9hZF0sW2RhdGEtZmFuY3lib3gtem9vbV1cIikuaGlkZSgpLG4oZS5hY3RpdmVFbGVtZW50KS5pcyhcIjpoaWRkZW4sW2Rpc2FibGVkXVwiKSYmdC4kcmVmcy5jb250YWluZXIudHJpZ2dlcihcImZvY3VzXCIpfSxoaWRlQ29udHJvbHM6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPVtcImluZm9iYXJcIixcInRvb2xiYXJcIixcIm5hdlwiXTshdCYmZS5jdXJyZW50Lm9wdHMucHJldmVudENhcHRpb25PdmVybGFwfHxuLnB1c2goXCJjYXB0aW9uXCIpLHRoaXMuJHJlZnMuY29udGFpbmVyLnJlbW92ZUNsYXNzKG4ubWFwKGZ1bmN0aW9uKHQpe3JldHVyblwiZmFuY3lib3gtc2hvdy1cIit0fSkuam9pbihcIiBcIikpLHRoaXMuaGFzSGlkZGVuQ29udHJvbHM9ITB9LHNob3dDb250cm9sczpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10LmN1cnJlbnQ/dC5jdXJyZW50Lm9wdHM6dC5vcHRzLG49dC4kcmVmcy5jb250YWluZXI7dC5oYXNIaWRkZW5Db250cm9scz0hMSx0LmlkbGVTZWNvbmRzQ291bnRlcj0wLG4udG9nZ2xlQ2xhc3MoXCJmYW5jeWJveC1zaG93LXRvb2xiYXJcIiwhKCFlLnRvb2xiYXJ8fCFlLmJ1dHRvbnMpKS50b2dnbGVDbGFzcyhcImZhbmN5Ym94LXNob3ctaW5mb2JhclwiLCEhKGUuaW5mb2JhciYmdC5ncm91cC5sZW5ndGg+MSkpLnRvZ2dsZUNsYXNzKFwiZmFuY3lib3gtc2hvdy1jYXB0aW9uXCIsISF0LiRjYXB0aW9uKS50b2dnbGVDbGFzcyhcImZhbmN5Ym94LXNob3ctbmF2XCIsISEoZS5hcnJvd3MmJnQuZ3JvdXAubGVuZ3RoPjEpKS50b2dnbGVDbGFzcyhcImZhbmN5Ym94LWlzLW1vZGFsXCIsISFlLm1vZGFsKX0sdG9nZ2xlQ29udHJvbHM6ZnVuY3Rpb24oKXt0aGlzLmhhc0hpZGRlbkNvbnRyb2xzP3RoaXMuc2hvd0NvbnRyb2xzKCk6dGhpcy5oaWRlQ29udHJvbHMoKX19KSxuLmZhbmN5Ym94PXt2ZXJzaW9uOlwiMy41LjdcIixkZWZhdWx0czphLGdldEluc3RhbmNlOmZ1bmN0aW9uKHQpe3ZhciBlPW4oJy5mYW5jeWJveC1jb250YWluZXI6bm90KFwiLmZhbmN5Ym94LWlzLWNsb3NpbmdcIik6bGFzdCcpLmRhdGEoXCJGYW5jeUJveFwiKSxvPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gZSBpbnN0YW5jZW9mIGImJihcInN0cmluZ1wiPT09bi50eXBlKHQpP2VbdF0uYXBwbHkoZSxvKTpcImZ1bmN0aW9uXCI9PT1uLnR5cGUodCkmJnQuYXBwbHkoZSxvKSxlKX0sb3BlbjpmdW5jdGlvbih0LGUsbil7cmV0dXJuIG5ldyBiKHQsZSxuKX0sY2xvc2U6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRJbnN0YW5jZSgpO2UmJihlLmNsb3NlKCksITA9PT10JiZ0aGlzLmNsb3NlKHQpKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuY2xvc2UoITApLHIuYWRkKFwiYm9keVwiKS5vZmYoXCJjbGljay5mYi1zdGFydFwiLFwiKipcIil9LGlzTW9iaWxlOi9BbmRyb2lkfHdlYk9TfGlQaG9uZXxpUGFkfGlQb2R8QmxhY2tCZXJyeXxJRU1vYmlsZXxPcGVyYSBNaW5pL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSx1c2UzZDpmdW5jdGlvbigpe3ZhciBuPWUuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyZXR1cm4gdC5nZXRDb21wdXRlZFN0eWxlJiZ0LmdldENvbXB1dGVkU3R5bGUobikmJnQuZ2V0Q29tcHV0ZWRTdHlsZShuKS5nZXRQcm9wZXJ0eVZhbHVlKFwidHJhbnNmb3JtXCIpJiYhKGUuZG9jdW1lbnRNb2RlJiZlLmRvY3VtZW50TW9kZTwxMSl9KCksZ2V0VHJhbnNsYXRlOmZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiEoIXR8fCF0Lmxlbmd0aCkmJihlPXRbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkse3RvcDplLnRvcHx8MCxsZWZ0OmUubGVmdHx8MCx3aWR0aDplLndpZHRoLGhlaWdodDplLmhlaWdodCxvcGFjaXR5OnBhcnNlRmxvYXQodC5jc3MoXCJvcGFjaXR5XCIpKX0pfSxzZXRUcmFuc2xhdGU6ZnVuY3Rpb24odCxlKXt2YXIgbj1cIlwiLG89e307aWYodCYmZSlyZXR1cm4gdm9pZCAwPT09ZS5sZWZ0JiZ2b2lkIDA9PT1lLnRvcHx8KG49KHZvaWQgMD09PWUubGVmdD90LnBvc2l0aW9uKCkubGVmdDplLmxlZnQpK1wicHgsIFwiKyh2b2lkIDA9PT1lLnRvcD90LnBvc2l0aW9uKCkudG9wOmUudG9wKStcInB4XCIsbj10aGlzLnVzZTNkP1widHJhbnNsYXRlM2QoXCIrbitcIiwgMHB4KVwiOlwidHJhbnNsYXRlKFwiK24rXCIpXCIpLHZvaWQgMCE9PWUuc2NhbGVYJiZ2b2lkIDAhPT1lLnNjYWxlWT9uKz1cIiBzY2FsZShcIitlLnNjYWxlWCtcIiwgXCIrZS5zY2FsZVkrXCIpXCI6dm9pZCAwIT09ZS5zY2FsZVgmJihuKz1cIiBzY2FsZVgoXCIrZS5zY2FsZVgrXCIpXCIpLG4ubGVuZ3RoJiYoby50cmFuc2Zvcm09biksdm9pZCAwIT09ZS5vcGFjaXR5JiYoby5vcGFjaXR5PWUub3BhY2l0eSksdm9pZCAwIT09ZS53aWR0aCYmKG8ud2lkdGg9ZS53aWR0aCksdm9pZCAwIT09ZS5oZWlnaHQmJihvLmhlaWdodD1lLmhlaWdodCksdC5jc3Mobyl9LGFuaW1hdGU6ZnVuY3Rpb24odCxlLG8saSxhKXt2YXIgcyxyPXRoaXM7bi5pc0Z1bmN0aW9uKG8pJiYoaT1vLG89bnVsbCksci5zdG9wKHQpLHM9ci5nZXRUcmFuc2xhdGUodCksdC5vbihmLGZ1bmN0aW9uKGMpeyghY3x8IWMub3JpZ2luYWxFdmVudHx8dC5pcyhjLm9yaWdpbmFsRXZlbnQudGFyZ2V0KSYmXCJ6LWluZGV4XCIhPWMub3JpZ2luYWxFdmVudC5wcm9wZXJ0eU5hbWUpJiYoci5zdG9wKHQpLG4uaXNOdW1lcmljKG8pJiZ0LmNzcyhcInRyYW5zaXRpb24tZHVyYXRpb25cIixcIlwiKSxuLmlzUGxhaW5PYmplY3QoZSk/dm9pZCAwIT09ZS5zY2FsZVgmJnZvaWQgMCE9PWUuc2NhbGVZJiZyLnNldFRyYW5zbGF0ZSh0LHt0b3A6ZS50b3AsbGVmdDplLmxlZnQsd2lkdGg6cy53aWR0aCplLnNjYWxlWCxoZWlnaHQ6cy5oZWlnaHQqZS5zY2FsZVksc2NhbGVYOjEsc2NhbGVZOjF9KTohMCE9PWEmJnQucmVtb3ZlQ2xhc3MoZSksbi5pc0Z1bmN0aW9uKGkpJiZpKGMpKX0pLG4uaXNOdW1lcmljKG8pJiZ0LmNzcyhcInRyYW5zaXRpb24tZHVyYXRpb25cIixvK1wibXNcIiksbi5pc1BsYWluT2JqZWN0KGUpPyh2b2lkIDAhPT1lLnNjYWxlWCYmdm9pZCAwIT09ZS5zY2FsZVkmJihkZWxldGUgZS53aWR0aCxkZWxldGUgZS5oZWlnaHQsdC5wYXJlbnQoKS5oYXNDbGFzcyhcImZhbmN5Ym94LXNsaWRlLS1pbWFnZVwiKSYmdC5wYXJlbnQoKS5hZGRDbGFzcyhcImZhbmN5Ym94LWlzLXNjYWxpbmdcIikpLG4uZmFuY3lib3guc2V0VHJhbnNsYXRlKHQsZSkpOnQuYWRkQ2xhc3MoZSksdC5kYXRhKFwidGltZXJcIixzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC50cmlnZ2VyKGYpfSxvKzMzKSl9LHN0b3A6ZnVuY3Rpb24odCxlKXt0JiZ0Lmxlbmd0aCYmKGNsZWFyVGltZW91dCh0LmRhdGEoXCJ0aW1lclwiKSksZSYmdC50cmlnZ2VyKGYpLHQub2ZmKGYpLmNzcyhcInRyYW5zaXRpb24tZHVyYXRpb25cIixcIlwiKSx0LnBhcmVudCgpLnJlbW92ZUNsYXNzKFwiZmFuY3lib3gtaXMtc2NhbGluZ1wiKSl9fSxuLmZuLmZhbmN5Ym94PWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiB0PXR8fHt9LGU9dC5zZWxlY3Rvcnx8ITEsZT9uKFwiYm9keVwiKS5vZmYoXCJjbGljay5mYi1zdGFydFwiLGUpLm9uKFwiY2xpY2suZmItc3RhcnRcIixlLHtvcHRpb25zOnR9LGkpOnRoaXMub2ZmKFwiY2xpY2suZmItc3RhcnRcIikub24oXCJjbGljay5mYi1zdGFydFwiLHtpdGVtczp0aGlzLG9wdGlvbnM6dH0saSksdGhpc30sci5vbihcImNsaWNrLmZiLXN0YXJ0XCIsXCJbZGF0YS1mYW5jeWJveF1cIixpKSxyLm9uKFwiY2xpY2suZmItc3RhcnRcIixcIltkYXRhLWZhbmN5Ym94LXRyaWdnZXJdXCIsZnVuY3Rpb24odCl7bignW2RhdGEtZmFuY3lib3g9XCInK24odGhpcykuYXR0cihcImRhdGEtZmFuY3lib3gtdHJpZ2dlclwiKSsnXCJdJykuZXEobih0aGlzKS5hdHRyKFwiZGF0YS1mYW5jeWJveC1pbmRleFwiKXx8MCkudHJpZ2dlcihcImNsaWNrLmZiLXN0YXJ0XCIseyR0cmlnZ2VyOm4odGhpcyl9KX0pLGZ1bmN0aW9uKCl7dmFyIHQ9bnVsbDtyLm9uKFwibW91c2Vkb3duIG1vdXNldXAgZm9jdXMgYmx1clwiLFwiLmZhbmN5Ym94LWJ1dHRvblwiLGZ1bmN0aW9uKGUpe3N3aXRjaChlLnR5cGUpe2Nhc2VcIm1vdXNlZG93blwiOnQ9bih0aGlzKTticmVhaztjYXNlXCJtb3VzZXVwXCI6dD1udWxsO2JyZWFrO2Nhc2VcImZvY3VzaW5cIjpuKFwiLmZhbmN5Ym94LWJ1dHRvblwiKS5yZW1vdmVDbGFzcyhcImZhbmN5Ym94LWZvY3VzXCIpLG4odGhpcykuaXModCl8fG4odGhpcykuaXMoXCJbZGlzYWJsZWRdXCIpfHxuKHRoaXMpLmFkZENsYXNzKFwiZmFuY3lib3gtZm9jdXNcIik7YnJlYWs7Y2FzZVwiZm9jdXNvdXRcIjpuKFwiLmZhbmN5Ym94LWJ1dHRvblwiKS5yZW1vdmVDbGFzcyhcImZhbmN5Ym94LWZvY3VzXCIpfX0pfSgpfX0od2luZG93LGRvY3VtZW50LGpRdWVyeSksZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGU9e3lvdXR1YmU6e21hdGNoZXI6Lyh5b3V0dWJlXFwuY29tfHlvdXR1XFwuYmV8eW91dHViZVxcLW5vY29va2llXFwuY29tKVxcLyh3YXRjaFxcPyguKiYpP3Y9fHZcXC98dVxcL3xlbWJlZFxcLz8pPyh2aWRlb3Nlcmllc1xcP2xpc3Q9KC4qKXxbXFx3LV17MTF9fFxcP2xpc3RUeXBlPSguKikmbGlzdD0oLiopKSguKikvaSxwYXJhbXM6e2F1dG9wbGF5OjEsYXV0b2hpZGU6MSxmczoxLHJlbDowLGhkOjEsd21vZGU6XCJ0cmFuc3BhcmVudFwiLGVuYWJsZWpzYXBpOjEsaHRtbDU6MX0scGFyYW1QbGFjZTo4LHR5cGU6XCJpZnJhbWVcIix1cmw6XCJodHRwczovL3d3dy55b3V0dWJlLW5vY29va2llLmNvbS9lbWJlZC8kNFwiLHRodW1iOlwiaHR0cHM6Ly9pbWcueW91dHViZS5jb20vdmkvJDQvaHFkZWZhdWx0LmpwZ1wifSx2aW1lbzp7bWF0Y2hlcjovXi4rdmltZW8uY29tXFwvKC4qXFwvKT8oW1xcZF0rKSguKik/LyxwYXJhbXM6e2F1dG9wbGF5OjEsaGQ6MSxzaG93X3RpdGxlOjEsc2hvd19ieWxpbmU6MSxzaG93X3BvcnRyYWl0OjAsZnVsbHNjcmVlbjoxfSxwYXJhbVBsYWNlOjMsdHlwZTpcImlmcmFtZVwiLHVybDpcIi8vcGxheWVyLnZpbWVvLmNvbS92aWRlby8kMlwifSxpbnN0YWdyYW06e21hdGNoZXI6LyhpbnN0YWdyXFwuYW18aW5zdGFncmFtXFwuY29tKVxcL3BcXC8oW2EtekEtWjAtOV9cXC1dKylcXC8/L2ksdHlwZTpcImltYWdlXCIsdXJsOlwiLy8kMS9wLyQyL21lZGlhLz9zaXplPWxcIn0sZ21hcF9wbGFjZTp7bWF0Y2hlcjovKG1hcHNcXC4pP2dvb2dsZVxcLihbYS16XXsyLDN9KFxcLlthLXpdezJ9KT8pXFwvKCgobWFwc1xcLyhwbGFjZVxcLyguKilcXC8pP1xcQCguKiksKFxcZCsuP1xcZCs/KXopKXwoXFw/bGw9KSkoLiopPy9pLHR5cGU6XCJpZnJhbWVcIix1cmw6ZnVuY3Rpb24odCl7cmV0dXJuXCIvL21hcHMuZ29vZ2xlLlwiK3RbMl0rXCIvP2xsPVwiKyh0WzldP3RbOV0rXCImej1cIitNYXRoLmZsb29yKHRbMTBdKSsodFsxMl0/dFsxMl0ucmVwbGFjZSgvXlxcLy8sXCImXCIpOlwiXCIpOnRbMTJdK1wiXCIpLnJlcGxhY2UoL1xcPy8sXCImXCIpK1wiJm91dHB1dD1cIisodFsxMl0mJnRbMTJdLmluZGV4T2YoXCJsYXllcj1jXCIpPjA/XCJzdmVtYmVkXCI6XCJlbWJlZFwiKX19LGdtYXBfc2VhcmNoOnttYXRjaGVyOi8obWFwc1xcLik/Z29vZ2xlXFwuKFthLXpdezIsM30oXFwuW2Etel17Mn0pPylcXC8obWFwc1xcL3NlYXJjaFxcLykoLiopL2ksdHlwZTpcImlmcmFtZVwiLHVybDpmdW5jdGlvbih0KXtyZXR1cm5cIi8vbWFwcy5nb29nbGUuXCIrdFsyXStcIi9tYXBzP3E9XCIrdFs1XS5yZXBsYWNlKFwicXVlcnk9XCIsXCJxPVwiKS5yZXBsYWNlKFwiYXBpPTFcIixcIlwiKStcIiZvdXRwdXQ9ZW1iZWRcIn19fSxuPWZ1bmN0aW9uKGUsbixvKXtpZihlKXJldHVybiBvPW98fFwiXCIsXCJvYmplY3RcIj09PXQudHlwZShvKSYmKG89dC5wYXJhbShvLCEwKSksdC5lYWNoKG4sZnVuY3Rpb24odCxuKXtlPWUucmVwbGFjZShcIiRcIit0LG58fFwiXCIpfSksby5sZW5ndGgmJihlKz0oZS5pbmRleE9mKFwiP1wiKT4wP1wiJlwiOlwiP1wiKStvKSxlfTt0KGRvY3VtZW50KS5vbihcIm9iamVjdE5lZWRzVHlwZS5mYlwiLGZ1bmN0aW9uKG8saSxhKXt2YXIgcyxyLGMsbCxkLHUsZixwPWEuc3JjfHxcIlwiLGg9ITE7cz10LmV4dGVuZCghMCx7fSxlLGEub3B0cy5tZWRpYSksdC5lYWNoKHMsZnVuY3Rpb24oZSxvKXtpZihjPXAubWF0Y2goby5tYXRjaGVyKSl7aWYoaD1vLnR5cGUsZj1lLHU9e30sby5wYXJhbVBsYWNlJiZjW28ucGFyYW1QbGFjZV0pe2Q9Y1tvLnBhcmFtUGxhY2VdLFwiP1wiPT1kWzBdJiYoZD1kLnN1YnN0cmluZygxKSksZD1kLnNwbGl0KFwiJlwiKTtmb3IodmFyIGk9MDtpPGQubGVuZ3RoOysraSl7dmFyIHM9ZFtpXS5zcGxpdChcIj1cIiwyKTsyPT1zLmxlbmd0aCYmKHVbc1swXV09ZGVjb2RlVVJJQ29tcG9uZW50KHNbMV0ucmVwbGFjZSgvXFwrL2csXCIgXCIpKSl9fXJldHVybiBsPXQuZXh0ZW5kKCEwLHt9LG8ucGFyYW1zLGEub3B0c1tlXSx1KSxwPVwiZnVuY3Rpb25cIj09PXQudHlwZShvLnVybCk/by51cmwuY2FsbCh0aGlzLGMsbCxhKTpuKG8udXJsLGMsbCkscj1cImZ1bmN0aW9uXCI9PT10LnR5cGUoby50aHVtYik/by50aHVtYi5jYWxsKHRoaXMsYyxsLGEpOm4oby50aHVtYixjKSxcInlvdXR1YmVcIj09PWU/cD1wLnJlcGxhY2UoLyZ0PSgoXFxkKyltKT8oXFxkKylzLyxmdW5jdGlvbih0LGUsbixvKXtyZXR1cm5cIiZzdGFydD1cIisoKG4/NjAqcGFyc2VJbnQobiwxMCk6MCkrcGFyc2VJbnQobywxMCkpfSk6XCJ2aW1lb1wiPT09ZSYmKHA9cC5yZXBsYWNlKFwiJiUyM1wiLFwiI1wiKSksITF9fSksaD8oYS5vcHRzLnRodW1ifHxhLm9wdHMuJHRodW1iJiZhLm9wdHMuJHRodW1iLmxlbmd0aHx8KGEub3B0cy50aHVtYj1yKSxcImlmcmFtZVwiPT09aCYmKGEub3B0cz10LmV4dGVuZCghMCxhLm9wdHMse2lmcmFtZTp7cHJlbG9hZDohMSxhdHRyOntzY3JvbGxpbmc6XCJub1wifX19KSksdC5leHRlbmQoYSx7dHlwZTpoLHNyYzpwLG9yaWdTcmM6YS5zcmMsY29udGVudFNvdXJjZTpmLGNvbnRlbnRUeXBlOlwiaW1hZ2VcIj09PWg/XCJpbWFnZVwiOlwiZ21hcF9wbGFjZVwiPT1mfHxcImdtYXBfc2VhcmNoXCI9PWY/XCJtYXBcIjpcInZpZGVvXCJ9KSk6cCYmKGEudHlwZT1hLm9wdHMuZGVmYXVsdFR5cGUpfSk7dmFyIG89e3lvdXR1YmU6e3NyYzpcImh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2lmcmFtZV9hcGlcIixjbGFzczpcIllUXCIsbG9hZGluZzohMSxsb2FkZWQ6ITF9LHZpbWVvOntzcmM6XCJodHRwczovL3BsYXllci52aW1lby5jb20vYXBpL3BsYXllci5qc1wiLGNsYXNzOlwiVmltZW9cIixsb2FkaW5nOiExLGxvYWRlZDohMX0sbG9hZDpmdW5jdGlvbih0KXt2YXIgZSxuPXRoaXM7aWYodGhpc1t0XS5sb2FkZWQpcmV0dXJuIHZvaWQgc2V0VGltZW91dChmdW5jdGlvbigpe24uZG9uZSh0KX0pO3RoaXNbdF0ubG9hZGluZ3x8KHRoaXNbdF0ubG9hZGluZz0hMCxlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIiksZS50eXBlPVwidGV4dC9qYXZhc2NyaXB0XCIsZS5zcmM9dGhpc1t0XS5zcmMsXCJ5b3V0dWJlXCI9PT10P3dpbmRvdy5vbllvdVR1YmVJZnJhbWVBUElSZWFkeT1mdW5jdGlvbigpe25bdF0ubG9hZGVkPSEwLG4uZG9uZSh0KX06ZS5vbmxvYWQ9ZnVuY3Rpb24oKXtuW3RdLmxvYWRlZD0hMCxuLmRvbmUodCl9LGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZSkpfSxkb25lOmZ1bmN0aW9uKGUpe3ZhciBuLG8saTtcInlvdXR1YmVcIj09PWUmJmRlbGV0ZSB3aW5kb3cub25Zb3VUdWJlSWZyYW1lQVBJUmVhZHksKG49dC5mYW5jeWJveC5nZXRJbnN0YW5jZSgpKSYmKG89bi5jdXJyZW50LiRjb250ZW50LmZpbmQoXCJpZnJhbWVcIiksXCJ5b3V0dWJlXCI9PT1lJiZ2b2lkIDAhPT1ZVCYmWVQ/aT1uZXcgWVQuUGxheWVyKG8uYXR0cihcImlkXCIpLHtldmVudHM6e29uU3RhdGVDaGFuZ2U6ZnVuY3Rpb24odCl7MD09dC5kYXRhJiZuLm5leHQoKX19fSk6XCJ2aW1lb1wiPT09ZSYmdm9pZCAwIT09VmltZW8mJlZpbWVvJiYoaT1uZXcgVmltZW8uUGxheWVyKG8pLGkub24oXCJlbmRlZFwiLGZ1bmN0aW9uKCl7bi5uZXh0KCl9KSkpfX07dChkb2N1bWVudCkub24oe1wiYWZ0ZXJTaG93LmZiXCI6ZnVuY3Rpb24odCxlLG4pe2UuZ3JvdXAubGVuZ3RoPjEmJihcInlvdXR1YmVcIj09PW4uY29udGVudFNvdXJjZXx8XCJ2aW1lb1wiPT09bi5jb250ZW50U291cmNlKSYmby5sb2FkKG4uY29udGVudFNvdXJjZSl9fSl9KGpRdWVyeSksZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciBvPWZ1bmN0aW9uKCl7cmV0dXJuIHQucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx0LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8dC5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHQub1JlcXVlc3RBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24oZSl7cmV0dXJuIHQuc2V0VGltZW91dChlLDFlMy82MCl9fSgpLGk9ZnVuY3Rpb24oKXtyZXR1cm4gdC5jYW5jZWxBbmltYXRpb25GcmFtZXx8dC53ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZXx8dC5tb3pDYW5jZWxBbmltYXRpb25GcmFtZXx8dC5vQ2FuY2VsQW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKGUpe3QuY2xlYXJUaW1lb3V0KGUpfX0oKSxhPWZ1bmN0aW9uKGUpe3ZhciBuPVtdO2U9ZS5vcmlnaW5hbEV2ZW50fHxlfHx0LmUsZT1lLnRvdWNoZXMmJmUudG91Y2hlcy5sZW5ndGg/ZS50b3VjaGVzOmUuY2hhbmdlZFRvdWNoZXMmJmUuY2hhbmdlZFRvdWNoZXMubGVuZ3RoP2UuY2hhbmdlZFRvdWNoZXM6W2VdO2Zvcih2YXIgbyBpbiBlKWVbb10ucGFnZVg/bi5wdXNoKHt4OmVbb10ucGFnZVgseTplW29dLnBhZ2VZfSk6ZVtvXS5jbGllbnRYJiZuLnB1c2goe3g6ZVtvXS5jbGllbnRYLHk6ZVtvXS5jbGllbnRZfSk7cmV0dXJuIG59LHM9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBlJiZ0P1wieFwiPT09bj90LngtZS54OlwieVwiPT09bj90LnktZS55Ok1hdGguc3FydChNYXRoLnBvdyh0LngtZS54LDIpK01hdGgucG93KHQueS1lLnksMikpOjB9LHI9ZnVuY3Rpb24odCl7aWYodC5pcygnYSxhcmVhLGJ1dHRvbixbcm9sZT1cImJ1dHRvblwiXSxpbnB1dCxsYWJlbCxzZWxlY3Qsc3VtbWFyeSx0ZXh0YXJlYSx2aWRlbyxhdWRpbyxpZnJhbWUnKXx8bi5pc0Z1bmN0aW9uKHQuZ2V0KDApLm9uY2xpY2spfHx0LmRhdGEoXCJzZWxlY3RhYmxlXCIpKXJldHVybiEwO2Zvcih2YXIgZT0wLG89dFswXS5hdHRyaWJ1dGVzLGk9by5sZW5ndGg7ZTxpO2UrKylpZihcImRhdGEtZmFuY3lib3gtXCI9PT1vW2VdLm5vZGVOYW1lLnN1YnN0cigwLDE0KSlyZXR1cm4hMDtyZXR1cm4hMX0sYz1mdW5jdGlvbihlKXt2YXIgbj10LmdldENvbXB1dGVkU3R5bGUoZSlbXCJvdmVyZmxvdy15XCJdLG89dC5nZXRDb21wdXRlZFN0eWxlKGUpW1wib3ZlcmZsb3cteFwiXSxpPShcInNjcm9sbFwiPT09bnx8XCJhdXRvXCI9PT1uKSYmZS5zY3JvbGxIZWlnaHQ+ZS5jbGllbnRIZWlnaHQsYT0oXCJzY3JvbGxcIj09PW98fFwiYXV0b1wiPT09bykmJmUuc2Nyb2xsV2lkdGg+ZS5jbGllbnRXaWR0aDtyZXR1cm4gaXx8YX0sbD1mdW5jdGlvbih0KXtmb3IodmFyIGU9ITE7Oyl7aWYoZT1jKHQuZ2V0KDApKSlicmVhaztpZih0PXQucGFyZW50KCksIXQubGVuZ3RofHx0Lmhhc0NsYXNzKFwiZmFuY3lib3gtc3RhZ2VcIil8fHQuaXMoXCJib2R5XCIpKWJyZWFrfXJldHVybiBlfSxkPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7ZS5pbnN0YW5jZT10LGUuJGJnPXQuJHJlZnMuYmcsZS4kc3RhZ2U9dC4kcmVmcy5zdGFnZSxlLiRjb250YWluZXI9dC4kcmVmcy5jb250YWluZXIsZS5kZXN0cm95KCksZS4kY29udGFpbmVyLm9uKFwidG91Y2hzdGFydC5mYi50b3VjaCBtb3VzZWRvd24uZmIudG91Y2hcIixuLnByb3h5KGUsXCJvbnRvdWNoc3RhcnRcIikpfTtkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0LiRjb250YWluZXIub2ZmKFwiLmZiLnRvdWNoXCIpLG4oZSkub2ZmKFwiLmZiLnRvdWNoXCIpLHQucmVxdWVzdElkJiYoaSh0LnJlcXVlc3RJZCksdC5yZXF1ZXN0SWQ9bnVsbCksdC50YXBwZWQmJihjbGVhclRpbWVvdXQodC50YXBwZWQpLHQudGFwcGVkPW51bGwpfSxkLnByb3RvdHlwZS5vbnRvdWNoc3RhcnQ9ZnVuY3Rpb24obyl7dmFyIGk9dGhpcyxjPW4oby50YXJnZXQpLGQ9aS5pbnN0YW5jZSx1PWQuY3VycmVudCxmPXUuJHNsaWRlLHA9dS4kY29udGVudCxoPVwidG91Y2hzdGFydFwiPT1vLnR5cGU7aWYoaCYmaS4kY29udGFpbmVyLm9mZihcIm1vdXNlZG93bi5mYi50b3VjaFwiKSwoIW8ub3JpZ2luYWxFdmVudHx8MiE9by5vcmlnaW5hbEV2ZW50LmJ1dHRvbikmJmYubGVuZ3RoJiZjLmxlbmd0aCYmIXIoYykmJiFyKGMucGFyZW50KCkpJiYoYy5pcyhcImltZ1wiKXx8IShvLm9yaWdpbmFsRXZlbnQuY2xpZW50WD5jWzBdLmNsaWVudFdpZHRoK2Mub2Zmc2V0KCkubGVmdCkpKXtpZighdXx8ZC5pc0FuaW1hdGluZ3x8dS4kc2xpZGUuaGFzQ2xhc3MoXCJmYW5jeWJveC1hbmltYXRlZFwiKSlyZXR1cm4gby5zdG9wUHJvcGFnYXRpb24oKSx2b2lkIG8ucHJldmVudERlZmF1bHQoKTtpLnJlYWxQb2ludHM9aS5zdGFydFBvaW50cz1hKG8pLGkuc3RhcnRQb2ludHMubGVuZ3RoJiYodS50b3VjaCYmby5zdG9wUHJvcGFnYXRpb24oKSxpLnN0YXJ0RXZlbnQ9byxpLmNhblRhcD0hMCxpLiR0YXJnZXQ9YyxpLiRjb250ZW50PXAsaS5vcHRzPXUub3B0cy50b3VjaCxpLmlzUGFubmluZz0hMSxpLmlzU3dpcGluZz0hMSxpLmlzWm9vbWluZz0hMSxpLmlzU2Nyb2xsaW5nPSExLGkuY2FuUGFuPWQuY2FuUGFuKCksaS5zdGFydFRpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCksaS5kaXN0YW5jZVg9aS5kaXN0YW5jZVk9aS5kaXN0YW5jZT0wLGkuY2FudmFzV2lkdGg9TWF0aC5yb3VuZChmWzBdLmNsaWVudFdpZHRoKSxpLmNhbnZhc0hlaWdodD1NYXRoLnJvdW5kKGZbMF0uY2xpZW50SGVpZ2h0KSxpLmNvbnRlbnRMYXN0UG9zPW51bGwsaS5jb250ZW50U3RhcnRQb3M9bi5mYW5jeWJveC5nZXRUcmFuc2xhdGUoaS4kY29udGVudCl8fHt0b3A6MCxsZWZ0OjB9LGkuc2xpZGVyU3RhcnRQb3M9bi5mYW5jeWJveC5nZXRUcmFuc2xhdGUoZiksaS5zdGFnZVBvcz1uLmZhbmN5Ym94LmdldFRyYW5zbGF0ZShkLiRyZWZzLnN0YWdlKSxpLnNsaWRlclN0YXJ0UG9zLnRvcC09aS5zdGFnZVBvcy50b3AsaS5zbGlkZXJTdGFydFBvcy5sZWZ0LT1pLnN0YWdlUG9zLmxlZnQsaS5jb250ZW50U3RhcnRQb3MudG9wLT1pLnN0YWdlUG9zLnRvcCxpLmNvbnRlbnRTdGFydFBvcy5sZWZ0LT1pLnN0YWdlUG9zLmxlZnQsbihlKS5vZmYoXCIuZmIudG91Y2hcIikub24oaD9cInRvdWNoZW5kLmZiLnRvdWNoIHRvdWNoY2FuY2VsLmZiLnRvdWNoXCI6XCJtb3VzZXVwLmZiLnRvdWNoIG1vdXNlbGVhdmUuZmIudG91Y2hcIixuLnByb3h5KGksXCJvbnRvdWNoZW5kXCIpKS5vbihoP1widG91Y2htb3ZlLmZiLnRvdWNoXCI6XCJtb3VzZW1vdmUuZmIudG91Y2hcIixuLnByb3h5KGksXCJvbnRvdWNobW92ZVwiKSksbi5mYW5jeWJveC5pc01vYmlsZSYmZS5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsaS5vbnNjcm9sbCwhMCksKChpLm9wdHN8fGkuY2FuUGFuKSYmKGMuaXMoaS4kc3RhZ2UpfHxpLiRzdGFnZS5maW5kKGMpLmxlbmd0aCl8fChjLmlzKFwiLmZhbmN5Ym94LWltYWdlXCIpJiZvLnByZXZlbnREZWZhdWx0KCksbi5mYW5jeWJveC5pc01vYmlsZSYmYy5wYXJlbnRzKFwiLmZhbmN5Ym94LWNhcHRpb25cIikubGVuZ3RoKSkmJihpLmlzU2Nyb2xsYWJsZT1sKGMpfHxsKGMucGFyZW50KCkpLG4uZmFuY3lib3guaXNNb2JpbGUmJmkuaXNTY3JvbGxhYmxlfHxvLnByZXZlbnREZWZhdWx0KCksKDE9PT1pLnN0YXJ0UG9pbnRzLmxlbmd0aHx8dS5oYXNFcnJvcikmJihpLmNhblBhbj8obi5mYW5jeWJveC5zdG9wKGkuJGNvbnRlbnQpLGkuaXNQYW5uaW5nPSEwKTppLmlzU3dpcGluZz0hMCxpLiRjb250YWluZXIuYWRkQ2xhc3MoXCJmYW5jeWJveC1pcy1ncmFiYmluZ1wiKSksMj09PWkuc3RhcnRQb2ludHMubGVuZ3RoJiZcImltYWdlXCI9PT11LnR5cGUmJih1LmlzTG9hZGVkfHx1LiRnaG9zdCkmJihpLmNhblRhcD0hMSxpLmlzU3dpcGluZz0hMSxpLmlzUGFubmluZz0hMSxpLmlzWm9vbWluZz0hMCxuLmZhbmN5Ym94LnN0b3AoaS4kY29udGVudCksaS5jZW50ZXJQb2ludFN0YXJ0WD0uNSooaS5zdGFydFBvaW50c1swXS54K2kuc3RhcnRQb2ludHNbMV0ueCktbih0KS5zY3JvbGxMZWZ0KCksaS5jZW50ZXJQb2ludFN0YXJ0WT0uNSooaS5zdGFydFBvaW50c1swXS55K2kuc3RhcnRQb2ludHNbMV0ueSktbih0KS5zY3JvbGxUb3AoKSxpLnBlcmNlbnRhZ2VPZkltYWdlQXRQaW5jaFBvaW50WD0oaS5jZW50ZXJQb2ludFN0YXJ0WC1pLmNvbnRlbnRTdGFydFBvcy5sZWZ0KS9pLmNvbnRlbnRTdGFydFBvcy53aWR0aCxpLnBlcmNlbnRhZ2VPZkltYWdlQXRQaW5jaFBvaW50WT0oaS5jZW50ZXJQb2ludFN0YXJ0WS1pLmNvbnRlbnRTdGFydFBvcy50b3ApL2kuY29udGVudFN0YXJ0UG9zLmhlaWdodCxpLnN0YXJ0RGlzdGFuY2VCZXR3ZWVuRmluZ2Vycz1zKGkuc3RhcnRQb2ludHNbMF0saS5zdGFydFBvaW50c1sxXSkpKSl9fSxkLnByb3RvdHlwZS5vbnNjcm9sbD1mdW5jdGlvbih0KXt2YXIgbj10aGlzO24uaXNTY3JvbGxpbmc9ITAsZS5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsbi5vbnNjcm9sbCwhMCl9LGQucHJvdG90eXBlLm9udG91Y2htb3ZlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIHZvaWQgMCE9PXQub3JpZ2luYWxFdmVudC5idXR0b25zJiYwPT09dC5vcmlnaW5hbEV2ZW50LmJ1dHRvbnM/dm9pZCBlLm9udG91Y2hlbmQodCk6ZS5pc1Njcm9sbGluZz92b2lkKGUuY2FuVGFwPSExKTooZS5uZXdQb2ludHM9YSh0KSx2b2lkKChlLm9wdHN8fGUuY2FuUGFuKSYmZS5uZXdQb2ludHMubGVuZ3RoJiZlLm5ld1BvaW50cy5sZW5ndGgmJihlLmlzU3dpcGluZyYmITA9PT1lLmlzU3dpcGluZ3x8dC5wcmV2ZW50RGVmYXVsdCgpLGUuZGlzdGFuY2VYPXMoZS5uZXdQb2ludHNbMF0sZS5zdGFydFBvaW50c1swXSxcInhcIiksZS5kaXN0YW5jZVk9cyhlLm5ld1BvaW50c1swXSxlLnN0YXJ0UG9pbnRzWzBdLFwieVwiKSxlLmRpc3RhbmNlPXMoZS5uZXdQb2ludHNbMF0sZS5zdGFydFBvaW50c1swXSksZS5kaXN0YW5jZT4wJiYoZS5pc1N3aXBpbmc/ZS5vblN3aXBlKHQpOmUuaXNQYW5uaW5nP2Uub25QYW4oKTplLmlzWm9vbWluZyYmZS5vblpvb20oKSkpKSl9LGQucHJvdG90eXBlLm9uU3dpcGU9ZnVuY3Rpb24oZSl7dmFyIGEscz10aGlzLHI9cy5pbnN0YW5jZSxjPXMuaXNTd2lwaW5nLGw9cy5zbGlkZXJTdGFydFBvcy5sZWZ0fHwwO2lmKCEwIT09YylcInhcIj09YyYmKHMuZGlzdGFuY2VYPjAmJihzLmluc3RhbmNlLmdyb3VwLmxlbmd0aDwyfHwwPT09cy5pbnN0YW5jZS5jdXJyZW50LmluZGV4JiYhcy5pbnN0YW5jZS5jdXJyZW50Lm9wdHMubG9vcCk/bCs9TWF0aC5wb3cocy5kaXN0YW5jZVgsLjgpOnMuZGlzdGFuY2VYPDAmJihzLmluc3RhbmNlLmdyb3VwLmxlbmd0aDwyfHxzLmluc3RhbmNlLmN1cnJlbnQuaW5kZXg9PT1zLmluc3RhbmNlLmdyb3VwLmxlbmd0aC0xJiYhcy5pbnN0YW5jZS5jdXJyZW50Lm9wdHMubG9vcCk/bC09TWF0aC5wb3coLXMuZGlzdGFuY2VYLC44KTpsKz1zLmRpc3RhbmNlWCkscy5zbGlkZXJMYXN0UG9zPXt0b3A6XCJ4XCI9PWM/MDpzLnNsaWRlclN0YXJ0UG9zLnRvcCtzLmRpc3RhbmNlWSxsZWZ0Omx9LHMucmVxdWVzdElkJiYoaShzLnJlcXVlc3RJZCkscy5yZXF1ZXN0SWQ9bnVsbCkscy5yZXF1ZXN0SWQ9byhmdW5jdGlvbigpe3Muc2xpZGVyTGFzdFBvcyYmKG4uZWFjaChzLmluc3RhbmNlLnNsaWRlcyxmdW5jdGlvbih0LGUpe3ZhciBvPWUucG9zLXMuaW5zdGFuY2UuY3VyclBvcztuLmZhbmN5Ym94LnNldFRyYW5zbGF0ZShlLiRzbGlkZSx7dG9wOnMuc2xpZGVyTGFzdFBvcy50b3AsbGVmdDpzLnNsaWRlckxhc3RQb3MubGVmdCtvKnMuY2FudmFzV2lkdGgrbyplLm9wdHMuZ3V0dGVyfSl9KSxzLiRjb250YWluZXIuYWRkQ2xhc3MoXCJmYW5jeWJveC1pcy1zbGlkaW5nXCIpKX0pO2Vsc2UgaWYoTWF0aC5hYnMocy5kaXN0YW5jZSk+MTApe2lmKHMuY2FuVGFwPSExLHIuZ3JvdXAubGVuZ3RoPDImJnMub3B0cy52ZXJ0aWNhbD9zLmlzU3dpcGluZz1cInlcIjpyLmlzRHJhZ2dpbmd8fCExPT09cy5vcHRzLnZlcnRpY2FsfHxcImF1dG9cIj09PXMub3B0cy52ZXJ0aWNhbCYmbih0KS53aWR0aCgpPjgwMD9zLmlzU3dpcGluZz1cInhcIjooYT1NYXRoLmFicygxODAqTWF0aC5hdGFuMihzLmRpc3RhbmNlWSxzLmRpc3RhbmNlWCkvTWF0aC5QSSkscy5pc1N3aXBpbmc9YT40NSYmYTwxMzU/XCJ5XCI6XCJ4XCIpLFwieVwiPT09cy5pc1N3aXBpbmcmJm4uZmFuY3lib3guaXNNb2JpbGUmJnMuaXNTY3JvbGxhYmxlKXJldHVybiB2b2lkKHMuaXNTY3JvbGxpbmc9ITApO3IuaXNEcmFnZ2luZz1zLmlzU3dpcGluZyxzLnN0YXJ0UG9pbnRzPXMubmV3UG9pbnRzLG4uZWFjaChyLnNsaWRlcyxmdW5jdGlvbih0LGUpe3ZhciBvLGk7bi5mYW5jeWJveC5zdG9wKGUuJHNsaWRlKSxvPW4uZmFuY3lib3guZ2V0VHJhbnNsYXRlKGUuJHNsaWRlKSxpPW4uZmFuY3lib3guZ2V0VHJhbnNsYXRlKHIuJHJlZnMuc3RhZ2UpLGUuJHNsaWRlLmNzcyh7dHJhbnNmb3JtOlwiXCIsb3BhY2l0eTpcIlwiLFwidHJhbnNpdGlvbi1kdXJhdGlvblwiOlwiXCJ9KS5yZW1vdmVDbGFzcyhcImZhbmN5Ym94LWFuaW1hdGVkXCIpLnJlbW92ZUNsYXNzKGZ1bmN0aW9uKHQsZSl7cmV0dXJuKGUubWF0Y2goLyhefFxccylmYW5jeWJveC1meC1cXFMrL2cpfHxbXSkuam9pbihcIiBcIil9KSxlLnBvcz09PXIuY3VycmVudC5wb3MmJihzLnNsaWRlclN0YXJ0UG9zLnRvcD1vLnRvcC1pLnRvcCxzLnNsaWRlclN0YXJ0UG9zLmxlZnQ9by5sZWZ0LWkubGVmdCksbi5mYW5jeWJveC5zZXRUcmFuc2xhdGUoZS4kc2xpZGUse3RvcDpvLnRvcC1pLnRvcCxsZWZ0Om8ubGVmdC1pLmxlZnR9KX0pLHIuU2xpZGVTaG93JiZyLlNsaWRlU2hvdy5pc0FjdGl2ZSYmci5TbGlkZVNob3cuc3RvcCgpfX0sZC5wcm90b3R5cGUub25QYW49ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKHModC5uZXdQb2ludHNbMF0sdC5yZWFsUG9pbnRzWzBdKTwobi5mYW5jeWJveC5pc01vYmlsZT8xMDo1KSlyZXR1cm4gdm9pZCh0LnN0YXJ0UG9pbnRzPXQubmV3UG9pbnRzKTt0LmNhblRhcD0hMSx0LmNvbnRlbnRMYXN0UG9zPXQubGltaXRNb3ZlbWVudCgpLHQucmVxdWVzdElkJiZpKHQucmVxdWVzdElkKSx0LnJlcXVlc3RJZD1vKGZ1bmN0aW9uKCl7bi5mYW5jeWJveC5zZXRUcmFuc2xhdGUodC4kY29udGVudCx0LmNvbnRlbnRMYXN0UG9zKX0pfSxkLnByb3RvdHlwZS5saW1pdE1vdmVtZW50PWZ1bmN0aW9uKCl7dmFyIHQsZSxuLG8saSxhLHM9dGhpcyxyPXMuY2FudmFzV2lkdGgsYz1zLmNhbnZhc0hlaWdodCxsPXMuZGlzdGFuY2VYLGQ9cy5kaXN0YW5jZVksdT1zLmNvbnRlbnRTdGFydFBvcyxmPXUubGVmdCxwPXUudG9wLGg9dS53aWR0aCxnPXUuaGVpZ2h0O3JldHVybiBpPWg+cj9mK2w6ZixhPXArZCx0PU1hdGgubWF4KDAsLjUqci0uNSpoKSxlPU1hdGgubWF4KDAsLjUqYy0uNSpnKSxuPU1hdGgubWluKHItaCwuNSpyLS41KmgpLG89TWF0aC5taW4oYy1nLC41KmMtLjUqZyksbD4wJiZpPnQmJihpPXQtMStNYXRoLnBvdygtdCtmK2wsLjgpfHwwKSxsPDAmJmk8biYmKGk9bisxLU1hdGgucG93KG4tZi1sLC44KXx8MCksZD4wJiZhPmUmJihhPWUtMStNYXRoLnBvdygtZStwK2QsLjgpfHwwKSxkPDAmJmE8byYmKGE9bysxLU1hdGgucG93KG8tcC1kLC44KXx8MCkse3RvcDphLGxlZnQ6aX19LGQucHJvdG90eXBlLmxpbWl0UG9zaXRpb249ZnVuY3Rpb24odCxlLG4sbyl7dmFyIGk9dGhpcyxhPWkuY2FudmFzV2lkdGgscz1pLmNhbnZhc0hlaWdodDtyZXR1cm4gbj5hPyh0PXQ+MD8wOnQsdD10PGEtbj9hLW46dCk6dD1NYXRoLm1heCgwLGEvMi1uLzIpLG8+cz8oZT1lPjA/MDplLGU9ZTxzLW8/cy1vOmUpOmU9TWF0aC5tYXgoMCxzLzItby8yKSx7dG9wOmUsbGVmdDp0fX0sZC5wcm90b3R5cGUub25ab29tPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxhPWUuY29udGVudFN0YXJ0UG9zLHI9YS53aWR0aCxjPWEuaGVpZ2h0LGw9YS5sZWZ0LGQ9YS50b3AsdT1zKGUubmV3UG9pbnRzWzBdLGUubmV3UG9pbnRzWzFdKSxmPXUvZS5zdGFydERpc3RhbmNlQmV0d2VlbkZpbmdlcnMscD1NYXRoLmZsb29yKHIqZiksaD1NYXRoLmZsb29yKGMqZiksZz0oci1wKSplLnBlcmNlbnRhZ2VPZkltYWdlQXRQaW5jaFBvaW50WCxiPShjLWgpKmUucGVyY2VudGFnZU9mSW1hZ2VBdFBpbmNoUG9pbnRZLG09KGUubmV3UG9pbnRzWzBdLngrZS5uZXdQb2ludHNbMV0ueCkvMi1uKHQpLnNjcm9sbExlZnQoKSx2PShlLm5ld1BvaW50c1swXS55K2UubmV3UG9pbnRzWzFdLnkpLzItbih0KS5zY3JvbGxUb3AoKSx5PW0tZS5jZW50ZXJQb2ludFN0YXJ0WCx4PXYtZS5jZW50ZXJQb2ludFN0YXJ0WSx3PWwrKGcreSksJD1kKyhiK3gpLFM9e3RvcDokLGxlZnQ6dyxzY2FsZVg6ZixzY2FsZVk6Zn07ZS5jYW5UYXA9ITEsZS5uZXdXaWR0aD1wLGUubmV3SGVpZ2h0PWgsZS5jb250ZW50TGFzdFBvcz1TLGUucmVxdWVzdElkJiZpKGUucmVxdWVzdElkKSxlLnJlcXVlc3RJZD1vKGZ1bmN0aW9uKCl7bi5mYW5jeWJveC5zZXRUcmFuc2xhdGUoZS4kY29udGVudCxlLmNvbnRlbnRMYXN0UG9zKX0pfSxkLnByb3RvdHlwZS5vbnRvdWNoZW5kPWZ1bmN0aW9uKHQpe3ZhciBvPXRoaXMscz1vLmlzU3dpcGluZyxyPW8uaXNQYW5uaW5nLGM9by5pc1pvb21pbmcsbD1vLmlzU2Nyb2xsaW5nO2lmKG8uZW5kUG9pbnRzPWEodCksby5kTXM9TWF0aC5tYXgoKG5ldyBEYXRlKS5nZXRUaW1lKCktby5zdGFydFRpbWUsMSksby4kY29udGFpbmVyLnJlbW92ZUNsYXNzKFwiZmFuY3lib3gtaXMtZ3JhYmJpbmdcIiksbihlKS5vZmYoXCIuZmIudG91Y2hcIiksZS5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsby5vbnNjcm9sbCwhMCksby5yZXF1ZXN0SWQmJihpKG8ucmVxdWVzdElkKSxvLnJlcXVlc3RJZD1udWxsKSxvLmlzU3dpcGluZz0hMSxvLmlzUGFubmluZz0hMSxvLmlzWm9vbWluZz0hMSxvLmlzU2Nyb2xsaW5nPSExLG8uaW5zdGFuY2UuaXNEcmFnZ2luZz0hMSxvLmNhblRhcClyZXR1cm4gby5vblRhcCh0KTtvLnNwZWVkPTEwMCxvLnZlbG9jaXR5WD1vLmRpc3RhbmNlWC9vLmRNcyouNSxvLnZlbG9jaXR5WT1vLmRpc3RhbmNlWS9vLmRNcyouNSxyP28uZW5kUGFubmluZygpOmM/by5lbmRab29taW5nKCk6by5lbmRTd2lwaW5nKHMsbCl9LGQucHJvdG90eXBlLmVuZFN3aXBpbmc9ZnVuY3Rpb24odCxlKXt2YXIgbz10aGlzLGk9ITEsYT1vLmluc3RhbmNlLmdyb3VwLmxlbmd0aCxzPU1hdGguYWJzKG8uZGlzdGFuY2VYKSxyPVwieFwiPT10JiZhPjEmJihvLmRNcz4xMzAmJnM+MTB8fHM+NTApO28uc2xpZGVyTGFzdFBvcz1udWxsLFwieVwiPT10JiYhZSYmTWF0aC5hYnMoby5kaXN0YW5jZVkpPjUwPyhuLmZhbmN5Ym94LmFuaW1hdGUoby5pbnN0YW5jZS5jdXJyZW50LiRzbGlkZSx7dG9wOm8uc2xpZGVyU3RhcnRQb3MudG9wK28uZGlzdGFuY2VZKzE1MCpvLnZlbG9jaXR5WSxvcGFjaXR5OjB9LDIwMCksaT1vLmluc3RhbmNlLmNsb3NlKCEwLDI1MCkpOnImJm8uZGlzdGFuY2VYPjA/aT1vLmluc3RhbmNlLnByZXZpb3VzKDMwMCk6ciYmby5kaXN0YW5jZVg8MCYmKGk9by5pbnN0YW5jZS5uZXh0KDMwMCkpLCExIT09aXx8XCJ4XCIhPXQmJlwieVwiIT10fHxvLmluc3RhbmNlLmNlbnRlclNsaWRlKDIwMCksby4kY29udGFpbmVyLnJlbW92ZUNsYXNzKFwiZmFuY3lib3gtaXMtc2xpZGluZ1wiKX0sZC5wcm90b3R5cGUuZW5kUGFubmluZz1mdW5jdGlvbigpe3ZhciB0LGUsbyxpPXRoaXM7aS5jb250ZW50TGFzdFBvcyYmKCExPT09aS5vcHRzLm1vbWVudHVtfHxpLmRNcz4zNTA/KHQ9aS5jb250ZW50TGFzdFBvcy5sZWZ0LGU9aS5jb250ZW50TGFzdFBvcy50b3ApOih0PWkuY29udGVudExhc3RQb3MubGVmdCs1MDAqaS52ZWxvY2l0eVgsZT1pLmNvbnRlbnRMYXN0UG9zLnRvcCs1MDAqaS52ZWxvY2l0eVkpLG89aS5saW1pdFBvc2l0aW9uKHQsZSxpLmNvbnRlbnRTdGFydFBvcy53aWR0aCxpLmNvbnRlbnRTdGFydFBvcy5oZWlnaHQpLG8ud2lkdGg9aS5jb250ZW50U3RhcnRQb3Mud2lkdGgsby5oZWlnaHQ9aS5jb250ZW50U3RhcnRQb3MuaGVpZ2h0LG4uZmFuY3lib3guYW5pbWF0ZShpLiRjb250ZW50LG8sMzY2KSl9LGQucHJvdG90eXBlLmVuZFpvb21pbmc9ZnVuY3Rpb24oKXt2YXIgdCxlLG8saSxhPXRoaXMscz1hLmluc3RhbmNlLmN1cnJlbnQscj1hLm5ld1dpZHRoLGM9YS5uZXdIZWlnaHQ7YS5jb250ZW50TGFzdFBvcyYmKHQ9YS5jb250ZW50TGFzdFBvcy5sZWZ0LGU9YS5jb250ZW50TGFzdFBvcy50b3AsaT17dG9wOmUsbGVmdDp0LHdpZHRoOnIsaGVpZ2h0OmMsc2NhbGVYOjEsc2NhbGVZOjF9LG4uZmFuY3lib3guc2V0VHJhbnNsYXRlKGEuJGNvbnRlbnQsaSkscjxhLmNhbnZhc1dpZHRoJiZjPGEuY2FudmFzSGVpZ2h0P2EuaW5zdGFuY2Uuc2NhbGVUb0ZpdCgxNTApOnI+cy53aWR0aHx8Yz5zLmhlaWdodD9hLmluc3RhbmNlLnNjYWxlVG9BY3R1YWwoYS5jZW50ZXJQb2ludFN0YXJ0WCxhLmNlbnRlclBvaW50U3RhcnRZLDE1MCk6KG89YS5saW1pdFBvc2l0aW9uKHQsZSxyLGMpLG4uZmFuY3lib3guYW5pbWF0ZShhLiRjb250ZW50LG8sMTUwKSkpfSxkLnByb3RvdHlwZS5vblRhcD1mdW5jdGlvbihlKXt2YXIgbyxpPXRoaXMscz1uKGUudGFyZ2V0KSxyPWkuaW5zdGFuY2UsYz1yLmN1cnJlbnQsbD1lJiZhKGUpfHxpLnN0YXJ0UG9pbnRzLGQ9bFswXT9sWzBdLngtbih0KS5zY3JvbGxMZWZ0KCktaS5zdGFnZVBvcy5sZWZ0OjAsdT1sWzBdP2xbMF0ueS1uKHQpLnNjcm9sbFRvcCgpLWkuc3RhZ2VQb3MudG9wOjAsZj1mdW5jdGlvbih0KXt2YXIgbz1jLm9wdHNbdF07aWYobi5pc0Z1bmN0aW9uKG8pJiYobz1vLmFwcGx5KHIsW2MsZV0pKSxvKXN3aXRjaChvKXtjYXNlXCJjbG9zZVwiOnIuY2xvc2UoaS5zdGFydEV2ZW50KTticmVhaztjYXNlXCJ0b2dnbGVDb250cm9sc1wiOnIudG9nZ2xlQ29udHJvbHMoKTticmVhaztjYXNlXCJuZXh0XCI6ci5uZXh0KCk7YnJlYWs7Y2FzZVwibmV4dE9yQ2xvc2VcIjpyLmdyb3VwLmxlbmd0aD4xP3IubmV4dCgpOnIuY2xvc2UoaS5zdGFydEV2ZW50KTticmVhaztjYXNlXCJ6b29tXCI6XCJpbWFnZVwiPT1jLnR5cGUmJihjLmlzTG9hZGVkfHxjLiRnaG9zdCkmJihyLmNhblBhbigpP3Iuc2NhbGVUb0ZpdCgpOnIuaXNTY2FsZWREb3duKCk/ci5zY2FsZVRvQWN0dWFsKGQsdSk6ci5ncm91cC5sZW5ndGg8MiYmci5jbG9zZShpLnN0YXJ0RXZlbnQpKX19O2lmKCghZS5vcmlnaW5hbEV2ZW50fHwyIT1lLm9yaWdpbmFsRXZlbnQuYnV0dG9uKSYmKHMuaXMoXCJpbWdcIil8fCEoZD5zWzBdLmNsaWVudFdpZHRoK3Mub2Zmc2V0KCkubGVmdCkpKXtpZihzLmlzKFwiLmZhbmN5Ym94LWJnLC5mYW5jeWJveC1pbm5lciwuZmFuY3lib3gtb3V0ZXIsLmZhbmN5Ym94LWNvbnRhaW5lclwiKSlvPVwiT3V0c2lkZVwiO2Vsc2UgaWYocy5pcyhcIi5mYW5jeWJveC1zbGlkZVwiKSlvPVwiU2xpZGVcIjtlbHNle2lmKCFyLmN1cnJlbnQuJGNvbnRlbnR8fCFyLmN1cnJlbnQuJGNvbnRlbnQuZmluZChzKS5hZGRCYWNrKCkuZmlsdGVyKHMpLmxlbmd0aClyZXR1cm47bz1cIkNvbnRlbnRcIn1pZihpLnRhcHBlZCl7aWYoY2xlYXJUaW1lb3V0KGkudGFwcGVkKSxpLnRhcHBlZD1udWxsLE1hdGguYWJzKGQtaS50YXBYKT41MHx8TWF0aC5hYnModS1pLnRhcFkpPjUwKXJldHVybiB0aGlzO2YoXCJkYmxjbGlja1wiK28pfWVsc2UgaS50YXBYPWQsaS50YXBZPXUsYy5vcHRzW1wiZGJsY2xpY2tcIitvXSYmYy5vcHRzW1wiZGJsY2xpY2tcIitvXSE9PWMub3B0c1tcImNsaWNrXCIrb10/aS50YXBwZWQ9c2V0VGltZW91dChmdW5jdGlvbigpe2kudGFwcGVkPW51bGwsci5pc0FuaW1hdGluZ3x8ZihcImNsaWNrXCIrbyl9LDUwMCk6ZihcImNsaWNrXCIrbyk7cmV0dXJuIHRoaXN9fSxuKGUpLm9uKFwib25BY3RpdmF0ZS5mYlwiLGZ1bmN0aW9uKHQsZSl7ZSYmIWUuR3Vlc3R1cmVzJiYoZS5HdWVzdHVyZXM9bmV3IGQoZSkpfSkub24oXCJiZWZvcmVDbG9zZS5mYlwiLGZ1bmN0aW9uKHQsZSl7ZSYmZS5HdWVzdHVyZXMmJmUuR3Vlc3R1cmVzLmRlc3Ryb3koKX0pfSh3aW5kb3csZG9jdW1lbnQsalF1ZXJ5KSxmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO2UuZXh0ZW5kKCEwLGUuZmFuY3lib3guZGVmYXVsdHMse2J0blRwbDp7c2xpZGVTaG93Oic8YnV0dG9uIGRhdGEtZmFuY3lib3gtcGxheSBjbGFzcz1cImZhbmN5Ym94LWJ1dHRvbiBmYW5jeWJveC1idXR0b24tLXBsYXlcIiB0aXRsZT1cInt7UExBWV9TVEFSVH19XCI+PHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIGQ9XCJNNi41IDUuNHYxMy4ybDExLTYuNnpcIi8+PC9zdmc+PHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIGQ9XCJNOC4zMyA1Ljc1aDIuMnYxMi41aC0yLjJWNS43NXptNS4xNSAwaDIuMnYxMi41aC0yLjJWNS43NXpcIi8+PC9zdmc+PC9idXR0b24+J30sc2xpZGVTaG93OnthdXRvU3RhcnQ6ITEsc3BlZWQ6M2UzLHByb2dyZXNzOiEwfX0pO3ZhciBuPWZ1bmN0aW9uKHQpe3RoaXMuaW5zdGFuY2U9dCx0aGlzLmluaXQoKX07ZS5leHRlbmQobi5wcm90b3R5cGUse3RpbWVyOm51bGwsaXNBY3RpdmU6ITEsJGJ1dHRvbjpudWxsLGluaXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLG49dC5pbnN0YW5jZSxvPW4uZ3JvdXBbbi5jdXJySW5kZXhdLm9wdHMuc2xpZGVTaG93O3QuJGJ1dHRvbj1uLiRyZWZzLnRvb2xiYXIuZmluZChcIltkYXRhLWZhbmN5Ym94LXBsYXldXCIpLm9uKFwiY2xpY2tcIixmdW5jdGlvbigpe3QudG9nZ2xlKCl9KSxuLmdyb3VwLmxlbmd0aDwyfHwhbz90LiRidXR0b24uaGlkZSgpOm8ucHJvZ3Jlc3MmJih0LiRwcm9ncmVzcz1lKCc8ZGl2IGNsYXNzPVwiZmFuY3lib3gtcHJvZ3Jlc3NcIj48L2Rpdj4nKS5hcHBlbmRUbyhuLiRyZWZzLmlubmVyKSl9LHNldDpmdW5jdGlvbih0KXt2YXIgbj10aGlzLG89bi5pbnN0YW5jZSxpPW8uY3VycmVudDtpJiYoITA9PT10fHxpLm9wdHMubG9vcHx8by5jdXJySW5kZXg8by5ncm91cC5sZW5ndGgtMSk/bi5pc0FjdGl2ZSYmXCJ2aWRlb1wiIT09aS5jb250ZW50VHlwZSYmKG4uJHByb2dyZXNzJiZlLmZhbmN5Ym94LmFuaW1hdGUobi4kcHJvZ3Jlc3Muc2hvdygpLHtzY2FsZVg6MX0saS5vcHRzLnNsaWRlU2hvdy5zcGVlZCksbi50aW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7by5jdXJyZW50Lm9wdHMubG9vcHx8by5jdXJyZW50LmluZGV4IT1vLmdyb3VwLmxlbmd0aC0xP28ubmV4dCgpOm8uanVtcFRvKDApfSxpLm9wdHMuc2xpZGVTaG93LnNwZWVkKSk6KG4uc3RvcCgpLG8uaWRsZVNlY29uZHNDb3VudGVyPTAsby5zaG93Q29udHJvbHMoKSl9LGNsZWFyOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztjbGVhclRpbWVvdXQodC50aW1lciksdC50aW1lcj1udWxsLHQuJHByb2dyZXNzJiZ0LiRwcm9ncmVzcy5yZW1vdmVBdHRyKFwic3R5bGVcIikuaGlkZSgpfSxzdGFydDpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10Lmluc3RhbmNlLmN1cnJlbnQ7ZSYmKHQuJGJ1dHRvbi5hdHRyKFwidGl0bGVcIiwoZS5vcHRzLmkxOG5bZS5vcHRzLmxhbmddfHxlLm9wdHMuaTE4bi5lbikuUExBWV9TVE9QKS5yZW1vdmVDbGFzcyhcImZhbmN5Ym94LWJ1dHRvbi0tcGxheVwiKS5hZGRDbGFzcyhcImZhbmN5Ym94LWJ1dHRvbi0tcGF1c2VcIiksdC5pc0FjdGl2ZT0hMCxlLmlzQ29tcGxldGUmJnQuc2V0KCEwKSx0Lmluc3RhbmNlLnRyaWdnZXIoXCJvblNsaWRlU2hvd0NoYW5nZVwiLCEwKSl9LHN0b3A6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dC5pbnN0YW5jZS5jdXJyZW50O3QuY2xlYXIoKSx0LiRidXR0b24uYXR0cihcInRpdGxlXCIsKGUub3B0cy5pMThuW2Uub3B0cy5sYW5nXXx8ZS5vcHRzLmkxOG4uZW4pLlBMQVlfU1RBUlQpLnJlbW92ZUNsYXNzKFwiZmFuY3lib3gtYnV0dG9uLS1wYXVzZVwiKS5hZGRDbGFzcyhcImZhbmN5Ym94LWJ1dHRvbi0tcGxheVwiKSx0LmlzQWN0aXZlPSExLHQuaW5zdGFuY2UudHJpZ2dlcihcIm9uU2xpZGVTaG93Q2hhbmdlXCIsITEpLHQuJHByb2dyZXNzJiZ0LiRwcm9ncmVzcy5yZW1vdmVBdHRyKFwic3R5bGVcIikuaGlkZSgpfSx0b2dnbGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3QuaXNBY3RpdmU/dC5zdG9wKCk6dC5zdGFydCgpfX0pLGUodCkub24oe1wib25Jbml0LmZiXCI6ZnVuY3Rpb24odCxlKXtlJiYhZS5TbGlkZVNob3cmJihlLlNsaWRlU2hvdz1uZXcgbihlKSl9LFwiYmVmb3JlU2hvdy5mYlwiOmZ1bmN0aW9uKHQsZSxuLG8pe3ZhciBpPWUmJmUuU2xpZGVTaG93O28/aSYmbi5vcHRzLnNsaWRlU2hvdy5hdXRvU3RhcnQmJmkuc3RhcnQoKTppJiZpLmlzQWN0aXZlJiZpLmNsZWFyKCl9LFwiYWZ0ZXJTaG93LmZiXCI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPWUmJmUuU2xpZGVTaG93O28mJm8uaXNBY3RpdmUmJm8uc2V0KCl9LFwiYWZ0ZXJLZXlkb3duLmZiXCI6ZnVuY3Rpb24obixvLGksYSxzKXt2YXIgcj1vJiZvLlNsaWRlU2hvdzshcnx8IWkub3B0cy5zbGlkZVNob3d8fDgwIT09cyYmMzIhPT1zfHxlKHQuYWN0aXZlRWxlbWVudCkuaXMoXCJidXR0b24sYSxpbnB1dFwiKXx8KGEucHJldmVudERlZmF1bHQoKSxyLnRvZ2dsZSgpKX0sXCJiZWZvcmVDbG9zZS5mYiBvbkRlYWN0aXZhdGUuZmJcIjpmdW5jdGlvbih0LGUpe3ZhciBuPWUmJmUuU2xpZGVTaG93O24mJm4uc3RvcCgpfX0pLGUodCkub24oXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsZnVuY3Rpb24oKXt2YXIgbj1lLmZhbmN5Ym94LmdldEluc3RhbmNlKCksbz1uJiZuLlNsaWRlU2hvdztvJiZvLmlzQWN0aXZlJiYodC5oaWRkZW4/by5jbGVhcigpOm8uc2V0KCkpfSl9KGRvY3VtZW50LGpRdWVyeSksZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1mdW5jdGlvbigpe2Zvcih2YXIgZT1bW1wicmVxdWVzdEZ1bGxzY3JlZW5cIixcImV4aXRGdWxsc2NyZWVuXCIsXCJmdWxsc2NyZWVuRWxlbWVudFwiLFwiZnVsbHNjcmVlbkVuYWJsZWRcIixcImZ1bGxzY3JlZW5jaGFuZ2VcIixcImZ1bGxzY3JlZW5lcnJvclwiXSxbXCJ3ZWJraXRSZXF1ZXN0RnVsbHNjcmVlblwiLFwid2Via2l0RXhpdEZ1bGxzY3JlZW5cIixcIndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50XCIsXCJ3ZWJraXRGdWxsc2NyZWVuRW5hYmxlZFwiLFwid2Via2l0ZnVsbHNjcmVlbmNoYW5nZVwiLFwid2Via2l0ZnVsbHNjcmVlbmVycm9yXCJdLFtcIndlYmtpdFJlcXVlc3RGdWxsU2NyZWVuXCIsXCJ3ZWJraXRDYW5jZWxGdWxsU2NyZWVuXCIsXCJ3ZWJraXRDdXJyZW50RnVsbFNjcmVlbkVsZW1lbnRcIixcIndlYmtpdENhbmNlbEZ1bGxTY3JlZW5cIixcIndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2VcIixcIndlYmtpdGZ1bGxzY3JlZW5lcnJvclwiXSxbXCJtb3pSZXF1ZXN0RnVsbFNjcmVlblwiLFwibW96Q2FuY2VsRnVsbFNjcmVlblwiLFwibW96RnVsbFNjcmVlbkVsZW1lbnRcIixcIm1vekZ1bGxTY3JlZW5FbmFibGVkXCIsXCJtb3pmdWxsc2NyZWVuY2hhbmdlXCIsXCJtb3pmdWxsc2NyZWVuZXJyb3JcIl0sW1wibXNSZXF1ZXN0RnVsbHNjcmVlblwiLFwibXNFeGl0RnVsbHNjcmVlblwiLFwibXNGdWxsc2NyZWVuRWxlbWVudFwiLFwibXNGdWxsc2NyZWVuRW5hYmxlZFwiLFwiTVNGdWxsc2NyZWVuQ2hhbmdlXCIsXCJNU0Z1bGxzY3JlZW5FcnJvclwiXV0sbj17fSxvPTA7bzxlLmxlbmd0aDtvKyspe3ZhciBpPWVbb107aWYoaSYmaVsxXWluIHQpe2Zvcih2YXIgYT0wO2E8aS5sZW5ndGg7YSsrKW5bZVswXVthXV09aVthXTtyZXR1cm4gbn19cmV0dXJuITF9KCk7aWYobil7dmFyIG89e3JlcXVlc3Q6ZnVuY3Rpb24oZSl7ZT1lfHx0LmRvY3VtZW50RWxlbWVudCxlW24ucmVxdWVzdEZ1bGxzY3JlZW5dKGUuQUxMT1dfS0VZQk9BUkRfSU5QVVQpfSxleGl0OmZ1bmN0aW9uKCl7dFtuLmV4aXRGdWxsc2NyZWVuXSgpfSx0b2dnbGU6ZnVuY3Rpb24oZSl7ZT1lfHx0LmRvY3VtZW50RWxlbWVudCx0aGlzLmlzRnVsbHNjcmVlbigpP3RoaXMuZXhpdCgpOnRoaXMucmVxdWVzdChlKX0saXNGdWxsc2NyZWVuOmZ1bmN0aW9uKCl7cmV0dXJuIEJvb2xlYW4odFtuLmZ1bGxzY3JlZW5FbGVtZW50XSl9LGVuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gQm9vbGVhbih0W24uZnVsbHNjcmVlbkVuYWJsZWRdKX19O2UuZXh0ZW5kKCEwLGUuZmFuY3lib3guZGVmYXVsdHMse2J0blRwbDp7ZnVsbFNjcmVlbjonPGJ1dHRvbiBkYXRhLWZhbmN5Ym94LWZ1bGxzY3JlZW4gY2xhc3M9XCJmYW5jeWJveC1idXR0b24gZmFuY3lib3gtYnV0dG9uLS1mc2VudGVyXCIgdGl0bGU9XCJ7e0ZVTExfU0NSRUVOfX1cIj48c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggZD1cIk03IDE0SDV2NWg1di0ySDd2LTN6bS0yLTRoMlY3aDNWNUg1djV6bTEyIDdoLTN2Mmg1di01aC0ydjN6TTE0IDV2MmgzdjNoMlY1aC01elwiLz48L3N2Zz48c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggZD1cIk01IDE2aDN2M2gydi01SDV6bTMtOEg1djJoNVY1SDh6bTYgMTFoMnYtM2gzdi0yaC01em0yLTExVjVoLTJ2NWg1Vjh6XCIvPjwvc3ZnPjwvYnV0dG9uPid9LGZ1bGxTY3JlZW46e2F1dG9TdGFydDohMX19KSxlKHQpLm9uKG4uZnVsbHNjcmVlbmNoYW5nZSxmdW5jdGlvbigpe3ZhciB0PW8uaXNGdWxsc2NyZWVuKCksbj1lLmZhbmN5Ym94LmdldEluc3RhbmNlKCk7biYmKG4uY3VycmVudCYmXCJpbWFnZVwiPT09bi5jdXJyZW50LnR5cGUmJm4uaXNBbmltYXRpbmcmJihuLmlzQW5pbWF0aW5nPSExLG4udXBkYXRlKCEwLCEwLDApLG4uaXNDb21wbGV0ZXx8bi5jb21wbGV0ZSgpKSxuLnRyaWdnZXIoXCJvbkZ1bGxzY3JlZW5DaGFuZ2VcIix0KSxuLiRyZWZzLmNvbnRhaW5lci50b2dnbGVDbGFzcyhcImZhbmN5Ym94LWlzLWZ1bGxzY3JlZW5cIix0KSxuLiRyZWZzLnRvb2xiYXIuZmluZChcIltkYXRhLWZhbmN5Ym94LWZ1bGxzY3JlZW5dXCIpLnRvZ2dsZUNsYXNzKFwiZmFuY3lib3gtYnV0dG9uLS1mc2VudGVyXCIsIXQpLnRvZ2dsZUNsYXNzKFwiZmFuY3lib3gtYnV0dG9uLS1mc2V4aXRcIix0KSl9KX1lKHQpLm9uKHtcIm9uSW5pdC5mYlwiOmZ1bmN0aW9uKHQsZSl7dmFyIGk7aWYoIW4pcmV0dXJuIHZvaWQgZS4kcmVmcy50b29sYmFyLmZpbmQoXCJbZGF0YS1mYW5jeWJveC1mdWxsc2NyZWVuXVwiKS5yZW1vdmUoKTtlJiZlLmdyb3VwW2UuY3VyckluZGV4XS5vcHRzLmZ1bGxTY3JlZW4/KGk9ZS4kcmVmcy5jb250YWluZXIsaS5vbihcImNsaWNrLmZiLWZ1bGxzY3JlZW5cIixcIltkYXRhLWZhbmN5Ym94LWZ1bGxzY3JlZW5dXCIsZnVuY3Rpb24odCl7dC5zdG9wUHJvcGFnYXRpb24oKSx0LnByZXZlbnREZWZhdWx0KCksby50b2dnbGUoKX0pLGUub3B0cy5mdWxsU2NyZWVuJiYhMD09PWUub3B0cy5mdWxsU2NyZWVuLmF1dG9TdGFydCYmby5yZXF1ZXN0KCksZS5GdWxsU2NyZWVuPW8pOmUmJmUuJHJlZnMudG9vbGJhci5maW5kKFwiW2RhdGEtZmFuY3lib3gtZnVsbHNjcmVlbl1cIikuaGlkZSgpfSxcImFmdGVyS2V5ZG93bi5mYlwiOmZ1bmN0aW9uKHQsZSxuLG8saSl7ZSYmZS5GdWxsU2NyZWVuJiY3MD09PWkmJihvLnByZXZlbnREZWZhdWx0KCksZS5GdWxsU2NyZWVuLnRvZ2dsZSgpKX0sXCJiZWZvcmVDbG9zZS5mYlwiOmZ1bmN0aW9uKHQsZSl7ZSYmZS5GdWxsU2NyZWVuJiZlLiRyZWZzLmNvbnRhaW5lci5oYXNDbGFzcyhcImZhbmN5Ym94LWlzLWZ1bGxzY3JlZW5cIikmJm8uZXhpdCgpfX0pfShkb2N1bWVudCxqUXVlcnkpLGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49XCJmYW5jeWJveC10aHVtYnNcIjtlLmZhbmN5Ym94LmRlZmF1bHRzPWUuZXh0ZW5kKCEwLHtidG5UcGw6e3RodW1iczonPGJ1dHRvbiBkYXRhLWZhbmN5Ym94LXRodW1icyBjbGFzcz1cImZhbmN5Ym94LWJ1dHRvbiBmYW5jeWJveC1idXR0b24tLXRodW1ic1wiIHRpdGxlPVwie3tUSFVNQlN9fVwiPjxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBkPVwiTTE0LjU5IDE0LjU5aDMuNzZ2My43NmgtMy43NnYtMy43NnptLTQuNDcgMGgzLjc2djMuNzZoLTMuNzZ2LTMuNzZ6bS00LjQ3IDBoMy43NnYzLjc2SDUuNjV2LTMuNzZ6bTguOTQtNC40N2gzLjc2djMuNzZoLTMuNzZ2LTMuNzZ6bS00LjQ3IDBoMy43NnYzLjc2aC0zLjc2di0zLjc2em0tNC40NyAwaDMuNzZ2My43Nkg1LjY1di0zLjc2em04Ljk0LTQuNDdoMy43NnYzLjc2aC0zLjc2VjUuNjV6bS00LjQ3IDBoMy43NnYzLjc2aC0zLjc2VjUuNjV6bS00LjQ3IDBoMy43NnYzLjc2SDUuNjVWNS42NXpcIi8+PC9zdmc+PC9idXR0b24+J30sdGh1bWJzOnthdXRvU3RhcnQ6ITEsaGlkZU9uQ2xvc2U6ITAscGFyZW50RWw6XCIuZmFuY3lib3gtY29udGFpbmVyXCIsYXhpczpcInlcIn19LGUuZmFuY3lib3guZGVmYXVsdHMpO3ZhciBvPWZ1bmN0aW9uKHQpe3RoaXMuaW5pdCh0KX07ZS5leHRlbmQoby5wcm90b3R5cGUseyRidXR0b246bnVsbCwkZ3JpZDpudWxsLCRsaXN0Om51bGwsaXNWaXNpYmxlOiExLGlzQWN0aXZlOiExLGluaXQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXQuZ3JvdXAsbz0wO2UuaW5zdGFuY2U9dCxlLm9wdHM9blt0LmN1cnJJbmRleF0ub3B0cy50aHVtYnMsdC5UaHVtYnM9ZSxlLiRidXR0b249dC4kcmVmcy50b29sYmFyLmZpbmQoXCJbZGF0YS1mYW5jeWJveC10aHVtYnNdXCIpO2Zvcih2YXIgaT0wLGE9bi5sZW5ndGg7aTxhJiYobltpXS50aHVtYiYmbysrLCEobz4xKSk7aSsrKTtvPjEmJmUub3B0cz8oZS4kYnV0dG9uLnJlbW92ZUF0dHIoXCJzdHlsZVwiKS5vbihcImNsaWNrXCIsZnVuY3Rpb24oKXtlLnRvZ2dsZSgpfSksZS5pc0FjdGl2ZT0hMCk6ZS4kYnV0dG9uLmhpZGUoKX0sY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIHQsbz10aGlzLGk9by5pbnN0YW5jZSxhPW8ub3B0cy5wYXJlbnRFbCxzPVtdO28uJGdyaWR8fChvLiRncmlkPWUoJzxkaXYgY2xhc3M9XCInK24rXCIgXCIrbitcIi1cIitvLm9wdHMuYXhpcysnXCI+PC9kaXY+JykuYXBwZW5kVG8oaS4kcmVmcy5jb250YWluZXIuZmluZChhKS5hZGRCYWNrKCkuZmlsdGVyKGEpKSxvLiRncmlkLm9uKFwiY2xpY2tcIixcImFcIixmdW5jdGlvbigpe2kuanVtcFRvKGUodGhpcykuYXR0cihcImRhdGEtaW5kZXhcIikpfSkpLG8uJGxpc3R8fChvLiRsaXN0PWUoJzxkaXYgY2xhc3M9XCInK24rJ19fbGlzdFwiPicpLmFwcGVuZFRvKG8uJGdyaWQpKSxlLmVhY2goaS5ncm91cCxmdW5jdGlvbihlLG4pe3Q9bi50aHVtYix0fHxcImltYWdlXCIhPT1uLnR5cGV8fCh0PW4uc3JjKSxzLnB1c2goJzxhIGhyZWY9XCJqYXZhc2NyaXB0OjtcIiB0YWJpbmRleD1cIjBcIiBkYXRhLWluZGV4PVwiJytlKydcIicrKHQmJnQubGVuZ3RoPycgc3R5bGU9XCJiYWNrZ3JvdW5kLWltYWdlOnVybCgnK3QrJylcIic6J2NsYXNzPVwiZmFuY3lib3gtdGh1bWJzLW1pc3NpbmdcIicpK1wiPjwvYT5cIil9KSxvLiRsaXN0WzBdLmlubmVySFRNTD1zLmpvaW4oXCJcIiksXCJ4XCI9PT1vLm9wdHMuYXhpcyYmby4kbGlzdC53aWR0aChwYXJzZUludChvLiRncmlkLmNzcyhcInBhZGRpbmctcmlnaHRcIiksMTApK2kuZ3JvdXAubGVuZ3RoKm8uJGxpc3QuY2hpbGRyZW4oKS5lcSgwKS5vdXRlcldpZHRoKCEwKSl9LGZvY3VzOmZ1bmN0aW9uKHQpe3ZhciBlLG4sbz10aGlzLGk9by4kbGlzdCxhPW8uJGdyaWQ7by5pbnN0YW5jZS5jdXJyZW50JiYoZT1pLmNoaWxkcmVuKCkucmVtb3ZlQ2xhc3MoXCJmYW5jeWJveC10aHVtYnMtYWN0aXZlXCIpLmZpbHRlcignW2RhdGEtaW5kZXg9XCInK28uaW5zdGFuY2UuY3VycmVudC5pbmRleCsnXCJdJykuYWRkQ2xhc3MoXCJmYW5jeWJveC10aHVtYnMtYWN0aXZlXCIpLG49ZS5wb3NpdGlvbigpLFwieVwiPT09by5vcHRzLmF4aXMmJihuLnRvcDwwfHxuLnRvcD5pLmhlaWdodCgpLWUub3V0ZXJIZWlnaHQoKSk/aS5zdG9wKCkuYW5pbWF0ZSh7c2Nyb2xsVG9wOmkuc2Nyb2xsVG9wKCkrbi50b3B9LHQpOlwieFwiPT09by5vcHRzLmF4aXMmJihuLmxlZnQ8YS5zY3JvbGxMZWZ0KCl8fG4ubGVmdD5hLnNjcm9sbExlZnQoKSsoYS53aWR0aCgpLWUub3V0ZXJXaWR0aCgpKSkmJmkucGFyZW50KCkuc3RvcCgpLmFuaW1hdGUoe3Njcm9sbExlZnQ6bi5sZWZ0fSx0KSl9LHVwZGF0ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dC5pbnN0YW5jZS4kcmVmcy5jb250YWluZXIudG9nZ2xlQ2xhc3MoXCJmYW5jeWJveC1zaG93LXRodW1ic1wiLHRoaXMuaXNWaXNpYmxlKSx0LmlzVmlzaWJsZT8odC4kZ3JpZHx8dC5jcmVhdGUoKSx0Lmluc3RhbmNlLnRyaWdnZXIoXCJvblRodW1ic1Nob3dcIiksdC5mb2N1cygwKSk6dC4kZ3JpZCYmdC5pbnN0YW5jZS50cmlnZ2VyKFwib25UaHVtYnNIaWRlXCIpLHQuaW5zdGFuY2UudXBkYXRlKCl9LGhpZGU6ZnVuY3Rpb24oKXt0aGlzLmlzVmlzaWJsZT0hMSx0aGlzLnVwZGF0ZSgpfSxzaG93OmZ1bmN0aW9uKCl7dGhpcy5pc1Zpc2libGU9ITAsdGhpcy51cGRhdGUoKX0sdG9nZ2xlOmZ1bmN0aW9uKCl7dGhpcy5pc1Zpc2libGU9IXRoaXMuaXNWaXNpYmxlLHRoaXMudXBkYXRlKCl9fSksZSh0KS5vbih7XCJvbkluaXQuZmJcIjpmdW5jdGlvbih0LGUpe3ZhciBuO2UmJiFlLlRodW1icyYmKG49bmV3IG8oZSksbi5pc0FjdGl2ZSYmITA9PT1uLm9wdHMuYXV0b1N0YXJ0JiZuLnNob3coKSl9LFwiYmVmb3JlU2hvdy5mYlwiOmZ1bmN0aW9uKHQsZSxuLG8pe3ZhciBpPWUmJmUuVGh1bWJzO2kmJmkuaXNWaXNpYmxlJiZpLmZvY3VzKG8/MDoyNTApfSxcImFmdGVyS2V5ZG93bi5mYlwiOmZ1bmN0aW9uKHQsZSxuLG8saSl7dmFyIGE9ZSYmZS5UaHVtYnM7YSYmYS5pc0FjdGl2ZSYmNzE9PT1pJiYoby5wcmV2ZW50RGVmYXVsdCgpLGEudG9nZ2xlKCkpfSxcImJlZm9yZUNsb3NlLmZiXCI6ZnVuY3Rpb24odCxlKXt2YXIgbj1lJiZlLlRodW1icztuJiZuLmlzVmlzaWJsZSYmITEhPT1uLm9wdHMuaGlkZU9uQ2xvc2UmJm4uJGdyaWQuaGlkZSgpfX0pfShkb2N1bWVudCxqUXVlcnkpLGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXt2YXIgZT17XCImXCI6XCImYW1wO1wiLFwiPFwiOlwiJmx0O1wiLFwiPlwiOlwiJmd0O1wiLCdcIic6XCImcXVvdDtcIixcIidcIjpcIiYjMzk7XCIsXCIvXCI6XCImI3gyRjtcIixcImBcIjpcIiYjeDYwO1wiLFwiPVwiOlwiJiN4M0Q7XCJ9O3JldHVybiBTdHJpbmcodCkucmVwbGFjZSgvWyY8PlwiJ2A9XFwvXS9nLGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdfSl9ZS5leHRlbmQoITAsZS5mYW5jeWJveC5kZWZhdWx0cyx7YnRuVHBsOntzaGFyZTonPGJ1dHRvbiBkYXRhLWZhbmN5Ym94LXNoYXJlIGNsYXNzPVwiZmFuY3lib3gtYnV0dG9uIGZhbmN5Ym94LWJ1dHRvbi0tc2hhcmVcIiB0aXRsZT1cInt7U0hBUkV9fVwiPjxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBkPVwiTTIuNTUgMTljMS40LTguNCA5LjEtOS44IDExLjktOS44VjVsNyA3LTcgNi4zdi0zLjVjLTIuOCAwLTEwLjUgMi4xLTExLjkgNC4yelwiLz48L3N2Zz48L2J1dHRvbj4nfSxzaGFyZTp7dXJsOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIXQuY3VycmVudEhhc2gmJlwiaW5saW5lXCIhPT1lLnR5cGUmJlwiaHRtbFwiIT09ZS50eXBlJiYoZS5vcmlnU3JjfHxlLnNyYyl8fHdpbmRvdy5sb2NhdGlvbn0sXHJcbnRwbDonPGRpdiBjbGFzcz1cImZhbmN5Ym94LXNoYXJlXCI+PGgxPnt7U0hBUkV9fTwvaDE+PHA+PGEgY2xhc3M9XCJmYW5jeWJveC1zaGFyZV9fYnV0dG9uIGZhbmN5Ym94LXNoYXJlX19idXR0b24tLWZiXCIgaHJlZj1cImh0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS9zaGFyZXIvc2hhcmVyLnBocD91PXt7dXJsfX1cIj48c3ZnIHZpZXdCb3g9XCIwIDAgNTEyIDUxMlwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwibTI4NyA0NTZ2LTI5OWMwLTIxIDYtMzUgMzUtMzVoMzh2LTYzYy03LTEtMjktMy01NS0zLTU0IDAtOTEgMzMtOTEgOTR2MzA2bTE0My0yNTRoLTIwNXY3MmgxOTZcIiAvPjwvc3ZnPjxzcGFuPkZhY2Vib29rPC9zcGFuPjwvYT48YSBjbGFzcz1cImZhbmN5Ym94LXNoYXJlX19idXR0b24gZmFuY3lib3gtc2hhcmVfX2J1dHRvbi0tdHdcIiBocmVmPVwiaHR0cHM6Ly90d2l0dGVyLmNvbS9pbnRlbnQvdHdlZXQ/dXJsPXt7dXJsfX0mdGV4dD17e2Rlc2NyfX1cIj48c3ZnIHZpZXdCb3g9XCIwIDAgNTEyIDUxMlwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwibTQ1NiAxMzNjLTE0IDctMzEgMTEtNDcgMTMgMTctMTAgMzAtMjcgMzctNDYtMTUgMTAtMzQgMTYtNTIgMjAtNjEtNjItMTU3LTctMTQxIDc1LTY4LTMtMTI5LTM1LTE2OS04NS0yMiAzNy0xMSA4NiAyNiAxMDktMTMgMC0yNi00LTM3LTkgMCAzOSAyOCA3MiA2NSA4MC0xMiAzLTI1IDQtMzcgMiAxMCAzMyA0MSA1NyA3NyA1Ny00MiAzMC03NyAzOC0xMjIgMzQgMTcwIDExMSAzNzgtMzIgMzU5LTIwOCAxNi0xMSAzMC0yNSA0MS00MnpcIiAvPjwvc3ZnPjxzcGFuPlR3aXR0ZXI8L3NwYW4+PC9hPjxhIGNsYXNzPVwiZmFuY3lib3gtc2hhcmVfX2J1dHRvbiBmYW5jeWJveC1zaGFyZV9fYnV0dG9uLS1wdFwiIGhyZWY9XCJodHRwczovL3d3dy5waW50ZXJlc3QuY29tL3Bpbi9jcmVhdGUvYnV0dG9uLz91cmw9e3t1cmx9fSZkZXNjcmlwdGlvbj17e2Rlc2NyfX0mbWVkaWE9e3ttZWRpYX19XCI+PHN2ZyB2aWV3Qm94PVwiMCAwIDUxMiA1MTJcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIm0yNjUgNTZjLTEwOSAwLTE2NCA3OC0xNjQgMTQ0IDAgMzkgMTUgNzQgNDcgODcgNSAyIDEwIDAgMTItNWw0LTE5YzItNiAxLTgtMy0xMy05LTExLTE1LTI1LTE1LTQ1IDAtNTggNDMtMTEwIDExMy0xMTAgNjIgMCA5NiAzOCA5NiA4OCAwIDY3LTMwIDEyMi03MyAxMjItMjQgMC00Mi0xOS0zNi00NCA2LTI5IDIwLTYwIDIwLTgxIDAtMTktMTAtMzUtMzEtMzUtMjUgMC00NCAyNi00NCA2MCAwIDIxIDcgMzYgNyAzNmwtMzAgMTI1Yy04IDM3LTEgODMgMCA4NyAwIDMgNCA0IDUgMiAyLTMgMzItMzkgNDItNzVsMTYtNjRjOCAxNiAzMSAyOSA1NiAyOSA3NCAwIDEyNC02NyAxMjQtMTU3IDAtNjktNTgtMTMyLTE0Ni0xMzJ6XCIgZmlsbD1cIiNmZmZcIi8+PC9zdmc+PHNwYW4+UGludGVyZXN0PC9zcGFuPjwvYT48L3A+PHA+PGlucHV0IGNsYXNzPVwiZmFuY3lib3gtc2hhcmVfX2lucHV0XCIgdHlwZT1cInRleHRcIiB2YWx1ZT1cInt7dXJsX3Jhd319XCIgb25jbGljaz1cInNlbGVjdCgpXCIgLz48L3A+PC9kaXY+J319KSxlKHQpLm9uKFwiY2xpY2tcIixcIltkYXRhLWZhbmN5Ym94LXNoYXJlXVwiLGZ1bmN0aW9uKCl7dmFyIHQsbyxpPWUuZmFuY3lib3guZ2V0SW5zdGFuY2UoKSxhPWkuY3VycmVudHx8bnVsbDthJiYoXCJmdW5jdGlvblwiPT09ZS50eXBlKGEub3B0cy5zaGFyZS51cmwpJiYodD1hLm9wdHMuc2hhcmUudXJsLmFwcGx5KGEsW2ksYV0pKSxvPWEub3B0cy5zaGFyZS50cGwucmVwbGFjZSgvXFx7XFx7bWVkaWFcXH1cXH0vZyxcImltYWdlXCI9PT1hLnR5cGU/ZW5jb2RlVVJJQ29tcG9uZW50KGEuc3JjKTpcIlwiKS5yZXBsYWNlKC9cXHtcXHt1cmxcXH1cXH0vZyxlbmNvZGVVUklDb21wb25lbnQodCkpLnJlcGxhY2UoL1xce1xce3VybF9yYXdcXH1cXH0vZyxuKHQpKS5yZXBsYWNlKC9cXHtcXHtkZXNjclxcfVxcfS9nLGkuJGNhcHRpb24/ZW5jb2RlVVJJQ29tcG9uZW50KGkuJGNhcHRpb24udGV4dCgpKTpcIlwiKSxlLmZhbmN5Ym94Lm9wZW4oe3NyYzppLnRyYW5zbGF0ZShpLG8pLHR5cGU6XCJodG1sXCIsb3B0czp7dG91Y2g6ITEsYW5pbWF0aW9uRWZmZWN0OiExLGFmdGVyTG9hZDpmdW5jdGlvbih0LGUpe2kuJHJlZnMuY29udGFpbmVyLm9uZShcImJlZm9yZUNsb3NlLmZiXCIsZnVuY3Rpb24oKXt0LmNsb3NlKG51bGwsMCl9KSxlLiRjb250ZW50LmZpbmQoXCIuZmFuY3lib3gtc2hhcmVfX2J1dHRvblwiKS5jbGljayhmdW5jdGlvbigpe3JldHVybiB3aW5kb3cub3Blbih0aGlzLmhyZWYsXCJTaGFyZVwiLFwid2lkdGg9NTUwLCBoZWlnaHQ9NDUwXCIpLCExfSl9LG1vYmlsZTp7YXV0b0ZvY3VzOiExfX19KSl9KX0oZG9jdW1lbnQsalF1ZXJ5KSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbygpe3ZhciBlPXQubG9jYXRpb24uaGFzaC5zdWJzdHIoMSksbj1lLnNwbGl0KFwiLVwiKSxvPW4ubGVuZ3RoPjEmJi9eXFwrP1xcZCskLy50ZXN0KG5bbi5sZW5ndGgtMV0pP3BhcnNlSW50KG4ucG9wKC0xKSwxMCl8fDE6MSxpPW4uam9pbihcIi1cIik7cmV0dXJue2hhc2g6ZSxpbmRleDpvPDE/MTpvLGdhbGxlcnk6aX19ZnVuY3Rpb24gaSh0KXtcIlwiIT09dC5nYWxsZXJ5JiZuKFwiW2RhdGEtZmFuY3lib3g9J1wiK24uZXNjYXBlU2VsZWN0b3IodC5nYWxsZXJ5KStcIiddXCIpLmVxKHQuaW5kZXgtMSkuZm9jdXMoKS50cmlnZ2VyKFwiY2xpY2suZmItc3RhcnRcIil9ZnVuY3Rpb24gYSh0KXt2YXIgZSxuO3JldHVybiEhdCYmKGU9dC5jdXJyZW50P3QuY3VycmVudC5vcHRzOnQub3B0cyxcIlwiIT09KG49ZS5oYXNofHwoZS4kb3JpZz9lLiRvcmlnLmRhdGEoXCJmYW5jeWJveFwiKXx8ZS4kb3JpZy5kYXRhKFwiZmFuY3lib3gtdHJpZ2dlclwiKTpcIlwiKSkmJm4pfW4uZXNjYXBlU2VsZWN0b3J8fChuLmVzY2FwZVNlbGVjdG9yPWZ1bmN0aW9uKHQpe3JldHVybih0K1wiXCIpLnJlcGxhY2UoLyhbXFwwLVxceDFmXFx4N2ZdfF4tP1xcZCl8Xi0kfFteXFx4ODAtXFx1RkZGRlxcdy1dL2csZnVuY3Rpb24odCxlKXtyZXR1cm4gZT9cIlxcMFwiPT09dD9cIu+/vVwiOnQuc2xpY2UoMCwtMSkrXCJcXFxcXCIrdC5jaGFyQ29kZUF0KHQubGVuZ3RoLTEpLnRvU3RyaW5nKDE2KStcIiBcIjpcIlxcXFxcIit0fSl9KSxuKGZ1bmN0aW9uKCl7ITEhPT1uLmZhbmN5Ym94LmRlZmF1bHRzLmhhc2gmJihuKGUpLm9uKHtcIm9uSW5pdC5mYlwiOmZ1bmN0aW9uKHQsZSl7dmFyIG4saTshMSE9PWUuZ3JvdXBbZS5jdXJySW5kZXhdLm9wdHMuaGFzaCYmKG49bygpLChpPWEoZSkpJiZuLmdhbGxlcnkmJmk9PW4uZ2FsbGVyeSYmKGUuY3VyckluZGV4PW4uaW5kZXgtMSkpfSxcImJlZm9yZVNob3cuZmJcIjpmdW5jdGlvbihuLG8saSxzKXt2YXIgcjtpJiYhMSE9PWkub3B0cy5oYXNoJiYocj1hKG8pKSYmKG8uY3VycmVudEhhc2g9cisoby5ncm91cC5sZW5ndGg+MT9cIi1cIisoaS5pbmRleCsxKTpcIlwiKSx0LmxvY2F0aW9uLmhhc2ghPT1cIiNcIitvLmN1cnJlbnRIYXNoJiYocyYmIW8ub3JpZ0hhc2gmJihvLm9yaWdIYXNoPXQubG9jYXRpb24uaGFzaCksby5oYXNoVGltZXImJmNsZWFyVGltZW91dChvLmhhc2hUaW1lciksby5oYXNoVGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe1wicmVwbGFjZVN0YXRlXCJpbiB0Lmhpc3Rvcnk/KHQuaGlzdG9yeVtzP1wicHVzaFN0YXRlXCI6XCJyZXBsYWNlU3RhdGVcIl0oe30sZS50aXRsZSx0LmxvY2F0aW9uLnBhdGhuYW1lK3QubG9jYXRpb24uc2VhcmNoK1wiI1wiK28uY3VycmVudEhhc2gpLHMmJihvLmhhc0NyZWF0ZWRIaXN0b3J5PSEwKSk6dC5sb2NhdGlvbi5oYXNoPW8uY3VycmVudEhhc2gsby5oYXNoVGltZXI9bnVsbH0sMzAwKSkpfSxcImJlZm9yZUNsb3NlLmZiXCI6ZnVuY3Rpb24obixvLGkpe2kmJiExIT09aS5vcHRzLmhhc2gmJihjbGVhclRpbWVvdXQoby5oYXNoVGltZXIpLG8uY3VycmVudEhhc2gmJm8uaGFzQ3JlYXRlZEhpc3Rvcnk/dC5oaXN0b3J5LmJhY2soKTpvLmN1cnJlbnRIYXNoJiYoXCJyZXBsYWNlU3RhdGVcImluIHQuaGlzdG9yeT90Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHt9LGUudGl0bGUsdC5sb2NhdGlvbi5wYXRobmFtZSt0LmxvY2F0aW9uLnNlYXJjaCsoby5vcmlnSGFzaHx8XCJcIikpOnQubG9jYXRpb24uaGFzaD1vLm9yaWdIYXNoKSxvLmN1cnJlbnRIYXNoPW51bGwpfX0pLG4odCkub24oXCJoYXNoY2hhbmdlLmZiXCIsZnVuY3Rpb24oKXt2YXIgdD1vKCksZT1udWxsO24uZWFjaChuKFwiLmZhbmN5Ym94LWNvbnRhaW5lclwiKS5nZXQoKS5yZXZlcnNlKCksZnVuY3Rpb24odCxvKXt2YXIgaT1uKG8pLmRhdGEoXCJGYW5jeUJveFwiKTtpZihpJiZpLmN1cnJlbnRIYXNoKXJldHVybiBlPWksITF9KSxlP2UuY3VycmVudEhhc2g9PT10LmdhbGxlcnkrXCItXCIrdC5pbmRleHx8MT09PXQuaW5kZXgmJmUuY3VycmVudEhhc2g9PXQuZ2FsbGVyeXx8KGUuY3VycmVudEhhc2g9bnVsbCxlLmNsb3NlKCkpOlwiXCIhPT10LmdhbGxlcnkmJmkodCl9KSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bi5mYW5jeWJveC5nZXRJbnN0YW5jZSgpfHxpKG8oKSl9LDUwKSl9KX0od2luZG93LGRvY3VtZW50LGpRdWVyeSksZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjt2YXIgbj0obmV3IERhdGUpLmdldFRpbWUoKTtlKHQpLm9uKHtcIm9uSW5pdC5mYlwiOmZ1bmN0aW9uKHQsZSxvKXtlLiRyZWZzLnN0YWdlLm9uKFwibW91c2V3aGVlbCBET01Nb3VzZVNjcm9sbCB3aGVlbCBNb3pNb3VzZVBpeGVsU2Nyb2xsXCIsZnVuY3Rpb24odCl7dmFyIG89ZS5jdXJyZW50LGk9KG5ldyBEYXRlKS5nZXRUaW1lKCk7ZS5ncm91cC5sZW5ndGg8Mnx8ITE9PT1vLm9wdHMud2hlZWx8fFwiYXV0b1wiPT09by5vcHRzLndoZWVsJiZcImltYWdlXCIhPT1vLnR5cGV8fCh0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKSxvLiRzbGlkZS5oYXNDbGFzcyhcImZhbmN5Ym94LWFuaW1hdGVkXCIpfHwodD10Lm9yaWdpbmFsRXZlbnR8fHQsaS1uPDI1MHx8KG49aSxlWygtdC5kZWx0YVl8fC10LmRlbHRhWHx8dC53aGVlbERlbHRhfHwtdC5kZXRhaWwpPDA/XCJuZXh0XCI6XCJwcmV2aW91c1wiXSgpKSkpfSl9fSl9KGRvY3VtZW50LGpRdWVyeSk7XHJcbi8qKlxyXG4gKiBTd2lwZXIgNi41LjlcclxuICogTW9zdCBtb2Rlcm4gbW9iaWxlIHRvdWNoIHNsaWRlciBhbmQgZnJhbWV3b3JrIHdpdGggaGFyZHdhcmUgYWNjZWxlcmF0ZWQgdHJhbnNpdGlvbnNcclxuICogaHR0cHM6Ly9zd2lwZXJqcy5jb21cclxuICpcclxuICogQ29weXJpZ2h0IDIwMTQtMjAyMSBWbGFkaW1pciBLaGFybGFtcGlkaVxyXG4gKlxyXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2VcclxuICpcclxuICogUmVsZWFzZWQgb246IEFwcmlsIDMwLCAyMDIxXHJcbiAqL1xyXG5cclxuIWZ1bmN0aW9uKGUsdCl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9dCgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUodCk6KGU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbFRoaXM/Z2xvYmFsVGhpczplfHxzZWxmKS5Td2lwZXI9dCgpfSh0aGlzLChmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIGE9MDthPHQubGVuZ3RoO2ErKyl7dmFyIGk9dFthXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fWZ1bmN0aW9uIHQoKXtyZXR1cm4odD1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgYT1hcmd1bWVudHNbdF07Zm9yKHZhciBpIGluIGEpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsaSkmJihlW2ldPWFbaV0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGEoZSl7cmV0dXJuIG51bGwhPT1lJiZcIm9iamVjdFwiPT10eXBlb2YgZSYmXCJjb25zdHJ1Y3RvclwiaW4gZSYmZS5jb25zdHJ1Y3Rvcj09PU9iamVjdH1mdW5jdGlvbiBpKGUsdCl7dm9pZCAwPT09ZSYmKGU9e30pLHZvaWQgMD09PXQmJih0PXt9KSxPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihzKXt2b2lkIDA9PT1lW3NdP2Vbc109dFtzXTphKHRbc10pJiZhKGVbc10pJiZPYmplY3Qua2V5cyh0W3NdKS5sZW5ndGg+MCYmaShlW3NdLHRbc10pfSkpfXZhciBzPXtib2R5Ont9LGFkZEV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oKXt9LHJlbW92ZUV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oKXt9LGFjdGl2ZUVsZW1lbnQ6e2JsdXI6ZnVuY3Rpb24oKXt9LG5vZGVOYW1lOlwiXCJ9LHF1ZXJ5U2VsZWN0b3I6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0scXVlcnlTZWxlY3RvckFsbDpmdW5jdGlvbigpe3JldHVybltdfSxnZXRFbGVtZW50QnlJZDpmdW5jdGlvbigpe3JldHVybiBudWxsfSxjcmVhdGVFdmVudDpmdW5jdGlvbigpe3JldHVybntpbml0RXZlbnQ6ZnVuY3Rpb24oKXt9fX0sY3JlYXRlRWxlbWVudDpmdW5jdGlvbigpe3JldHVybntjaGlsZHJlbjpbXSxjaGlsZE5vZGVzOltdLHN0eWxlOnt9LHNldEF0dHJpYnV0ZTpmdW5jdGlvbigpe30sZ2V0RWxlbWVudHNCeVRhZ05hbWU6ZnVuY3Rpb24oKXtyZXR1cm5bXX19fSxjcmVhdGVFbGVtZW50TlM6ZnVuY3Rpb24oKXtyZXR1cm57fX0saW1wb3J0Tm9kZTpmdW5jdGlvbigpe3JldHVybiBudWxsfSxsb2NhdGlvbjp7aGFzaDpcIlwiLGhvc3Q6XCJcIixob3N0bmFtZTpcIlwiLGhyZWY6XCJcIixvcmlnaW46XCJcIixwYXRobmFtZTpcIlwiLHByb3RvY29sOlwiXCIsc2VhcmNoOlwiXCJ9fTtmdW5jdGlvbiByKCl7dmFyIGU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50P2RvY3VtZW50Ont9O3JldHVybiBpKGUscyksZX12YXIgbj17ZG9jdW1lbnQ6cyxuYXZpZ2F0b3I6e3VzZXJBZ2VudDpcIlwifSxsb2NhdGlvbjp7aGFzaDpcIlwiLGhvc3Q6XCJcIixob3N0bmFtZTpcIlwiLGhyZWY6XCJcIixvcmlnaW46XCJcIixwYXRobmFtZTpcIlwiLHByb3RvY29sOlwiXCIsc2VhcmNoOlwiXCJ9LGhpc3Rvcnk6e3JlcGxhY2VTdGF0ZTpmdW5jdGlvbigpe30scHVzaFN0YXRlOmZ1bmN0aW9uKCl7fSxnbzpmdW5jdGlvbigpe30sYmFjazpmdW5jdGlvbigpe319LEN1c3RvbUV2ZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LGFkZEV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oKXt9LHJlbW92ZUV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oKXt9LGdldENvbXB1dGVkU3R5bGU6ZnVuY3Rpb24oKXtyZXR1cm57Z2V0UHJvcGVydHlWYWx1ZTpmdW5jdGlvbigpe3JldHVyblwiXCJ9fX0sSW1hZ2U6ZnVuY3Rpb24oKXt9LERhdGU6ZnVuY3Rpb24oKXt9LHNjcmVlbjp7fSxzZXRUaW1lb3V0OmZ1bmN0aW9uKCl7fSxjbGVhclRpbWVvdXQ6ZnVuY3Rpb24oKXt9LG1hdGNoTWVkaWE6ZnVuY3Rpb24oKXtyZXR1cm57fX0scmVxdWVzdEFuaW1hdGlvbkZyYW1lOmZ1bmN0aW9uKGUpe3JldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiBzZXRUaW1lb3V0PyhlKCksbnVsbCk6c2V0VGltZW91dChlLDApfSxjYW5jZWxBbmltYXRpb25GcmFtZTpmdW5jdGlvbihlKXtcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2V0VGltZW91dCYmY2xlYXJUaW1lb3V0KGUpfX07ZnVuY3Rpb24gbygpe3ZhciBlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9O3JldHVybiBpKGUsbiksZX1mdW5jdGlvbiBsKGUpe3JldHVybihsPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSl9KShlKX1mdW5jdGlvbiBkKGUsdCl7cmV0dXJuKGQ9T2JqZWN0LnNldFByb3RvdHlwZU9mfHxmdW5jdGlvbihlLHQpe3JldHVybiBlLl9fcHJvdG9fXz10LGV9KShlLHQpfWZ1bmN0aW9uIHAoKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFJlZmxlY3QuY29uc3RydWN0KERhdGUsW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaChlKXtyZXR1cm4hMX19ZnVuY3Rpb24gYyhlLHQsYSl7cmV0dXJuKGM9cCgpP1JlZmxlY3QuY29uc3RydWN0OmZ1bmN0aW9uKGUsdCxhKXt2YXIgaT1bbnVsbF07aS5wdXNoLmFwcGx5KGksdCk7dmFyIHM9bmV3KEZ1bmN0aW9uLmJpbmQuYXBwbHkoZSxpKSk7cmV0dXJuIGEmJmQocyxhLnByb3RvdHlwZSksc30pLmFwcGx5KG51bGwsYXJndW1lbnRzKX1mdW5jdGlvbiB1KGUpe3ZhciB0PVwiZnVuY3Rpb25cIj09dHlwZW9mIE1hcD9uZXcgTWFwOnZvaWQgMDtyZXR1cm4odT1mdW5jdGlvbihlKXtpZihudWxsPT09ZXx8KGE9ZSwtMT09PUZ1bmN0aW9uLnRvU3RyaW5nLmNhbGwoYSkuaW5kZXhPZihcIltuYXRpdmUgY29kZV1cIikpKXJldHVybiBlO3ZhciBhO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO2lmKHZvaWQgMCE9PXQpe2lmKHQuaGFzKGUpKXJldHVybiB0LmdldChlKTt0LnNldChlLGkpfWZ1bmN0aW9uIGkoKXtyZXR1cm4gYyhlLGFyZ3VtZW50cyxsKHRoaXMpLmNvbnN0cnVjdG9yKX1yZXR1cm4gaS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmksZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZChpLGUpfSkoZSl9dmFyIGg9ZnVuY3Rpb24oZSl7dmFyIHQsYTtmdW5jdGlvbiBpKHQpe3ZhciBhLGkscztyZXR1cm4gYT1lLmNhbGwuYXBwbHkoZSxbdGhpc10uY29uY2F0KHQpKXx8dGhpcyxpPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiBlfShhKSxzPWkuX19wcm90b19fLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwiX19wcm90b19fXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBzfSxzZXQ6ZnVuY3Rpb24oZSl7cy5fX3Byb3RvX189ZX19KSxhfXJldHVybiBhPWUsKHQ9aSkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYS5wcm90b3R5cGUpLHQucHJvdG90eXBlLmNvbnN0cnVjdG9yPXQsdC5fX3Byb3RvX189YSxpfSh1KEFycmF5KSk7ZnVuY3Rpb24gdihlKXt2b2lkIDA9PT1lJiYoZT1bXSk7dmFyIHQ9W107cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7QXJyYXkuaXNBcnJheShlKT90LnB1c2guYXBwbHkodCx2KGUpKTp0LnB1c2goZSl9KSksdH1mdW5jdGlvbiBmKGUsdCl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbChlLHQpfWZ1bmN0aW9uIG0oZSx0KXt2YXIgYT1vKCksaT1yKCkscz1bXTtpZighdCYmZSBpbnN0YW5jZW9mIGgpcmV0dXJuIGU7aWYoIWUpcmV0dXJuIG5ldyBoKHMpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXt2YXIgbj1lLnRyaW0oKTtpZihuLmluZGV4T2YoXCI8XCIpPj0wJiZuLmluZGV4T2YoXCI+XCIpPj0wKXt2YXIgbD1cImRpdlwiOzA9PT1uLmluZGV4T2YoXCI8bGlcIikmJihsPVwidWxcIiksMD09PW4uaW5kZXhPZihcIjx0clwiKSYmKGw9XCJ0Ym9keVwiKSwwIT09bi5pbmRleE9mKFwiPHRkXCIpJiYwIT09bi5pbmRleE9mKFwiPHRoXCIpfHwobD1cInRyXCIpLDA9PT1uLmluZGV4T2YoXCI8dGJvZHlcIikmJihsPVwidGFibGVcIiksMD09PW4uaW5kZXhPZihcIjxvcHRpb25cIikmJihsPVwic2VsZWN0XCIpO3ZhciBkPWkuY3JlYXRlRWxlbWVudChsKTtkLmlubmVySFRNTD1uO2Zvcih2YXIgcD0wO3A8ZC5jaGlsZE5vZGVzLmxlbmd0aDtwKz0xKXMucHVzaChkLmNoaWxkTm9kZXNbcF0pfWVsc2Ugcz1mdW5jdGlvbihlLHQpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXJldHVybltlXTtmb3IodmFyIGE9W10saT10LnF1ZXJ5U2VsZWN0b3JBbGwoZSkscz0wO3M8aS5sZW5ndGg7cys9MSlhLnB1c2goaVtzXSk7cmV0dXJuIGF9KGUudHJpbSgpLHR8fGkpfWVsc2UgaWYoZS5ub2RlVHlwZXx8ZT09PWF8fGU9PT1pKXMucHVzaChlKTtlbHNlIGlmKEFycmF5LmlzQXJyYXkoZSkpe2lmKGUgaW5zdGFuY2VvZiBoKXJldHVybiBlO3M9ZX1yZXR1cm4gbmV3IGgoZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLGE9MDthPGUubGVuZ3RoO2ErPTEpLTE9PT10LmluZGV4T2YoZVthXSkmJnQucHVzaChlW2FdKTtyZXR1cm4gdH0ocykpfW0uZm49aC5wcm90b3R5cGU7dmFyIGcsYix3LHk9e2FkZENsYXNzOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksYT0wO2E8ZTthKyspdFthXT1hcmd1bWVudHNbYV07dmFyIGk9dih0Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3BsaXQoXCIgXCIpfSkpKTtyZXR1cm4gdGhpcy5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdDsodD1lLmNsYXNzTGlzdCkuYWRkLmFwcGx5KHQsaSl9KSksdGhpc30scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxhPTA7YTxlO2ErKyl0W2FdPWFyZ3VtZW50c1thXTt2YXIgaT12KHQubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5zcGxpdChcIiBcIil9KSkpO3JldHVybiB0aGlzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0Oyh0PWUuY2xhc3NMaXN0KS5yZW1vdmUuYXBwbHkodCxpKX0pKSx0aGlzfSxoYXNDbGFzczpmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLGE9MDthPGU7YSsrKXRbYV09YXJndW1lbnRzW2FdO3ZhciBpPXYodC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNwbGl0KFwiIFwiKX0pKSk7cmV0dXJuIGYodGhpcywoZnVuY3Rpb24oZSl7cmV0dXJuIGkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gZS5jbGFzc0xpc3QuY29udGFpbnModCl9KSkubGVuZ3RoPjB9KSkubGVuZ3RoPjB9LHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksYT0wO2E8ZTthKyspdFthXT1hcmd1bWVudHNbYV07dmFyIGk9dih0Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3BsaXQoXCIgXCIpfSkpKTt0aGlzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2kuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZS5jbGFzc0xpc3QudG9nZ2xlKHQpfSkpfSkpfSxhdHRyOmZ1bmN0aW9uKGUsdCl7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgmJlwic3RyaW5nXCI9PXR5cGVvZiBlKXJldHVybiB0aGlzWzBdP3RoaXNbMF0uZ2V0QXR0cmlidXRlKGUpOnZvaWQgMDtmb3IodmFyIGE9MDthPHRoaXMubGVuZ3RoO2ErPTEpaWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpdGhpc1thXS5zZXRBdHRyaWJ1dGUoZSx0KTtlbHNlIGZvcih2YXIgaSBpbiBlKXRoaXNbYV1baV09ZVtpXSx0aGlzW2FdLnNldEF0dHJpYnV0ZShpLGVbaV0pO3JldHVybiB0aGlzfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8dGhpcy5sZW5ndGg7dCs9MSl0aGlzW3RdLnJlbW92ZUF0dHJpYnV0ZShlKTtyZXR1cm4gdGhpc30sdHJhbnNmb3JtOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8dGhpcy5sZW5ndGg7dCs9MSl0aGlzW3RdLnN0eWxlLnRyYW5zZm9ybT1lO3JldHVybiB0aGlzfSx0cmFuc2l0aW9uOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8dGhpcy5sZW5ndGg7dCs9MSl0aGlzW3RdLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbj1cInN0cmluZ1wiIT10eXBlb2YgZT9lK1wibXNcIjplO3JldHVybiB0aGlzfSxvbjpmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLGE9MDthPGU7YSsrKXRbYV09YXJndW1lbnRzW2FdO3ZhciBpPXRbMF0scz10WzFdLHI9dFsyXSxuPXRbM107ZnVuY3Rpb24gbyhlKXt2YXIgdD1lLnRhcmdldDtpZih0KXt2YXIgYT1lLnRhcmdldC5kb203RXZlbnREYXRhfHxbXTtpZihhLmluZGV4T2YoZSk8MCYmYS51bnNoaWZ0KGUpLG0odCkuaXMocykpci5hcHBseSh0LGEpO2Vsc2UgZm9yKHZhciBpPW0odCkucGFyZW50cygpLG49MDtuPGkubGVuZ3RoO24rPTEpbShpW25dKS5pcyhzKSYmci5hcHBseShpW25dLGEpfX1mdW5jdGlvbiBsKGUpe3ZhciB0PWUmJmUudGFyZ2V0JiZlLnRhcmdldC5kb203RXZlbnREYXRhfHxbXTt0LmluZGV4T2YoZSk8MCYmdC51bnNoaWZ0KGUpLHIuYXBwbHkodGhpcyx0KX1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0WzFdJiYoaT10WzBdLHI9dFsxXSxuPXRbMl0scz12b2lkIDApLG58fChuPSExKTtmb3IodmFyIGQscD1pLnNwbGl0KFwiIFwiKSxjPTA7Yzx0aGlzLmxlbmd0aDtjKz0xKXt2YXIgdT10aGlzW2NdO2lmKHMpZm9yKGQ9MDtkPHAubGVuZ3RoO2QrPTEpe3ZhciBoPXBbZF07dS5kb203TGl2ZUxpc3RlbmVyc3x8KHUuZG9tN0xpdmVMaXN0ZW5lcnM9e30pLHUuZG9tN0xpdmVMaXN0ZW5lcnNbaF18fCh1LmRvbTdMaXZlTGlzdGVuZXJzW2hdPVtdKSx1LmRvbTdMaXZlTGlzdGVuZXJzW2hdLnB1c2goe2xpc3RlbmVyOnIscHJveHlMaXN0ZW5lcjpvfSksdS5hZGRFdmVudExpc3RlbmVyKGgsbyxuKX1lbHNlIGZvcihkPTA7ZDxwLmxlbmd0aDtkKz0xKXt2YXIgdj1wW2RdO3UuZG9tN0xpc3RlbmVyc3x8KHUuZG9tN0xpc3RlbmVycz17fSksdS5kb203TGlzdGVuZXJzW3ZdfHwodS5kb203TGlzdGVuZXJzW3ZdPVtdKSx1LmRvbTdMaXN0ZW5lcnNbdl0ucHVzaCh7bGlzdGVuZXI6cixwcm94eUxpc3RlbmVyOmx9KSx1LmFkZEV2ZW50TGlzdGVuZXIodixsLG4pfX1yZXR1cm4gdGhpc30sb2ZmOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksYT0wO2E8ZTthKyspdFthXT1hcmd1bWVudHNbYV07dmFyIGk9dFswXSxzPXRbMV0scj10WzJdLG49dFszXTtcImZ1bmN0aW9uXCI9PXR5cGVvZiB0WzFdJiYoaT10WzBdLHI9dFsxXSxuPXRbMl0scz12b2lkIDApLG58fChuPSExKTtmb3IodmFyIG89aS5zcGxpdChcIiBcIiksbD0wO2w8by5sZW5ndGg7bCs9MSlmb3IodmFyIGQ9b1tsXSxwPTA7cDx0aGlzLmxlbmd0aDtwKz0xKXt2YXIgYz10aGlzW3BdLHU9dm9pZCAwO2lmKCFzJiZjLmRvbTdMaXN0ZW5lcnM/dT1jLmRvbTdMaXN0ZW5lcnNbZF06cyYmYy5kb203TGl2ZUxpc3RlbmVycyYmKHU9Yy5kb203TGl2ZUxpc3RlbmVyc1tkXSksdSYmdS5sZW5ndGgpZm9yKHZhciBoPXUubGVuZ3RoLTE7aD49MDtoLT0xKXt2YXIgdj11W2hdO3ImJnYubGlzdGVuZXI9PT1yfHxyJiZ2Lmxpc3RlbmVyJiZ2Lmxpc3RlbmVyLmRvbTdwcm94eSYmdi5saXN0ZW5lci5kb203cHJveHk9PT1yPyhjLnJlbW92ZUV2ZW50TGlzdGVuZXIoZCx2LnByb3h5TGlzdGVuZXIsbiksdS5zcGxpY2UoaCwxKSk6cnx8KGMucmVtb3ZlRXZlbnRMaXN0ZW5lcihkLHYucHJveHlMaXN0ZW5lcixuKSx1LnNwbGljZShoLDEpKX19cmV0dXJuIHRoaXN9LHRyaWdnZXI6ZnVuY3Rpb24oKXtmb3IodmFyIGU9bygpLHQ9YXJndW1lbnRzLmxlbmd0aCxhPW5ldyBBcnJheSh0KSxpPTA7aTx0O2krKylhW2ldPWFyZ3VtZW50c1tpXTtmb3IodmFyIHM9YVswXS5zcGxpdChcIiBcIikscj1hWzFdLG49MDtuPHMubGVuZ3RoO24rPTEpZm9yKHZhciBsPXNbbl0sZD0wO2Q8dGhpcy5sZW5ndGg7ZCs9MSl7dmFyIHA9dGhpc1tkXTtpZihlLkN1c3RvbUV2ZW50KXt2YXIgYz1uZXcgZS5DdXN0b21FdmVudChsLHtkZXRhaWw6cixidWJibGVzOiEwLGNhbmNlbGFibGU6ITB9KTtwLmRvbTdFdmVudERhdGE9YS5maWx0ZXIoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ+MH0pKSxwLmRpc3BhdGNoRXZlbnQoYykscC5kb203RXZlbnREYXRhPVtdLGRlbGV0ZSBwLmRvbTdFdmVudERhdGF9fXJldHVybiB0aGlzfSx0cmFuc2l0aW9uRW5kOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIGUmJnQub24oXCJ0cmFuc2l0aW9uZW5kXCIsKGZ1bmN0aW9uIGEoaSl7aS50YXJnZXQ9PT10aGlzJiYoZS5jYWxsKHRoaXMsaSksdC5vZmYoXCJ0cmFuc2l0aW9uZW5kXCIsYSkpfSkpLHRoaXN9LG91dGVyV2lkdGg6ZnVuY3Rpb24oZSl7aWYodGhpcy5sZW5ndGg+MCl7aWYoZSl7dmFyIHQ9dGhpcy5zdHlsZXMoKTtyZXR1cm4gdGhpc1swXS5vZmZzZXRXaWR0aCtwYXJzZUZsb2F0KHQuZ2V0UHJvcGVydHlWYWx1ZShcIm1hcmdpbi1yaWdodFwiKSkrcGFyc2VGbG9hdCh0LmdldFByb3BlcnR5VmFsdWUoXCJtYXJnaW4tbGVmdFwiKSl9cmV0dXJuIHRoaXNbMF0ub2Zmc2V0V2lkdGh9cmV0dXJuIG51bGx9LG91dGVySGVpZ2h0OmZ1bmN0aW9uKGUpe2lmKHRoaXMubGVuZ3RoPjApe2lmKGUpe3ZhciB0PXRoaXMuc3R5bGVzKCk7cmV0dXJuIHRoaXNbMF0ub2Zmc2V0SGVpZ2h0K3BhcnNlRmxvYXQodC5nZXRQcm9wZXJ0eVZhbHVlKFwibWFyZ2luLXRvcFwiKSkrcGFyc2VGbG9hdCh0LmdldFByb3BlcnR5VmFsdWUoXCJtYXJnaW4tYm90dG9tXCIpKX1yZXR1cm4gdGhpc1swXS5vZmZzZXRIZWlnaHR9cmV0dXJuIG51bGx9LHN0eWxlczpmdW5jdGlvbigpe3ZhciBlPW8oKTtyZXR1cm4gdGhpc1swXT9lLmdldENvbXB1dGVkU3R5bGUodGhpc1swXSxudWxsKTp7fX0sb2Zmc2V0OmZ1bmN0aW9uKCl7aWYodGhpcy5sZW5ndGg+MCl7dmFyIGU9bygpLHQ9cigpLGE9dGhpc1swXSxpPWEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkscz10LmJvZHksbj1hLmNsaWVudFRvcHx8cy5jbGllbnRUb3B8fDAsbD1hLmNsaWVudExlZnR8fHMuY2xpZW50TGVmdHx8MCxkPWE9PT1lP2Uuc2Nyb2xsWTphLnNjcm9sbFRvcCxwPWE9PT1lP2Uuc2Nyb2xsWDphLnNjcm9sbExlZnQ7cmV0dXJue3RvcDppLnRvcCtkLW4sbGVmdDppLmxlZnQrcC1sfX1yZXR1cm4gbnVsbH0sY3NzOmZ1bmN0aW9uKGUsdCl7dmFyIGEsaT1vKCk7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXtmb3IoYT0wO2E8dGhpcy5sZW5ndGg7YSs9MSlmb3IodmFyIHMgaW4gZSl0aGlzW2FdLnN0eWxlW3NdPWVbc107cmV0dXJuIHRoaXN9aWYodGhpc1swXSlyZXR1cm4gaS5nZXRDb21wdXRlZFN0eWxlKHRoaXNbMF0sbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShlKX1pZigyPT09YXJndW1lbnRzLmxlbmd0aCYmXCJzdHJpbmdcIj09dHlwZW9mIGUpe2ZvcihhPTA7YTx0aGlzLmxlbmd0aDthKz0xKXRoaXNbYV0uc3R5bGVbZV09dDtyZXR1cm4gdGhpc31yZXR1cm4gdGhpc30sZWFjaDpmdW5jdGlvbihlKXtyZXR1cm4gZT8odGhpcy5mb3JFYWNoKChmdW5jdGlvbih0LGEpe2UuYXBwbHkodCxbdCxhXSl9KSksdGhpcyk6dGhpc30saHRtbDpmdW5jdGlvbihlKXtpZih2b2lkIDA9PT1lKXJldHVybiB0aGlzWzBdP3RoaXNbMF0uaW5uZXJIVE1MOm51bGw7Zm9yKHZhciB0PTA7dDx0aGlzLmxlbmd0aDt0Kz0xKXRoaXNbdF0uaW5uZXJIVE1MPWU7cmV0dXJuIHRoaXN9LHRleHQ6ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT09ZSlyZXR1cm4gdGhpc1swXT90aGlzWzBdLnRleHRDb250ZW50LnRyaW0oKTpudWxsO2Zvcih2YXIgdD0wO3Q8dGhpcy5sZW5ndGg7dCs9MSl0aGlzW3RdLnRleHRDb250ZW50PWU7cmV0dXJuIHRoaXN9LGlzOmZ1bmN0aW9uKGUpe3ZhciB0LGEsaT1vKCkscz1yKCksbj10aGlzWzBdO2lmKCFufHx2b2lkIDA9PT1lKXJldHVybiExO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXtpZihuLm1hdGNoZXMpcmV0dXJuIG4ubWF0Y2hlcyhlKTtpZihuLndlYmtpdE1hdGNoZXNTZWxlY3RvcilyZXR1cm4gbi53ZWJraXRNYXRjaGVzU2VsZWN0b3IoZSk7aWYobi5tc01hdGNoZXNTZWxlY3RvcilyZXR1cm4gbi5tc01hdGNoZXNTZWxlY3RvcihlKTtmb3IodD1tKGUpLGE9MDthPHQubGVuZ3RoO2ErPTEpaWYodFthXT09PW4pcmV0dXJuITA7cmV0dXJuITF9aWYoZT09PXMpcmV0dXJuIG49PT1zO2lmKGU9PT1pKXJldHVybiBuPT09aTtpZihlLm5vZGVUeXBlfHxlIGluc3RhbmNlb2YgaCl7Zm9yKHQ9ZS5ub2RlVHlwZT9bZV06ZSxhPTA7YTx0Lmxlbmd0aDthKz0xKWlmKHRbYV09PT1uKXJldHVybiEwO3JldHVybiExfXJldHVybiExfSxpbmRleDpmdW5jdGlvbigpe3ZhciBlLHQ9dGhpc1swXTtpZih0KXtmb3IoZT0wO251bGwhPT0odD10LnByZXZpb3VzU2libGluZyk7KTE9PT10Lm5vZGVUeXBlJiYoZSs9MSk7cmV0dXJuIGV9fSxlcTpmdW5jdGlvbihlKXtpZih2b2lkIDA9PT1lKXJldHVybiB0aGlzO3ZhciB0PXRoaXMubGVuZ3RoO2lmKGU+dC0xKXJldHVybiBtKFtdKTtpZihlPDApe3ZhciBhPXQrZTtyZXR1cm4gbShhPDA/W106W3RoaXNbYV1dKX1yZXR1cm4gbShbdGhpc1tlXV0pfSxhcHBlbmQ6ZnVuY3Rpb24oKXtmb3IodmFyIGUsdD1yKCksYT0wO2E8YXJndW1lbnRzLmxlbmd0aDthKz0xKXtlPWE8MHx8YXJndW1lbnRzLmxlbmd0aDw9YT92b2lkIDA6YXJndW1lbnRzW2FdO2Zvcih2YXIgaT0wO2k8dGhpcy5sZW5ndGg7aSs9MSlpZihcInN0cmluZ1wiPT10eXBlb2YgZSl7dmFyIHM9dC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2ZvcihzLmlubmVySFRNTD1lO3MuZmlyc3RDaGlsZDspdGhpc1tpXS5hcHBlbmRDaGlsZChzLmZpcnN0Q2hpbGQpfWVsc2UgaWYoZSBpbnN0YW5jZW9mIGgpZm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKz0xKXRoaXNbaV0uYXBwZW5kQ2hpbGQoZVtuXSk7ZWxzZSB0aGlzW2ldLmFwcGVuZENoaWxkKGUpfXJldHVybiB0aGlzfSxwcmVwZW5kOmZ1bmN0aW9uKGUpe3ZhciB0LGEsaT1yKCk7Zm9yKHQ9MDt0PHRoaXMubGVuZ3RoO3QrPTEpaWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpe3ZhciBzPWkuY3JlYXRlRWxlbWVudChcImRpdlwiKTtmb3Iocy5pbm5lckhUTUw9ZSxhPXMuY2hpbGROb2Rlcy5sZW5ndGgtMTthPj0wO2EtPTEpdGhpc1t0XS5pbnNlcnRCZWZvcmUocy5jaGlsZE5vZGVzW2FdLHRoaXNbdF0uY2hpbGROb2Rlc1swXSl9ZWxzZSBpZihlIGluc3RhbmNlb2YgaClmb3IoYT0wO2E8ZS5sZW5ndGg7YSs9MSl0aGlzW3RdLmluc2VydEJlZm9yZShlW2FdLHRoaXNbdF0uY2hpbGROb2Rlc1swXSk7ZWxzZSB0aGlzW3RdLmluc2VydEJlZm9yZShlLHRoaXNbdF0uY2hpbGROb2Rlc1swXSk7cmV0dXJuIHRoaXN9LG5leHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubGVuZ3RoPjA/ZT90aGlzWzBdLm5leHRFbGVtZW50U2libGluZyYmbSh0aGlzWzBdLm5leHRFbGVtZW50U2libGluZykuaXMoZSk/bShbdGhpc1swXS5uZXh0RWxlbWVudFNpYmxpbmddKTptKFtdKTp0aGlzWzBdLm5leHRFbGVtZW50U2libGluZz9tKFt0aGlzWzBdLm5leHRFbGVtZW50U2libGluZ10pOm0oW10pOm0oW10pfSxuZXh0QWxsOmZ1bmN0aW9uKGUpe3ZhciB0PVtdLGE9dGhpc1swXTtpZighYSlyZXR1cm4gbShbXSk7Zm9yKDthLm5leHRFbGVtZW50U2libGluZzspe3ZhciBpPWEubmV4dEVsZW1lbnRTaWJsaW5nO2U/bShpKS5pcyhlKSYmdC5wdXNoKGkpOnQucHVzaChpKSxhPWl9cmV0dXJuIG0odCl9LHByZXY6ZnVuY3Rpb24oZSl7aWYodGhpcy5sZW5ndGg+MCl7dmFyIHQ9dGhpc1swXTtyZXR1cm4gZT90LnByZXZpb3VzRWxlbWVudFNpYmxpbmcmJm0odC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKS5pcyhlKT9tKFt0LnByZXZpb3VzRWxlbWVudFNpYmxpbmddKTptKFtdKTp0LnByZXZpb3VzRWxlbWVudFNpYmxpbmc/bShbdC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nXSk6bShbXSl9cmV0dXJuIG0oW10pfSxwcmV2QWxsOmZ1bmN0aW9uKGUpe3ZhciB0PVtdLGE9dGhpc1swXTtpZighYSlyZXR1cm4gbShbXSk7Zm9yKDthLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7KXt2YXIgaT1hLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7ZT9tKGkpLmlzKGUpJiZ0LnB1c2goaSk6dC5wdXNoKGkpLGE9aX1yZXR1cm4gbSh0KX0scGFyZW50OmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxhPTA7YTx0aGlzLmxlbmd0aDthKz0xKW51bGwhPT10aGlzW2FdLnBhcmVudE5vZGUmJihlP20odGhpc1thXS5wYXJlbnROb2RlKS5pcyhlKSYmdC5wdXNoKHRoaXNbYV0ucGFyZW50Tm9kZSk6dC5wdXNoKHRoaXNbYV0ucGFyZW50Tm9kZSkpO3JldHVybiBtKHQpfSxwYXJlbnRzOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxhPTA7YTx0aGlzLmxlbmd0aDthKz0xKWZvcih2YXIgaT10aGlzW2FdLnBhcmVudE5vZGU7aTspZT9tKGkpLmlzKGUpJiZ0LnB1c2goaSk6dC5wdXNoKGkpLGk9aS5wYXJlbnROb2RlO3JldHVybiBtKHQpfSxjbG9zZXN0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIHZvaWQgMD09PWU/bShbXSk6KHQuaXMoZSl8fCh0PXQucGFyZW50cyhlKS5lcSgwKSksdCl9LGZpbmQ6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLGE9MDthPHRoaXMubGVuZ3RoO2ErPTEpe3RyeXt2YXIgaT10aGlzW2FdLnF1ZXJ5U2VsZWN0b3JBbGwoZSl9Y2F0Y2godCl7Y29uc29sZS5sb2coZSl9Zm9yKHZhciBzPTA7czxpLmxlbmd0aDtzKz0xKXQucHVzaChpW3NdKX1yZXR1cm4gbSh0KX0sY2hpbGRyZW46ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLGE9MDthPHRoaXMubGVuZ3RoO2ErPTEpZm9yKHZhciBpPXRoaXNbYV0uY2hpbGRyZW4scz0wO3M8aS5sZW5ndGg7cys9MSllJiYhbShpW3NdKS5pcyhlKXx8dC5wdXNoKGlbc10pO3JldHVybiBtKHQpfSxmaWx0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIG0oZih0aGlzLGUpKX0scmVtb3ZlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTx0aGlzLmxlbmd0aDtlKz0xKXRoaXNbZV0ucGFyZW50Tm9kZSYmdGhpc1tlXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXNbZV0pO3JldHVybiB0aGlzfX07ZnVuY3Rpb24gRShlLHQpe3JldHVybiB2b2lkIDA9PT10JiYodD0wKSxzZXRUaW1lb3V0KGUsdCl9ZnVuY3Rpb24geCgpe3JldHVybiBEYXRlLm5vdygpfWZ1bmN0aW9uIFQoZSx0KXt2b2lkIDA9PT10JiYodD1cInhcIik7dmFyIGEsaSxzLHI9bygpLG49ZnVuY3Rpb24oZSl7dmFyIHQsYT1vKCk7cmV0dXJuIGEuZ2V0Q29tcHV0ZWRTdHlsZSYmKHQ9YS5nZXRDb21wdXRlZFN0eWxlKGUsbnVsbCkpLCF0JiZlLmN1cnJlbnRTdHlsZSYmKHQ9ZS5jdXJyZW50U3R5bGUpLHR8fCh0PWUuc3R5bGUpLHR9KGUpO3JldHVybiByLldlYktpdENTU01hdHJpeD8oKGk9bi50cmFuc2Zvcm18fG4ud2Via2l0VHJhbnNmb3JtKS5zcGxpdChcIixcIikubGVuZ3RoPjYmJihpPWkuc3BsaXQoXCIsIFwiKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoXCIsXCIsXCIuXCIpfSkpLmpvaW4oXCIsIFwiKSkscz1uZXcgci5XZWJLaXRDU1NNYXRyaXgoXCJub25lXCI9PT1pP1wiXCI6aSkpOmE9KHM9bi5Nb3pUcmFuc2Zvcm18fG4uT1RyYW5zZm9ybXx8bi5Nc1RyYW5zZm9ybXx8bi5tc1RyYW5zZm9ybXx8bi50cmFuc2Zvcm18fG4uZ2V0UHJvcGVydHlWYWx1ZShcInRyYW5zZm9ybVwiKS5yZXBsYWNlKFwidHJhbnNsYXRlKFwiLFwibWF0cml4KDEsIDAsIDAsIDEsXCIpKS50b1N0cmluZygpLnNwbGl0KFwiLFwiKSxcInhcIj09PXQmJihpPXIuV2ViS2l0Q1NTTWF0cml4P3MubTQxOjE2PT09YS5sZW5ndGg/cGFyc2VGbG9hdChhWzEyXSk6cGFyc2VGbG9hdChhWzRdKSksXCJ5XCI9PT10JiYoaT1yLldlYktpdENTU01hdHJpeD9zLm00MjoxNj09PWEubGVuZ3RoP3BhcnNlRmxvYXQoYVsxM10pOnBhcnNlRmxvYXQoYVs1XSkpLGl8fDB9ZnVuY3Rpb24gUyhlKXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9PWUmJmUuY29uc3RydWN0b3ImJlwiT2JqZWN0XCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSl9ZnVuY3Rpb24gQygpe2Zvcih2YXIgZT1PYmplY3QoYXJndW1lbnRzLmxlbmd0aDw9MD92b2lkIDA6YXJndW1lbnRzWzBdKSx0PVtcIl9fcHJvdG9fX1wiLFwiY29uc3RydWN0b3JcIixcInByb3RvdHlwZVwiXSxhPTE7YTxhcmd1bWVudHMubGVuZ3RoO2ErPTEpe3ZhciBpPWE8MHx8YXJndW1lbnRzLmxlbmd0aDw9YT92b2lkIDA6YXJndW1lbnRzW2FdO2lmKG51bGwhPWkpZm9yKHZhciBzPU9iamVjdC5rZXlzKE9iamVjdChpKSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gdC5pbmRleE9mKGUpPDB9KSkscj0wLG49cy5sZW5ndGg7cjxuO3IrPTEpe3ZhciBvPXNbcl0sbD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksbyk7dm9pZCAwIT09bCYmbC5lbnVtZXJhYmxlJiYoUyhlW29dKSYmUyhpW29dKT9pW29dLl9fc3dpcGVyX18/ZVtvXT1pW29dOkMoZVtvXSxpW29dKTohUyhlW29dKSYmUyhpW29dKT8oZVtvXT17fSxpW29dLl9fc3dpcGVyX18/ZVtvXT1pW29dOkMoZVtvXSxpW29dKSk6ZVtvXT1pW29dKX19cmV0dXJuIGV9ZnVuY3Rpb24gTShlLHQpe09iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKGEpe1ModFthXSkmJk9iamVjdC5rZXlzKHRbYV0pLmZvckVhY2goKGZ1bmN0aW9uKGkpe1wiZnVuY3Rpb25cIj09dHlwZW9mIHRbYV1baV0mJih0W2FdW2ldPXRbYV1baV0uYmluZChlKSl9KSksZVthXT10W2FdfSkpfWZ1bmN0aW9uIHooZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPVwiXCIpLFwiLlwiK2UudHJpbSgpLnJlcGxhY2UoLyhbXFwuOlxcL10pL2csXCJcXFxcJDFcIikucmVwbGFjZSgvIC9nLFwiLlwiKX1mdW5jdGlvbiBQKCl7cmV0dXJuIGd8fChnPWZ1bmN0aW9uKCl7dmFyIGU9bygpLHQ9cigpO3JldHVybnt0b3VjaDohIShcIm9udG91Y2hzdGFydFwiaW4gZXx8ZS5Eb2N1bWVudFRvdWNoJiZ0IGluc3RhbmNlb2YgZS5Eb2N1bWVudFRvdWNoKSxwb2ludGVyRXZlbnRzOiEhZS5Qb2ludGVyRXZlbnQmJlwibWF4VG91Y2hQb2ludHNcImluIGUubmF2aWdhdG9yJiZlLm5hdmlnYXRvci5tYXhUb3VjaFBvaW50cz49MCxvYnNlcnZlcjpcIk11dGF0aW9uT2JzZXJ2ZXJcImluIGV8fFwiV2Via2l0TXV0YXRpb25PYnNlcnZlclwiaW4gZSxwYXNzaXZlTGlzdGVuZXI6ZnVuY3Rpb24oKXt2YXIgdD0hMTt0cnl7dmFyIGE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LFwicGFzc2l2ZVwiLHtnZXQ6ZnVuY3Rpb24oKXt0PSEwfX0pO2UuYWRkRXZlbnRMaXN0ZW5lcihcInRlc3RQYXNzaXZlTGlzdGVuZXJcIixudWxsLGEpfWNhdGNoKGUpe31yZXR1cm4gdH0oKSxnZXN0dXJlczpcIm9uZ2VzdHVyZXN0YXJ0XCJpbiBlfX0oKSksZ31mdW5jdGlvbiBrKGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT17fSksYnx8KGI9ZnVuY3Rpb24oZSl7dmFyIHQ9KHZvaWQgMD09PWU/e306ZSkudXNlckFnZW50LGE9UCgpLGk9bygpLHM9aS5uYXZpZ2F0b3IucGxhdGZvcm0scj10fHxpLm5hdmlnYXRvci51c2VyQWdlbnQsbj17aW9zOiExLGFuZHJvaWQ6ITF9LGw9aS5zY3JlZW4ud2lkdGgsZD1pLnNjcmVlbi5oZWlnaHQscD1yLm1hdGNoKC8oQW5kcm9pZCk7P1tcXHNcXC9dKyhbXFxkLl0rKT8vKSxjPXIubWF0Y2goLyhpUGFkKS4qT1NcXHMoW1xcZF9dKykvKSx1PXIubWF0Y2goLyhpUG9kKSguKk9TXFxzKFtcXGRfXSspKT8vKSxoPSFjJiZyLm1hdGNoKC8oaVBob25lXFxzT1N8aU9TKVxccyhbXFxkX10rKS8pLHY9XCJXaW4zMlwiPT09cyxmPVwiTWFjSW50ZWxcIj09PXM7cmV0dXJuIWMmJmYmJmEudG91Y2gmJltcIjEwMjR4MTM2NlwiLFwiMTM2NngxMDI0XCIsXCI4MzR4MTE5NFwiLFwiMTE5NHg4MzRcIixcIjgzNHgxMTEyXCIsXCIxMTEyeDgzNFwiLFwiNzY4eDEwMjRcIixcIjEwMjR4NzY4XCIsXCI4MjB4MTE4MFwiLFwiMTE4MHg4MjBcIixcIjgxMHgxMDgwXCIsXCIxMDgweDgxMFwiXS5pbmRleE9mKGwrXCJ4XCIrZCk+PTAmJigoYz1yLm1hdGNoKC8oVmVyc2lvbilcXC8oW1xcZC5dKykvKSl8fChjPVswLDEsXCIxM18wXzBcIl0pLGY9ITEpLHAmJiF2JiYobi5vcz1cImFuZHJvaWRcIixuLmFuZHJvaWQ9ITApLChjfHxofHx1KSYmKG4ub3M9XCJpb3NcIixuLmlvcz0hMCksbn0oZSkpLGJ9ZnVuY3Rpb24gTCgpe3JldHVybiB3fHwodz1mdW5jdGlvbigpe3ZhciBlLHQ9bygpO3JldHVybntpc0VkZ2U6ISF0Lm5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0VkZ2UvZyksaXNTYWZhcmk6KGU9dC5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCksZS5pbmRleE9mKFwic2FmYXJpXCIpPj0wJiZlLmluZGV4T2YoXCJjaHJvbWVcIik8MCYmZS5pbmRleE9mKFwiYW5kcm9pZFwiKTwwKSxpc1dlYlZpZXc6LyhpUGhvbmV8aVBvZHxpUGFkKS4qQXBwbGVXZWJLaXQoPyEuKlNhZmFyaSkvaS50ZXN0KHQubmF2aWdhdG9yLnVzZXJBZ2VudCl9fSgpKSx3fU9iamVjdC5rZXlzKHkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShtLmZuLGUse3ZhbHVlOnlbZV0sd3JpdGFibGU6ITB9KX0pKTt2YXIgJD17bmFtZTpcInJlc2l6ZVwiLGNyZWF0ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7QyhlLHtyZXNpemU6e29ic2VydmVyOm51bGwsY3JlYXRlT2JzZXJ2ZXI6ZnVuY3Rpb24oKXtlJiYhZS5kZXN0cm95ZWQmJmUuaW5pdGlhbGl6ZWQmJihlLnJlc2l6ZS5vYnNlcnZlcj1uZXcgUmVzaXplT2JzZXJ2ZXIoKGZ1bmN0aW9uKHQpe3ZhciBhPWUud2lkdGgsaT1lLmhlaWdodCxzPWEscj1pO3QuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIGE9dC5jb250ZW50Qm94U2l6ZSxpPXQuY29udGVudFJlY3Qsbj10LnRhcmdldDtuJiZuIT09ZS5lbHx8KHM9aT9pLndpZHRoOihhWzBdfHxhKS5pbmxpbmVTaXplLHI9aT9pLmhlaWdodDooYVswXXx8YSkuYmxvY2tTaXplKX0pKSxzPT09YSYmcj09PWl8fGUucmVzaXplLnJlc2l6ZUhhbmRsZXIoKX0pKSxlLnJlc2l6ZS5vYnNlcnZlci5vYnNlcnZlKGUuZWwpKX0scmVtb3ZlT2JzZXJ2ZXI6ZnVuY3Rpb24oKXtlLnJlc2l6ZS5vYnNlcnZlciYmZS5yZXNpemUub2JzZXJ2ZXIudW5vYnNlcnZlJiZlLmVsJiYoZS5yZXNpemUub2JzZXJ2ZXIudW5vYnNlcnZlKGUuZWwpLGUucmVzaXplLm9ic2VydmVyPW51bGwpfSxyZXNpemVIYW5kbGVyOmZ1bmN0aW9uKCl7ZSYmIWUuZGVzdHJveWVkJiZlLmluaXRpYWxpemVkJiYoZS5lbWl0KFwiYmVmb3JlUmVzaXplXCIpLGUuZW1pdChcInJlc2l6ZVwiKSl9LG9yaWVudGF0aW9uQ2hhbmdlSGFuZGxlcjpmdW5jdGlvbigpe2UmJiFlLmRlc3Ryb3llZCYmZS5pbml0aWFsaXplZCYmZS5lbWl0KFwib3JpZW50YXRpb25jaGFuZ2VcIil9fX0pfSxvbjp7aW5pdDpmdW5jdGlvbihlKXt2YXIgdD1vKCk7ZS5wYXJhbXMucmVzaXplT2JzZXJ2ZXImJnZvaWQgMCE9PW8oKS5SZXNpemVPYnNlcnZlcj9lLnJlc2l6ZS5jcmVhdGVPYnNlcnZlcigpOih0LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIixlLnJlc2l6ZS5yZXNpemVIYW5kbGVyKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJvcmllbnRhdGlvbmNoYW5nZVwiLGUucmVzaXplLm9yaWVudGF0aW9uQ2hhbmdlSGFuZGxlcikpfSxkZXN0cm95OmZ1bmN0aW9uKGUpe3ZhciB0PW8oKTtlLnJlc2l6ZS5yZW1vdmVPYnNlcnZlcigpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLGUucmVzaXplLnJlc2l6ZUhhbmRsZXIpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm9yaWVudGF0aW9uY2hhbmdlXCIsZS5yZXNpemUub3JpZW50YXRpb25DaGFuZ2VIYW5kbGVyKX19fSxJPXthdHRhY2g6ZnVuY3Rpb24oZSx0KXt2b2lkIDA9PT10JiYodD17fSk7dmFyIGE9bygpLGk9dGhpcyxzPW5ldyhhLk11dGF0aW9uT2JzZXJ2ZXJ8fGEuV2Via2l0TXV0YXRpb25PYnNlcnZlcikoKGZ1bmN0aW9uKGUpe2lmKDEhPT1lLmxlbmd0aCl7dmFyIHQ9ZnVuY3Rpb24oKXtpLmVtaXQoXCJvYnNlcnZlclVwZGF0ZVwiLGVbMF0pfTthLnJlcXVlc3RBbmltYXRpb25GcmFtZT9hLnJlcXVlc3RBbmltYXRpb25GcmFtZSh0KTphLnNldFRpbWVvdXQodCwwKX1lbHNlIGkuZW1pdChcIm9ic2VydmVyVXBkYXRlXCIsZVswXSl9KSk7cy5vYnNlcnZlKGUse2F0dHJpYnV0ZXM6dm9pZCAwPT09dC5hdHRyaWJ1dGVzfHx0LmF0dHJpYnV0ZXMsY2hpbGRMaXN0OnZvaWQgMD09PXQuY2hpbGRMaXN0fHx0LmNoaWxkTGlzdCxjaGFyYWN0ZXJEYXRhOnZvaWQgMD09PXQuY2hhcmFjdGVyRGF0YXx8dC5jaGFyYWN0ZXJEYXRhfSksaS5vYnNlcnZlci5vYnNlcnZlcnMucHVzaChzKX0saW5pdDpmdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYoZS5zdXBwb3J0Lm9ic2VydmVyJiZlLnBhcmFtcy5vYnNlcnZlcil7aWYoZS5wYXJhbXMub2JzZXJ2ZVBhcmVudHMpZm9yKHZhciB0PWUuJGVsLnBhcmVudHMoKSxhPTA7YTx0Lmxlbmd0aDthKz0xKWUub2JzZXJ2ZXIuYXR0YWNoKHRbYV0pO2Uub2JzZXJ2ZXIuYXR0YWNoKGUuJGVsWzBdLHtjaGlsZExpc3Q6ZS5wYXJhbXMub2JzZXJ2ZVNsaWRlQ2hpbGRyZW59KSxlLm9ic2VydmVyLmF0dGFjaChlLiR3cmFwcGVyRWxbMF0se2F0dHJpYnV0ZXM6ITF9KX19LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLm9ic2VydmVyLm9ic2VydmVycy5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmRpc2Nvbm5lY3QoKX0pKSx0aGlzLm9ic2VydmVyLm9ic2VydmVycz1bXX19LE89e25hbWU6XCJvYnNlcnZlclwiLHBhcmFtczp7b2JzZXJ2ZXI6ITEsb2JzZXJ2ZVBhcmVudHM6ITEsb2JzZXJ2ZVNsaWRlQ2hpbGRyZW46ITF9LGNyZWF0ZTpmdW5jdGlvbigpe00odGhpcyx7b2JzZXJ2ZXI6dCh7fSxJLHtvYnNlcnZlcnM6W119KX0pfSxvbjp7aW5pdDpmdW5jdGlvbihlKXtlLm9ic2VydmVyLmluaXQoKX0sZGVzdHJveTpmdW5jdGlvbihlKXtlLm9ic2VydmVyLmRlc3Ryb3koKX19fTtmdW5jdGlvbiBBKGUpe3ZhciB0PXRoaXMsYT1yKCksaT1vKCkscz10LnRvdWNoRXZlbnRzRGF0YSxuPXQucGFyYW1zLGw9dC50b3VjaGVzO2lmKCF0LmFuaW1hdGluZ3x8IW4ucHJldmVudEludGVyYWN0aW9uT25UcmFuc2l0aW9uKXt2YXIgZD1lO2Qub3JpZ2luYWxFdmVudCYmKGQ9ZC5vcmlnaW5hbEV2ZW50KTt2YXIgcD1tKGQudGFyZ2V0KTtpZihcIndyYXBwZXJcIiE9PW4udG91Y2hFdmVudHNUYXJnZXR8fHAuY2xvc2VzdCh0LndyYXBwZXJFbCkubGVuZ3RoKWlmKHMuaXNUb3VjaEV2ZW50PVwidG91Y2hzdGFydFwiPT09ZC50eXBlLHMuaXNUb3VjaEV2ZW50fHwhKFwid2hpY2hcImluIGQpfHwzIT09ZC53aGljaClpZighKCFzLmlzVG91Y2hFdmVudCYmXCJidXR0b25cImluIGQmJmQuYnV0dG9uPjApKWlmKCFzLmlzVG91Y2hlZHx8IXMuaXNNb3ZlZClpZighIW4ubm9Td2lwaW5nQ2xhc3MmJlwiXCIhPT1uLm5vU3dpcGluZ0NsYXNzJiZkLnRhcmdldCYmZC50YXJnZXQuc2hhZG93Um9vdCYmZS5wYXRoJiZlLnBhdGhbMF0mJihwPW0oZS5wYXRoWzBdKSksbi5ub1N3aXBpbmcmJnAuY2xvc2VzdChuLm5vU3dpcGluZ1NlbGVjdG9yP24ubm9Td2lwaW5nU2VsZWN0b3I6XCIuXCIrbi5ub1N3aXBpbmdDbGFzcylbMF0pdC5hbGxvd0NsaWNrPSEwO2Vsc2UgaWYoIW4uc3dpcGVIYW5kbGVyfHxwLmNsb3Nlc3Qobi5zd2lwZUhhbmRsZXIpWzBdKXtsLmN1cnJlbnRYPVwidG91Y2hzdGFydFwiPT09ZC50eXBlP2QudGFyZ2V0VG91Y2hlc1swXS5wYWdlWDpkLnBhZ2VYLGwuY3VycmVudFk9XCJ0b3VjaHN0YXJ0XCI9PT1kLnR5cGU/ZC50YXJnZXRUb3VjaGVzWzBdLnBhZ2VZOmQucGFnZVk7dmFyIGM9bC5jdXJyZW50WCx1PWwuY3VycmVudFksaD1uLmVkZ2VTd2lwZURldGVjdGlvbnx8bi5pT1NFZGdlU3dpcGVEZXRlY3Rpb24sdj1uLmVkZ2VTd2lwZVRocmVzaG9sZHx8bi5pT1NFZGdlU3dpcGVUaHJlc2hvbGQ7aWYoaCYmKGM8PXZ8fGM+PWkuaW5uZXJXaWR0aC12KSl7aWYoXCJwcmV2ZW50XCIhPT1oKXJldHVybjtlLnByZXZlbnREZWZhdWx0KCl9aWYoQyhzLHtpc1RvdWNoZWQ6ITAsaXNNb3ZlZDohMSxhbGxvd1RvdWNoQ2FsbGJhY2tzOiEwLGlzU2Nyb2xsaW5nOnZvaWQgMCxzdGFydE1vdmluZzp2b2lkIDB9KSxsLnN0YXJ0WD1jLGwuc3RhcnRZPXUscy50b3VjaFN0YXJ0VGltZT14KCksdC5hbGxvd0NsaWNrPSEwLHQudXBkYXRlU2l6ZSgpLHQuc3dpcGVEaXJlY3Rpb249dm9pZCAwLG4udGhyZXNob2xkPjAmJihzLmFsbG93VGhyZXNob2xkTW92ZT0hMSksXCJ0b3VjaHN0YXJ0XCIhPT1kLnR5cGUpe3ZhciBmPSEwO3AuaXMocy5mb3JtRWxlbWVudHMpJiYoZj0hMSksYS5hY3RpdmVFbGVtZW50JiZtKGEuYWN0aXZlRWxlbWVudCkuaXMocy5mb3JtRWxlbWVudHMpJiZhLmFjdGl2ZUVsZW1lbnQhPT1wWzBdJiZhLmFjdGl2ZUVsZW1lbnQuYmx1cigpO3ZhciBnPWYmJnQuYWxsb3dUb3VjaE1vdmUmJm4udG91Y2hTdGFydFByZXZlbnREZWZhdWx0OyFuLnRvdWNoU3RhcnRGb3JjZVByZXZlbnREZWZhdWx0JiYhZ3x8cFswXS5pc0NvbnRlbnRFZGl0YWJsZXx8ZC5wcmV2ZW50RGVmYXVsdCgpfXQuZW1pdChcInRvdWNoU3RhcnRcIixkKX19fWZ1bmN0aW9uIEQoZSl7dmFyIHQ9cigpLGE9dGhpcyxpPWEudG91Y2hFdmVudHNEYXRhLHM9YS5wYXJhbXMsbj1hLnRvdWNoZXMsbz1hLnJ0bFRyYW5zbGF0ZSxsPWU7aWYobC5vcmlnaW5hbEV2ZW50JiYobD1sLm9yaWdpbmFsRXZlbnQpLGkuaXNUb3VjaGVkKXtpZighaS5pc1RvdWNoRXZlbnR8fFwidG91Y2htb3ZlXCI9PT1sLnR5cGUpe3ZhciBkPVwidG91Y2htb3ZlXCI9PT1sLnR5cGUmJmwudGFyZ2V0VG91Y2hlcyYmKGwudGFyZ2V0VG91Y2hlc1swXXx8bC5jaGFuZ2VkVG91Y2hlc1swXSkscD1cInRvdWNobW92ZVwiPT09bC50eXBlP2QucGFnZVg6bC5wYWdlWCxjPVwidG91Y2htb3ZlXCI9PT1sLnR5cGU/ZC5wYWdlWTpsLnBhZ2VZO2lmKGwucHJldmVudGVkQnlOZXN0ZWRTd2lwZXIpcmV0dXJuIG4uc3RhcnRYPXAsdm9pZChuLnN0YXJ0WT1jKTtpZighYS5hbGxvd1RvdWNoTW92ZSlyZXR1cm4gYS5hbGxvd0NsaWNrPSExLHZvaWQoaS5pc1RvdWNoZWQmJihDKG4se3N0YXJ0WDpwLHN0YXJ0WTpjLGN1cnJlbnRYOnAsY3VycmVudFk6Y30pLGkudG91Y2hTdGFydFRpbWU9eCgpKSk7aWYoaS5pc1RvdWNoRXZlbnQmJnMudG91Y2hSZWxlYXNlT25FZGdlcyYmIXMubG9vcClpZihhLmlzVmVydGljYWwoKSl7aWYoYzxuLnN0YXJ0WSYmYS50cmFuc2xhdGU8PWEubWF4VHJhbnNsYXRlKCl8fGM+bi5zdGFydFkmJmEudHJhbnNsYXRlPj1hLm1pblRyYW5zbGF0ZSgpKXJldHVybiBpLmlzVG91Y2hlZD0hMSx2b2lkKGkuaXNNb3ZlZD0hMSl9ZWxzZSBpZihwPG4uc3RhcnRYJiZhLnRyYW5zbGF0ZTw9YS5tYXhUcmFuc2xhdGUoKXx8cD5uLnN0YXJ0WCYmYS50cmFuc2xhdGU+PWEubWluVHJhbnNsYXRlKCkpcmV0dXJuO2lmKGkuaXNUb3VjaEV2ZW50JiZ0LmFjdGl2ZUVsZW1lbnQmJmwudGFyZ2V0PT09dC5hY3RpdmVFbGVtZW50JiZtKGwudGFyZ2V0KS5pcyhpLmZvcm1FbGVtZW50cykpcmV0dXJuIGkuaXNNb3ZlZD0hMCx2b2lkKGEuYWxsb3dDbGljaz0hMSk7aWYoaS5hbGxvd1RvdWNoQ2FsbGJhY2tzJiZhLmVtaXQoXCJ0b3VjaE1vdmVcIixsKSwhKGwudGFyZ2V0VG91Y2hlcyYmbC50YXJnZXRUb3VjaGVzLmxlbmd0aD4xKSl7bi5jdXJyZW50WD1wLG4uY3VycmVudFk9Yzt2YXIgdT1uLmN1cnJlbnRYLW4uc3RhcnRYLGg9bi5jdXJyZW50WS1uLnN0YXJ0WTtpZighKGEucGFyYW1zLnRocmVzaG9sZCYmTWF0aC5zcXJ0KE1hdGgucG93KHUsMikrTWF0aC5wb3coaCwyKSk8YS5wYXJhbXMudGhyZXNob2xkKSl7dmFyIHY7aWYodm9pZCAwPT09aS5pc1Njcm9sbGluZylhLmlzSG9yaXpvbnRhbCgpJiZuLmN1cnJlbnRZPT09bi5zdGFydFl8fGEuaXNWZXJ0aWNhbCgpJiZuLmN1cnJlbnRYPT09bi5zdGFydFg/aS5pc1Njcm9sbGluZz0hMTp1KnUraCpoPj0yNSYmKHY9MTgwKk1hdGguYXRhbjIoTWF0aC5hYnMoaCksTWF0aC5hYnModSkpL01hdGguUEksaS5pc1Njcm9sbGluZz1hLmlzSG9yaXpvbnRhbCgpP3Y+cy50b3VjaEFuZ2xlOjkwLXY+cy50b3VjaEFuZ2xlKTtpZihpLmlzU2Nyb2xsaW5nJiZhLmVtaXQoXCJ0b3VjaE1vdmVPcHBvc2l0ZVwiLGwpLHZvaWQgMD09PWkuc3RhcnRNb3ZpbmcmJihuLmN1cnJlbnRYPT09bi5zdGFydFgmJm4uY3VycmVudFk9PT1uLnN0YXJ0WXx8KGkuc3RhcnRNb3Zpbmc9ITApKSxpLmlzU2Nyb2xsaW5nKWkuaXNUb3VjaGVkPSExO2Vsc2UgaWYoaS5zdGFydE1vdmluZyl7YS5hbGxvd0NsaWNrPSExLCFzLmNzc01vZGUmJmwuY2FuY2VsYWJsZSYmbC5wcmV2ZW50RGVmYXVsdCgpLHMudG91Y2hNb3ZlU3RvcFByb3BhZ2F0aW9uJiYhcy5uZXN0ZWQmJmwuc3RvcFByb3BhZ2F0aW9uKCksaS5pc01vdmVkfHwocy5sb29wJiZhLmxvb3BGaXgoKSxpLnN0YXJ0VHJhbnNsYXRlPWEuZ2V0VHJhbnNsYXRlKCksYS5zZXRUcmFuc2l0aW9uKDApLGEuYW5pbWF0aW5nJiZhLiR3cmFwcGVyRWwudHJpZ2dlcihcIndlYmtpdFRyYW5zaXRpb25FbmQgdHJhbnNpdGlvbmVuZFwiKSxpLmFsbG93TW9tZW50dW1Cb3VuY2U9ITEsIXMuZ3JhYkN1cnNvcnx8ITAhPT1hLmFsbG93U2xpZGVOZXh0JiYhMCE9PWEuYWxsb3dTbGlkZVByZXZ8fGEuc2V0R3JhYkN1cnNvcighMCksYS5lbWl0KFwic2xpZGVyRmlyc3RNb3ZlXCIsbCkpLGEuZW1pdChcInNsaWRlck1vdmVcIixsKSxpLmlzTW92ZWQ9ITA7dmFyIGY9YS5pc0hvcml6b250YWwoKT91Omg7bi5kaWZmPWYsZio9cy50b3VjaFJhdGlvLG8mJihmPS1mKSxhLnN3aXBlRGlyZWN0aW9uPWY+MD9cInByZXZcIjpcIm5leHRcIixpLmN1cnJlbnRUcmFuc2xhdGU9ZitpLnN0YXJ0VHJhbnNsYXRlO3ZhciBnPSEwLGI9cy5yZXNpc3RhbmNlUmF0aW87aWYocy50b3VjaFJlbGVhc2VPbkVkZ2VzJiYoYj0wKSxmPjAmJmkuY3VycmVudFRyYW5zbGF0ZT5hLm1pblRyYW5zbGF0ZSgpPyhnPSExLHMucmVzaXN0YW5jZSYmKGkuY3VycmVudFRyYW5zbGF0ZT1hLm1pblRyYW5zbGF0ZSgpLTErTWF0aC5wb3coLWEubWluVHJhbnNsYXRlKCkraS5zdGFydFRyYW5zbGF0ZStmLGIpKSk6ZjwwJiZpLmN1cnJlbnRUcmFuc2xhdGU8YS5tYXhUcmFuc2xhdGUoKSYmKGc9ITEscy5yZXNpc3RhbmNlJiYoaS5jdXJyZW50VHJhbnNsYXRlPWEubWF4VHJhbnNsYXRlKCkrMS1NYXRoLnBvdyhhLm1heFRyYW5zbGF0ZSgpLWkuc3RhcnRUcmFuc2xhdGUtZixiKSkpLGcmJihsLnByZXZlbnRlZEJ5TmVzdGVkU3dpcGVyPSEwKSwhYS5hbGxvd1NsaWRlTmV4dCYmXCJuZXh0XCI9PT1hLnN3aXBlRGlyZWN0aW9uJiZpLmN1cnJlbnRUcmFuc2xhdGU8aS5zdGFydFRyYW5zbGF0ZSYmKGkuY3VycmVudFRyYW5zbGF0ZT1pLnN0YXJ0VHJhbnNsYXRlKSwhYS5hbGxvd1NsaWRlUHJldiYmXCJwcmV2XCI9PT1hLnN3aXBlRGlyZWN0aW9uJiZpLmN1cnJlbnRUcmFuc2xhdGU+aS5zdGFydFRyYW5zbGF0ZSYmKGkuY3VycmVudFRyYW5zbGF0ZT1pLnN0YXJ0VHJhbnNsYXRlKSxhLmFsbG93U2xpZGVQcmV2fHxhLmFsbG93U2xpZGVOZXh0fHwoaS5jdXJyZW50VHJhbnNsYXRlPWkuc3RhcnRUcmFuc2xhdGUpLHMudGhyZXNob2xkPjApe2lmKCEoTWF0aC5hYnMoZik+cy50aHJlc2hvbGR8fGkuYWxsb3dUaHJlc2hvbGRNb3ZlKSlyZXR1cm4gdm9pZChpLmN1cnJlbnRUcmFuc2xhdGU9aS5zdGFydFRyYW5zbGF0ZSk7aWYoIWkuYWxsb3dUaHJlc2hvbGRNb3ZlKXJldHVybiBpLmFsbG93VGhyZXNob2xkTW92ZT0hMCxuLnN0YXJ0WD1uLmN1cnJlbnRYLG4uc3RhcnRZPW4uY3VycmVudFksaS5jdXJyZW50VHJhbnNsYXRlPWkuc3RhcnRUcmFuc2xhdGUsdm9pZChuLmRpZmY9YS5pc0hvcml6b250YWwoKT9uLmN1cnJlbnRYLW4uc3RhcnRYOm4uY3VycmVudFktbi5zdGFydFkpfXMuZm9sbG93RmluZ2VyJiYhcy5jc3NNb2RlJiYoKHMuZnJlZU1vZGV8fHMud2F0Y2hTbGlkZXNQcm9ncmVzc3x8cy53YXRjaFNsaWRlc1Zpc2liaWxpdHkpJiYoYS51cGRhdGVBY3RpdmVJbmRleCgpLGEudXBkYXRlU2xpZGVzQ2xhc3NlcygpKSxzLmZyZWVNb2RlJiYoMD09PWkudmVsb2NpdGllcy5sZW5ndGgmJmkudmVsb2NpdGllcy5wdXNoKHtwb3NpdGlvbjpuW2EuaXNIb3Jpem9udGFsKCk/XCJzdGFydFhcIjpcInN0YXJ0WVwiXSx0aW1lOmkudG91Y2hTdGFydFRpbWV9KSxpLnZlbG9jaXRpZXMucHVzaCh7cG9zaXRpb246blthLmlzSG9yaXpvbnRhbCgpP1wiY3VycmVudFhcIjpcImN1cnJlbnRZXCJdLHRpbWU6eCgpfSkpLGEudXBkYXRlUHJvZ3Jlc3MoaS5jdXJyZW50VHJhbnNsYXRlKSxhLnNldFRyYW5zbGF0ZShpLmN1cnJlbnRUcmFuc2xhdGUpKX19fX19ZWxzZSBpLnN0YXJ0TW92aW5nJiZpLmlzU2Nyb2xsaW5nJiZhLmVtaXQoXCJ0b3VjaE1vdmVPcHBvc2l0ZVwiLGwpfWZ1bmN0aW9uIE4oZSl7dmFyIHQ9dGhpcyxhPXQudG91Y2hFdmVudHNEYXRhLGk9dC5wYXJhbXMscz10LnRvdWNoZXMscj10LnJ0bFRyYW5zbGF0ZSxuPXQuJHdyYXBwZXJFbCxvPXQuc2xpZGVzR3JpZCxsPXQuc25hcEdyaWQsZD1lO2lmKGQub3JpZ2luYWxFdmVudCYmKGQ9ZC5vcmlnaW5hbEV2ZW50KSxhLmFsbG93VG91Y2hDYWxsYmFja3MmJnQuZW1pdChcInRvdWNoRW5kXCIsZCksYS5hbGxvd1RvdWNoQ2FsbGJhY2tzPSExLCFhLmlzVG91Y2hlZClyZXR1cm4gYS5pc01vdmVkJiZpLmdyYWJDdXJzb3ImJnQuc2V0R3JhYkN1cnNvcighMSksYS5pc01vdmVkPSExLHZvaWQoYS5zdGFydE1vdmluZz0hMSk7aS5ncmFiQ3Vyc29yJiZhLmlzTW92ZWQmJmEuaXNUb3VjaGVkJiYoITA9PT10LmFsbG93U2xpZGVOZXh0fHwhMD09PXQuYWxsb3dTbGlkZVByZXYpJiZ0LnNldEdyYWJDdXJzb3IoITEpO3ZhciBwLGM9eCgpLHU9Yy1hLnRvdWNoU3RhcnRUaW1lO2lmKHQuYWxsb3dDbGljayYmKHQudXBkYXRlQ2xpY2tlZFNsaWRlKGQpLHQuZW1pdChcInRhcCBjbGlja1wiLGQpLHU8MzAwJiZjLWEubGFzdENsaWNrVGltZTwzMDAmJnQuZW1pdChcImRvdWJsZVRhcCBkb3VibGVDbGlja1wiLGQpKSxhLmxhc3RDbGlja1RpbWU9eCgpLEUoKGZ1bmN0aW9uKCl7dC5kZXN0cm95ZWR8fCh0LmFsbG93Q2xpY2s9ITApfSkpLCFhLmlzVG91Y2hlZHx8IWEuaXNNb3ZlZHx8IXQuc3dpcGVEaXJlY3Rpb258fDA9PT1zLmRpZmZ8fGEuY3VycmVudFRyYW5zbGF0ZT09PWEuc3RhcnRUcmFuc2xhdGUpcmV0dXJuIGEuaXNUb3VjaGVkPSExLGEuaXNNb3ZlZD0hMSx2b2lkKGEuc3RhcnRNb3Zpbmc9ITEpO2lmKGEuaXNUb3VjaGVkPSExLGEuaXNNb3ZlZD0hMSxhLnN0YXJ0TW92aW5nPSExLHA9aS5mb2xsb3dGaW5nZXI/cj90LnRyYW5zbGF0ZTotdC50cmFuc2xhdGU6LWEuY3VycmVudFRyYW5zbGF0ZSwhaS5jc3NNb2RlKWlmKGkuZnJlZU1vZGUpe2lmKHA8LXQubWluVHJhbnNsYXRlKCkpcmV0dXJuIHZvaWQgdC5zbGlkZVRvKHQuYWN0aXZlSW5kZXgpO2lmKHA+LXQubWF4VHJhbnNsYXRlKCkpcmV0dXJuIHZvaWQodC5zbGlkZXMubGVuZ3RoPGwubGVuZ3RoP3Quc2xpZGVUbyhsLmxlbmd0aC0xKTp0LnNsaWRlVG8odC5zbGlkZXMubGVuZ3RoLTEpKTtpZihpLmZyZWVNb2RlTW9tZW50dW0pe2lmKGEudmVsb2NpdGllcy5sZW5ndGg+MSl7dmFyIGg9YS52ZWxvY2l0aWVzLnBvcCgpLHY9YS52ZWxvY2l0aWVzLnBvcCgpLGY9aC5wb3NpdGlvbi12LnBvc2l0aW9uLG09aC50aW1lLXYudGltZTt0LnZlbG9jaXR5PWYvbSx0LnZlbG9jaXR5Lz0yLE1hdGguYWJzKHQudmVsb2NpdHkpPGkuZnJlZU1vZGVNaW5pbXVtVmVsb2NpdHkmJih0LnZlbG9jaXR5PTApLChtPjE1MHx8eCgpLWgudGltZT4zMDApJiYodC52ZWxvY2l0eT0wKX1lbHNlIHQudmVsb2NpdHk9MDt0LnZlbG9jaXR5Kj1pLmZyZWVNb2RlTW9tZW50dW1WZWxvY2l0eVJhdGlvLGEudmVsb2NpdGllcy5sZW5ndGg9MDt2YXIgZz0xZTMqaS5mcmVlTW9kZU1vbWVudHVtUmF0aW8sYj10LnZlbG9jaXR5Kmcsdz10LnRyYW5zbGF0ZStiO3ImJih3PS13KTt2YXIgeSxULFM9ITEsQz0yMCpNYXRoLmFicyh0LnZlbG9jaXR5KSppLmZyZWVNb2RlTW9tZW50dW1Cb3VuY2VSYXRpbztpZih3PHQubWF4VHJhbnNsYXRlKCkpaS5mcmVlTW9kZU1vbWVudHVtQm91bmNlPyh3K3QubWF4VHJhbnNsYXRlKCk8LUMmJih3PXQubWF4VHJhbnNsYXRlKCktQykseT10Lm1heFRyYW5zbGF0ZSgpLFM9ITAsYS5hbGxvd01vbWVudHVtQm91bmNlPSEwKTp3PXQubWF4VHJhbnNsYXRlKCksaS5sb29wJiZpLmNlbnRlcmVkU2xpZGVzJiYoVD0hMCk7ZWxzZSBpZih3PnQubWluVHJhbnNsYXRlKCkpaS5mcmVlTW9kZU1vbWVudHVtQm91bmNlPyh3LXQubWluVHJhbnNsYXRlKCk+QyYmKHc9dC5taW5UcmFuc2xhdGUoKStDKSx5PXQubWluVHJhbnNsYXRlKCksUz0hMCxhLmFsbG93TW9tZW50dW1Cb3VuY2U9ITApOnc9dC5taW5UcmFuc2xhdGUoKSxpLmxvb3AmJmkuY2VudGVyZWRTbGlkZXMmJihUPSEwKTtlbHNlIGlmKGkuZnJlZU1vZGVTdGlja3kpe2Zvcih2YXIgTSx6PTA7ejxsLmxlbmd0aDt6Kz0xKWlmKGxbel0+LXcpe009ejticmVha313PS0odz1NYXRoLmFicyhsW01dLXcpPE1hdGguYWJzKGxbTS0xXS13KXx8XCJuZXh0XCI9PT10LnN3aXBlRGlyZWN0aW9uP2xbTV06bFtNLTFdKX1pZihUJiZ0Lm9uY2UoXCJ0cmFuc2l0aW9uRW5kXCIsKGZ1bmN0aW9uKCl7dC5sb29wRml4KCl9KSksMCE9PXQudmVsb2NpdHkpe2lmKGc9cj9NYXRoLmFicygoLXctdC50cmFuc2xhdGUpL3QudmVsb2NpdHkpOk1hdGguYWJzKCh3LXQudHJhbnNsYXRlKS90LnZlbG9jaXR5KSxpLmZyZWVNb2RlU3RpY2t5KXt2YXIgUD1NYXRoLmFicygocj8tdzp3KS10LnRyYW5zbGF0ZSksaz10LnNsaWRlc1NpemVzR3JpZFt0LmFjdGl2ZUluZGV4XTtnPVA8az9pLnNwZWVkOlA8MiprPzEuNSppLnNwZWVkOjIuNSppLnNwZWVkfX1lbHNlIGlmKGkuZnJlZU1vZGVTdGlja3kpcmV0dXJuIHZvaWQgdC5zbGlkZVRvQ2xvc2VzdCgpO2kuZnJlZU1vZGVNb21lbnR1bUJvdW5jZSYmUz8odC51cGRhdGVQcm9ncmVzcyh5KSx0LnNldFRyYW5zaXRpb24oZyksdC5zZXRUcmFuc2xhdGUodyksdC50cmFuc2l0aW9uU3RhcnQoITAsdC5zd2lwZURpcmVjdGlvbiksdC5hbmltYXRpbmc9ITAsbi50cmFuc2l0aW9uRW5kKChmdW5jdGlvbigpe3QmJiF0LmRlc3Ryb3llZCYmYS5hbGxvd01vbWVudHVtQm91bmNlJiYodC5lbWl0KFwibW9tZW50dW1Cb3VuY2VcIiksdC5zZXRUcmFuc2l0aW9uKGkuc3BlZWQpLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5zZXRUcmFuc2xhdGUoeSksbi50cmFuc2l0aW9uRW5kKChmdW5jdGlvbigpe3QmJiF0LmRlc3Ryb3llZCYmdC50cmFuc2l0aW9uRW5kKCl9KSl9KSwwKSl9KSkpOnQudmVsb2NpdHk/KHQudXBkYXRlUHJvZ3Jlc3ModyksdC5zZXRUcmFuc2l0aW9uKGcpLHQuc2V0VHJhbnNsYXRlKHcpLHQudHJhbnNpdGlvblN0YXJ0KCEwLHQuc3dpcGVEaXJlY3Rpb24pLHQuYW5pbWF0aW5nfHwodC5hbmltYXRpbmc9ITAsbi50cmFuc2l0aW9uRW5kKChmdW5jdGlvbigpe3QmJiF0LmRlc3Ryb3llZCYmdC50cmFuc2l0aW9uRW5kKCl9KSkpKToodC5lbWl0KFwiX2ZyZWVNb2RlTm9Nb21lbnR1bVJlbGVhc2VcIiksdC51cGRhdGVQcm9ncmVzcyh3KSksdC51cGRhdGVBY3RpdmVJbmRleCgpLHQudXBkYXRlU2xpZGVzQ2xhc3NlcygpfWVsc2V7aWYoaS5mcmVlTW9kZVN0aWNreSlyZXR1cm4gdm9pZCB0LnNsaWRlVG9DbG9zZXN0KCk7aS5mcmVlTW9kZSYmdC5lbWl0KFwiX2ZyZWVNb2RlTm9Nb21lbnR1bVJlbGVhc2VcIil9KCFpLmZyZWVNb2RlTW9tZW50dW18fHU+PWkubG9uZ1N3aXBlc01zKSYmKHQudXBkYXRlUHJvZ3Jlc3MoKSx0LnVwZGF0ZUFjdGl2ZUluZGV4KCksdC51cGRhdGVTbGlkZXNDbGFzc2VzKCkpfWVsc2V7Zm9yKHZhciBMPTAsJD10LnNsaWRlc1NpemVzR3JpZFswXSxJPTA7STxvLmxlbmd0aDtJKz1JPGkuc2xpZGVzUGVyR3JvdXBTa2lwPzE6aS5zbGlkZXNQZXJHcm91cCl7dmFyIE89STxpLnNsaWRlc1Blckdyb3VwU2tpcC0xPzE6aS5zbGlkZXNQZXJHcm91cDt2b2lkIDAhPT1vW0krT10/cD49b1tJXSYmcDxvW0krT10mJihMPUksJD1vW0krT10tb1tJXSk6cD49b1tJXSYmKEw9SSwkPW9bby5sZW5ndGgtMV0tb1tvLmxlbmd0aC0yXSl9dmFyIEE9KHAtb1tMXSkvJCxEPUw8aS5zbGlkZXNQZXJHcm91cFNraXAtMT8xOmkuc2xpZGVzUGVyR3JvdXA7aWYodT5pLmxvbmdTd2lwZXNNcyl7aWYoIWkubG9uZ1N3aXBlcylyZXR1cm4gdm9pZCB0LnNsaWRlVG8odC5hY3RpdmVJbmRleCk7XCJuZXh0XCI9PT10LnN3aXBlRGlyZWN0aW9uJiYoQT49aS5sb25nU3dpcGVzUmF0aW8/dC5zbGlkZVRvKEwrRCk6dC5zbGlkZVRvKEwpKSxcInByZXZcIj09PXQuc3dpcGVEaXJlY3Rpb24mJihBPjEtaS5sb25nU3dpcGVzUmF0aW8/dC5zbGlkZVRvKEwrRCk6dC5zbGlkZVRvKEwpKX1lbHNle2lmKCFpLnNob3J0U3dpcGVzKXJldHVybiB2b2lkIHQuc2xpZGVUbyh0LmFjdGl2ZUluZGV4KTt0Lm5hdmlnYXRpb24mJihkLnRhcmdldD09PXQubmF2aWdhdGlvbi5uZXh0RWx8fGQudGFyZ2V0PT09dC5uYXZpZ2F0aW9uLnByZXZFbCk/ZC50YXJnZXQ9PT10Lm5hdmlnYXRpb24ubmV4dEVsP3Quc2xpZGVUbyhMK0QpOnQuc2xpZGVUbyhMKTooXCJuZXh0XCI9PT10LnN3aXBlRGlyZWN0aW9uJiZ0LnNsaWRlVG8oTCtEKSxcInByZXZcIj09PXQuc3dpcGVEaXJlY3Rpb24mJnQuc2xpZGVUbyhMKSl9fX1mdW5jdGlvbiBHKCl7dmFyIGU9dGhpcyx0PWUucGFyYW1zLGE9ZS5lbDtpZighYXx8MCE9PWEub2Zmc2V0V2lkdGgpe3QuYnJlYWtwb2ludHMmJmUuc2V0QnJlYWtwb2ludCgpO3ZhciBpPWUuYWxsb3dTbGlkZU5leHQscz1lLmFsbG93U2xpZGVQcmV2LHI9ZS5zbmFwR3JpZDtlLmFsbG93U2xpZGVOZXh0PSEwLGUuYWxsb3dTbGlkZVByZXY9ITAsZS51cGRhdGVTaXplKCksZS51cGRhdGVTbGlkZXMoKSxlLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKSwoXCJhdXRvXCI9PT10LnNsaWRlc1BlclZpZXd8fHQuc2xpZGVzUGVyVmlldz4xKSYmZS5pc0VuZCYmIWUuaXNCZWdpbm5pbmcmJiFlLnBhcmFtcy5jZW50ZXJlZFNsaWRlcz9lLnNsaWRlVG8oZS5zbGlkZXMubGVuZ3RoLTEsMCwhMSwhMCk6ZS5zbGlkZVRvKGUuYWN0aXZlSW5kZXgsMCwhMSwhMCksZS5hdXRvcGxheSYmZS5hdXRvcGxheS5ydW5uaW5nJiZlLmF1dG9wbGF5LnBhdXNlZCYmZS5hdXRvcGxheS5ydW4oKSxlLmFsbG93U2xpZGVQcmV2PXMsZS5hbGxvd1NsaWRlTmV4dD1pLGUucGFyYW1zLndhdGNoT3ZlcmZsb3cmJnIhPT1lLnNuYXBHcmlkJiZlLmNoZWNrT3ZlcmZsb3coKX19ZnVuY3Rpb24gQihlKXt2YXIgdD10aGlzO3QuYWxsb3dDbGlja3x8KHQucGFyYW1zLnByZXZlbnRDbGlja3MmJmUucHJldmVudERlZmF1bHQoKSx0LnBhcmFtcy5wcmV2ZW50Q2xpY2tzUHJvcGFnYXRpb24mJnQuYW5pbWF0aW5nJiYoZS5zdG9wUHJvcGFnYXRpb24oKSxlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpKSl9ZnVuY3Rpb24gSCgpe3ZhciBlPXRoaXMsdD1lLndyYXBwZXJFbCxhPWUucnRsVHJhbnNsYXRlO2UucHJldmlvdXNUcmFuc2xhdGU9ZS50cmFuc2xhdGUsZS5pc0hvcml6b250YWwoKT9lLnRyYW5zbGF0ZT1hP3Quc2Nyb2xsV2lkdGgtdC5vZmZzZXRXaWR0aC10LnNjcm9sbExlZnQ6LXQuc2Nyb2xsTGVmdDplLnRyYW5zbGF0ZT0tdC5zY3JvbGxUb3AsLTA9PT1lLnRyYW5zbGF0ZSYmKGUudHJhbnNsYXRlPTApLGUudXBkYXRlQWN0aXZlSW5kZXgoKSxlLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTt2YXIgaT1lLm1heFRyYW5zbGF0ZSgpLWUubWluVHJhbnNsYXRlKCk7KDA9PT1pPzA6KGUudHJhbnNsYXRlLWUubWluVHJhbnNsYXRlKCkpL2kpIT09ZS5wcm9ncmVzcyYmZS51cGRhdGVQcm9ncmVzcyhhPy1lLnRyYW5zbGF0ZTplLnRyYW5zbGF0ZSksZS5lbWl0KFwic2V0VHJhbnNsYXRlXCIsZS50cmFuc2xhdGUsITEpfXZhciBYPSExO2Z1bmN0aW9uIFkoKXt9dmFyIFI9e2luaXQ6ITAsZGlyZWN0aW9uOlwiaG9yaXpvbnRhbFwiLHRvdWNoRXZlbnRzVGFyZ2V0OlwiY29udGFpbmVyXCIsaW5pdGlhbFNsaWRlOjAsc3BlZWQ6MzAwLGNzc01vZGU6ITEsdXBkYXRlT25XaW5kb3dSZXNpemU6ITAscmVzaXplT2JzZXJ2ZXI6ITEsbmVzdGVkOiExLHdpZHRoOm51bGwsaGVpZ2h0Om51bGwscHJldmVudEludGVyYWN0aW9uT25UcmFuc2l0aW9uOiExLHVzZXJBZ2VudDpudWxsLHVybDpudWxsLGVkZ2VTd2lwZURldGVjdGlvbjohMSxlZGdlU3dpcGVUaHJlc2hvbGQ6MjAsZnJlZU1vZGU6ITEsZnJlZU1vZGVNb21lbnR1bTohMCxmcmVlTW9kZU1vbWVudHVtUmF0aW86MSxmcmVlTW9kZU1vbWVudHVtQm91bmNlOiEwLGZyZWVNb2RlTW9tZW50dW1Cb3VuY2VSYXRpbzoxLGZyZWVNb2RlTW9tZW50dW1WZWxvY2l0eVJhdGlvOjEsZnJlZU1vZGVTdGlja3k6ITEsZnJlZU1vZGVNaW5pbXVtVmVsb2NpdHk6LjAyLGF1dG9IZWlnaHQ6ITEsc2V0V3JhcHBlclNpemU6ITEsdmlydHVhbFRyYW5zbGF0ZTohMSxlZmZlY3Q6XCJzbGlkZVwiLGJyZWFrcG9pbnRzOnZvaWQgMCxicmVha3BvaW50c0Jhc2U6XCJ3aW5kb3dcIixzcGFjZUJldHdlZW46MCxzbGlkZXNQZXJWaWV3OjEsc2xpZGVzUGVyQ29sdW1uOjEsc2xpZGVzUGVyQ29sdW1uRmlsbDpcImNvbHVtblwiLHNsaWRlc1Blckdyb3VwOjEsc2xpZGVzUGVyR3JvdXBTa2lwOjAsY2VudGVyZWRTbGlkZXM6ITEsY2VudGVyZWRTbGlkZXNCb3VuZHM6ITEsc2xpZGVzT2Zmc2V0QmVmb3JlOjAsc2xpZGVzT2Zmc2V0QWZ0ZXI6MCxub3JtYWxpemVTbGlkZUluZGV4OiEwLGNlbnRlckluc3VmZmljaWVudFNsaWRlczohMSx3YXRjaE92ZXJmbG93OiExLHJvdW5kTGVuZ3RoczohMSx0b3VjaFJhdGlvOjEsdG91Y2hBbmdsZTo0NSxzaW11bGF0ZVRvdWNoOiEwLHNob3J0U3dpcGVzOiEwLGxvbmdTd2lwZXM6ITAsbG9uZ1N3aXBlc1JhdGlvOi41LGxvbmdTd2lwZXNNczozMDAsZm9sbG93RmluZ2VyOiEwLGFsbG93VG91Y2hNb3ZlOiEwLHRocmVzaG9sZDowLHRvdWNoTW92ZVN0b3BQcm9wYWdhdGlvbjohMSx0b3VjaFN0YXJ0UHJldmVudERlZmF1bHQ6ITAsdG91Y2hTdGFydEZvcmNlUHJldmVudERlZmF1bHQ6ITEsdG91Y2hSZWxlYXNlT25FZGdlczohMSx1bmlxdWVOYXZFbGVtZW50czohMCxyZXNpc3RhbmNlOiEwLHJlc2lzdGFuY2VSYXRpbzouODUsd2F0Y2hTbGlkZXNQcm9ncmVzczohMSx3YXRjaFNsaWRlc1Zpc2liaWxpdHk6ITEsZ3JhYkN1cnNvcjohMSxwcmV2ZW50Q2xpY2tzOiEwLHByZXZlbnRDbGlja3NQcm9wYWdhdGlvbjohMCxzbGlkZVRvQ2xpY2tlZFNsaWRlOiExLHByZWxvYWRJbWFnZXM6ITAsdXBkYXRlT25JbWFnZXNSZWFkeTohMCxsb29wOiExLGxvb3BBZGRpdGlvbmFsU2xpZGVzOjAsbG9vcGVkU2xpZGVzOm51bGwsbG9vcEZpbGxHcm91cFdpdGhCbGFuazohMSxsb29wUHJldmVudHNTbGlkZTohMCxhbGxvd1NsaWRlUHJldjohMCxhbGxvd1NsaWRlTmV4dDohMCxzd2lwZUhhbmRsZXI6bnVsbCxub1N3aXBpbmc6ITAsbm9Td2lwaW5nQ2xhc3M6XCJzd2lwZXItbm8tc3dpcGluZ1wiLG5vU3dpcGluZ1NlbGVjdG9yOm51bGwscGFzc2l2ZUxpc3RlbmVyczohMCxjb250YWluZXJNb2RpZmllckNsYXNzOlwic3dpcGVyLWNvbnRhaW5lci1cIixzbGlkZUNsYXNzOlwic3dpcGVyLXNsaWRlXCIsc2xpZGVCbGFua0NsYXNzOlwic3dpcGVyLXNsaWRlLWludmlzaWJsZS1ibGFua1wiLHNsaWRlQWN0aXZlQ2xhc3M6XCJzd2lwZXItc2xpZGUtYWN0aXZlXCIsc2xpZGVEdXBsaWNhdGVBY3RpdmVDbGFzczpcInN3aXBlci1zbGlkZS1kdXBsaWNhdGUtYWN0aXZlXCIsc2xpZGVWaXNpYmxlQ2xhc3M6XCJzd2lwZXItc2xpZGUtdmlzaWJsZVwiLHNsaWRlRHVwbGljYXRlQ2xhc3M6XCJzd2lwZXItc2xpZGUtZHVwbGljYXRlXCIsc2xpZGVOZXh0Q2xhc3M6XCJzd2lwZXItc2xpZGUtbmV4dFwiLHNsaWRlRHVwbGljYXRlTmV4dENsYXNzOlwic3dpcGVyLXNsaWRlLWR1cGxpY2F0ZS1uZXh0XCIsc2xpZGVQcmV2Q2xhc3M6XCJzd2lwZXItc2xpZGUtcHJldlwiLHNsaWRlRHVwbGljYXRlUHJldkNsYXNzOlwic3dpcGVyLXNsaWRlLWR1cGxpY2F0ZS1wcmV2XCIsd3JhcHBlckNsYXNzOlwic3dpcGVyLXdyYXBwZXJcIixydW5DYWxsYmFja3NPbkluaXQ6ITAsX2VtaXRDbGFzc2VzOiExfSxWPXttb2R1bGFyOnt1c2VQYXJhbXM6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0Lm1vZHVsZXMmJk9iamVjdC5rZXlzKHQubW9kdWxlcykuZm9yRWFjaCgoZnVuY3Rpb24oYSl7dmFyIGk9dC5tb2R1bGVzW2FdO2kucGFyYW1zJiZDKGUsaS5wYXJhbXMpfSkpfSx1c2VNb2R1bGVzOmZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUmJihlPXt9KTt2YXIgdD10aGlzO3QubW9kdWxlcyYmT2JqZWN0LmtleXModC5tb2R1bGVzKS5mb3JFYWNoKChmdW5jdGlvbihhKXt2YXIgaT10Lm1vZHVsZXNbYV0scz1lW2FdfHx7fTtpLm9uJiZ0Lm9uJiZPYmplY3Qua2V5cyhpLm9uKS5mb3JFYWNoKChmdW5jdGlvbihlKXt0Lm9uKGUsaS5vbltlXSl9KSksaS5jcmVhdGUmJmkuY3JlYXRlLmJpbmQodCkocyl9KSl9fSxldmVudHNFbWl0dGVyOntvbjpmdW5jdGlvbihlLHQsYSl7dmFyIGk9dGhpcztpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXJldHVybiBpO3ZhciBzPWE/XCJ1bnNoaWZ0XCI6XCJwdXNoXCI7cmV0dXJuIGUuc3BsaXQoXCIgXCIpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2kuZXZlbnRzTGlzdGVuZXJzW2VdfHwoaS5ldmVudHNMaXN0ZW5lcnNbZV09W10pLGkuZXZlbnRzTGlzdGVuZXJzW2VdW3NdKHQpfSkpLGl9LG9uY2U6ZnVuY3Rpb24oZSx0LGEpe3ZhciBpPXRoaXM7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdClyZXR1cm4gaTtmdW5jdGlvbiBzKCl7aS5vZmYoZSxzKSxzLl9fZW1pdHRlclByb3h5JiZkZWxldGUgcy5fX2VtaXR0ZXJQcm94eTtmb3IodmFyIGE9YXJndW1lbnRzLmxlbmd0aCxyPW5ldyBBcnJheShhKSxuPTA7bjxhO24rKylyW25dPWFyZ3VtZW50c1tuXTt0LmFwcGx5KGkscil9cmV0dXJuIHMuX19lbWl0dGVyUHJveHk9dCxpLm9uKGUscyxhKX0sb25Bbnk6ZnVuY3Rpb24oZSx0KXt2YXIgYT10aGlzO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpcmV0dXJuIGE7dmFyIGk9dD9cInVuc2hpZnRcIjpcInB1c2hcIjtyZXR1cm4gYS5ldmVudHNBbnlMaXN0ZW5lcnMuaW5kZXhPZihlKTwwJiZhLmV2ZW50c0FueUxpc3RlbmVyc1tpXShlKSxhfSxvZmZBbnk6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZighdC5ldmVudHNBbnlMaXN0ZW5lcnMpcmV0dXJuIHQ7dmFyIGE9dC5ldmVudHNBbnlMaXN0ZW5lcnMuaW5kZXhPZihlKTtyZXR1cm4gYT49MCYmdC5ldmVudHNBbnlMaXN0ZW5lcnMuc3BsaWNlKGEsMSksdH0sb2ZmOmZ1bmN0aW9uKGUsdCl7dmFyIGE9dGhpcztyZXR1cm4gYS5ldmVudHNMaXN0ZW5lcnM/KGUuc3BsaXQoXCIgXCIpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZvaWQgMD09PXQ/YS5ldmVudHNMaXN0ZW5lcnNbZV09W106YS5ldmVudHNMaXN0ZW5lcnNbZV0mJmEuZXZlbnRzTGlzdGVuZXJzW2VdLmZvckVhY2goKGZ1bmN0aW9uKGkscyl7KGk9PT10fHxpLl9fZW1pdHRlclByb3h5JiZpLl9fZW1pdHRlclByb3h5PT09dCkmJmEuZXZlbnRzTGlzdGVuZXJzW2VdLnNwbGljZShzLDEpfSkpfSkpLGEpOmF9LGVtaXQ6ZnVuY3Rpb24oKXt2YXIgZSx0LGEsaT10aGlzO2lmKCFpLmV2ZW50c0xpc3RlbmVycylyZXR1cm4gaTtmb3IodmFyIHM9YXJndW1lbnRzLmxlbmd0aCxyPW5ldyBBcnJheShzKSxuPTA7bjxzO24rKylyW25dPWFyZ3VtZW50c1tuXTtcInN0cmluZ1wiPT10eXBlb2YgclswXXx8QXJyYXkuaXNBcnJheShyWzBdKT8oZT1yWzBdLHQ9ci5zbGljZSgxLHIubGVuZ3RoKSxhPWkpOihlPXJbMF0uZXZlbnRzLHQ9clswXS5kYXRhLGE9clswXS5jb250ZXh0fHxpKSx0LnVuc2hpZnQoYSk7dmFyIG89QXJyYXkuaXNBcnJheShlKT9lOmUuc3BsaXQoXCIgXCIpO3JldHVybiBvLmZvckVhY2goKGZ1bmN0aW9uKGUpe2kuZXZlbnRzQW55TGlzdGVuZXJzJiZpLmV2ZW50c0FueUxpc3RlbmVycy5sZW5ndGgmJmkuZXZlbnRzQW55TGlzdGVuZXJzLmZvckVhY2goKGZ1bmN0aW9uKGkpe2kuYXBwbHkoYSxbZV0uY29uY2F0KHQpKX0pKSxpLmV2ZW50c0xpc3RlbmVycyYmaS5ldmVudHNMaXN0ZW5lcnNbZV0mJmkuZXZlbnRzTGlzdGVuZXJzW2VdLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuYXBwbHkoYSx0KX0pKX0pKSxpfX0sdXBkYXRlOnt1cGRhdGVTaXplOmZ1bmN0aW9uKCl7dmFyIGUsdCxhPXRoaXMsaT1hLiRlbDtlPXZvaWQgMCE9PWEucGFyYW1zLndpZHRoJiZudWxsIT09YS5wYXJhbXMud2lkdGg/YS5wYXJhbXMud2lkdGg6aVswXS5jbGllbnRXaWR0aCx0PXZvaWQgMCE9PWEucGFyYW1zLmhlaWdodCYmbnVsbCE9PWEucGFyYW1zLmhlaWdodD9hLnBhcmFtcy5oZWlnaHQ6aVswXS5jbGllbnRIZWlnaHQsMD09PWUmJmEuaXNIb3Jpem9udGFsKCl8fDA9PT10JiZhLmlzVmVydGljYWwoKXx8KGU9ZS1wYXJzZUludChpLmNzcyhcInBhZGRpbmctbGVmdFwiKXx8MCwxMCktcGFyc2VJbnQoaS5jc3MoXCJwYWRkaW5nLXJpZ2h0XCIpfHwwLDEwKSx0PXQtcGFyc2VJbnQoaS5jc3MoXCJwYWRkaW5nLXRvcFwiKXx8MCwxMCktcGFyc2VJbnQoaS5jc3MoXCJwYWRkaW5nLWJvdHRvbVwiKXx8MCwxMCksTnVtYmVyLmlzTmFOKGUpJiYoZT0wKSxOdW1iZXIuaXNOYU4odCkmJih0PTApLEMoYSx7d2lkdGg6ZSxoZWlnaHQ6dCxzaXplOmEuaXNIb3Jpem9udGFsKCk/ZTp0fSkpfSx1cGRhdGVTbGlkZXM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9ZnVuY3Rpb24odCl7cmV0dXJuIGUuaXNIb3Jpem9udGFsKCk/dDp7d2lkdGg6XCJoZWlnaHRcIixcIm1hcmdpbi10b3BcIjpcIm1hcmdpbi1sZWZ0XCIsXCJtYXJnaW4tYm90dG9tIFwiOlwibWFyZ2luLXJpZ2h0XCIsXCJtYXJnaW4tbGVmdFwiOlwibWFyZ2luLXRvcFwiLFwibWFyZ2luLXJpZ2h0XCI6XCJtYXJnaW4tYm90dG9tXCIsXCJwYWRkaW5nLWxlZnRcIjpcInBhZGRpbmctdG9wXCIsXCJwYWRkaW5nLXJpZ2h0XCI6XCJwYWRkaW5nLWJvdHRvbVwiLG1hcmdpblJpZ2h0OlwibWFyZ2luQm90dG9tXCJ9W3RdfSxhPWZ1bmN0aW9uKGUsYSl7cmV0dXJuIHBhcnNlRmxvYXQoZS5nZXRQcm9wZXJ0eVZhbHVlKHQoYSkpfHwwKX0saT1lLnBhcmFtcyxzPWUuJHdyYXBwZXJFbCxyPWUuc2l6ZSxuPWUucnRsVHJhbnNsYXRlLG89ZS53cm9uZ1JUTCxsPWUudmlydHVhbCYmaS52aXJ0dWFsLmVuYWJsZWQsZD1sP2UudmlydHVhbC5zbGlkZXMubGVuZ3RoOmUuc2xpZGVzLmxlbmd0aCxwPXMuY2hpbGRyZW4oXCIuXCIrZS5wYXJhbXMuc2xpZGVDbGFzcyksYz1sP2UudmlydHVhbC5zbGlkZXMubGVuZ3RoOnAubGVuZ3RoLHU9W10saD1bXSx2PVtdLGY9aS5zbGlkZXNPZmZzZXRCZWZvcmU7XCJmdW5jdGlvblwiPT10eXBlb2YgZiYmKGY9aS5zbGlkZXNPZmZzZXRCZWZvcmUuY2FsbChlKSk7dmFyIG09aS5zbGlkZXNPZmZzZXRBZnRlcjtcImZ1bmN0aW9uXCI9PXR5cGVvZiBtJiYobT1pLnNsaWRlc09mZnNldEFmdGVyLmNhbGwoZSkpO3ZhciBnPWUuc25hcEdyaWQubGVuZ3RoLGI9ZS5zbGlkZXNHcmlkLmxlbmd0aCx3PWkuc3BhY2VCZXR3ZWVuLHk9LWYsRT0wLHg9MDtpZih2b2lkIDAhPT1yKXt2YXIgVCxTO1wic3RyaW5nXCI9PXR5cGVvZiB3JiZ3LmluZGV4T2YoXCIlXCIpPj0wJiYodz1wYXJzZUZsb2F0KHcucmVwbGFjZShcIiVcIixcIlwiKSkvMTAwKnIpLGUudmlydHVhbFNpemU9LXcsbj9wLmNzcyh7bWFyZ2luTGVmdDpcIlwiLG1hcmdpblRvcDpcIlwifSk6cC5jc3Moe21hcmdpblJpZ2h0OlwiXCIsbWFyZ2luQm90dG9tOlwiXCJ9KSxpLnNsaWRlc1BlckNvbHVtbj4xJiYoVD1NYXRoLmZsb29yKGMvaS5zbGlkZXNQZXJDb2x1bW4pPT09Yy9lLnBhcmFtcy5zbGlkZXNQZXJDb2x1bW4/YzpNYXRoLmNlaWwoYy9pLnNsaWRlc1BlckNvbHVtbikqaS5zbGlkZXNQZXJDb2x1bW4sXCJhdXRvXCIhPT1pLnNsaWRlc1BlclZpZXcmJlwicm93XCI9PT1pLnNsaWRlc1BlckNvbHVtbkZpbGwmJihUPU1hdGgubWF4KFQsaS5zbGlkZXNQZXJWaWV3Kmkuc2xpZGVzUGVyQ29sdW1uKSkpO2Zvcih2YXIgTSx6LFAsaz1pLnNsaWRlc1BlckNvbHVtbixMPVQvaywkPU1hdGguZmxvb3IoYy9pLnNsaWRlc1BlckNvbHVtbiksST0wO0k8YztJKz0xKXtTPTA7dmFyIE89cC5lcShJKTtpZihpLnNsaWRlc1BlckNvbHVtbj4xKXt2YXIgQT12b2lkIDAsRD12b2lkIDAsTj12b2lkIDA7aWYoXCJyb3dcIj09PWkuc2xpZGVzUGVyQ29sdW1uRmlsbCYmaS5zbGlkZXNQZXJHcm91cD4xKXt2YXIgRz1NYXRoLmZsb29yKEkvKGkuc2xpZGVzUGVyR3JvdXAqaS5zbGlkZXNQZXJDb2x1bW4pKSxCPUktaS5zbGlkZXNQZXJDb2x1bW4qaS5zbGlkZXNQZXJHcm91cCpHLEg9MD09PUc/aS5zbGlkZXNQZXJHcm91cDpNYXRoLm1pbihNYXRoLmNlaWwoKGMtRyprKmkuc2xpZGVzUGVyR3JvdXApL2spLGkuc2xpZGVzUGVyR3JvdXApO0E9KEQ9Qi0oTj1NYXRoLmZsb29yKEIvSCkpKkgrRyppLnNsaWRlc1Blckdyb3VwKStOKlQvayxPLmNzcyh7XCItd2Via2l0LWJveC1vcmRpbmFsLWdyb3VwXCI6QSxcIi1tb3otYm94LW9yZGluYWwtZ3JvdXBcIjpBLFwiLW1zLWZsZXgtb3JkZXJcIjpBLFwiLXdlYmtpdC1vcmRlclwiOkEsb3JkZXI6QX0pfWVsc2VcImNvbHVtblwiPT09aS5zbGlkZXNQZXJDb2x1bW5GaWxsPyhOPUktKEQ9TWF0aC5mbG9vcihJL2spKSprLChEPiR8fEQ9PT0kJiZOPT09ay0xKSYmKE4rPTEpPj1rJiYoTj0wLEQrPTEpKTpEPUktKE49TWF0aC5mbG9vcihJL0wpKSpMO08uY3NzKHQoXCJtYXJnaW4tdG9wXCIpLDAhPT1OJiZpLnNwYWNlQmV0d2VlbiYmaS5zcGFjZUJldHdlZW4rXCJweFwiKX1pZihcIm5vbmVcIiE9PU8uY3NzKFwiZGlzcGxheVwiKSl7aWYoXCJhdXRvXCI9PT1pLnNsaWRlc1BlclZpZXcpe3ZhciBYPWdldENvbXB1dGVkU3R5bGUoT1swXSksWT1PWzBdLnN0eWxlLnRyYW5zZm9ybSxSPU9bMF0uc3R5bGUud2Via2l0VHJhbnNmb3JtO2lmKFkmJihPWzBdLnN0eWxlLnRyYW5zZm9ybT1cIm5vbmVcIiksUiYmKE9bMF0uc3R5bGUud2Via2l0VHJhbnNmb3JtPVwibm9uZVwiKSxpLnJvdW5kTGVuZ3RocylTPWUuaXNIb3Jpem9udGFsKCk/Ty5vdXRlcldpZHRoKCEwKTpPLm91dGVySGVpZ2h0KCEwKTtlbHNle3ZhciBWPWEoWCxcIndpZHRoXCIpLFc9YShYLFwicGFkZGluZy1sZWZ0XCIpLEY9YShYLFwicGFkZGluZy1yaWdodFwiKSxfPWEoWCxcIm1hcmdpbi1sZWZ0XCIpLHE9YShYLFwibWFyZ2luLXJpZ2h0XCIpLGo9WC5nZXRQcm9wZXJ0eVZhbHVlKFwiYm94LXNpemluZ1wiKTtpZihqJiZcImJvcmRlci1ib3hcIj09PWopUz1WK18rcTtlbHNle3ZhciBVPU9bMF0sSz1VLmNsaWVudFdpZHRoO1M9VitXK0YrXytxKyhVLm9mZnNldFdpZHRoLUspfX1ZJiYoT1swXS5zdHlsZS50cmFuc2Zvcm09WSksUiYmKE9bMF0uc3R5bGUud2Via2l0VHJhbnNmb3JtPVIpLGkucm91bmRMZW5ndGhzJiYoUz1NYXRoLmZsb29yKFMpKX1lbHNlIFM9KHItKGkuc2xpZGVzUGVyVmlldy0xKSp3KS9pLnNsaWRlc1BlclZpZXcsaS5yb3VuZExlbmd0aHMmJihTPU1hdGguZmxvb3IoUykpLHBbSV0mJihwW0ldLnN0eWxlW3QoXCJ3aWR0aFwiKV09UytcInB4XCIpO3BbSV0mJihwW0ldLnN3aXBlclNsaWRlU2l6ZT1TKSx2LnB1c2goUyksaS5jZW50ZXJlZFNsaWRlcz8oeT15K1MvMitFLzIrdywwPT09RSYmMCE9PUkmJih5PXktci8yLXcpLDA9PT1JJiYoeT15LXIvMi13KSxNYXRoLmFicyh5KTwuMDAxJiYoeT0wKSxpLnJvdW5kTGVuZ3RocyYmKHk9TWF0aC5mbG9vcih5KSkseCVpLnNsaWRlc1Blckdyb3VwPT0wJiZ1LnB1c2goeSksaC5wdXNoKHkpKTooaS5yb3VuZExlbmd0aHMmJih5PU1hdGguZmxvb3IoeSkpLCh4LU1hdGgubWluKGUucGFyYW1zLnNsaWRlc1Blckdyb3VwU2tpcCx4KSklZS5wYXJhbXMuc2xpZGVzUGVyR3JvdXA9PTAmJnUucHVzaCh5KSxoLnB1c2goeSkseT15K1MrdyksZS52aXJ0dWFsU2l6ZSs9Uyt3LEU9Uyx4Kz0xfX1pZihlLnZpcnR1YWxTaXplPU1hdGgubWF4KGUudmlydHVhbFNpemUscikrbSxuJiZvJiYoXCJzbGlkZVwiPT09aS5lZmZlY3R8fFwiY292ZXJmbG93XCI9PT1pLmVmZmVjdCkmJnMuY3NzKHt3aWR0aDplLnZpcnR1YWxTaXplK2kuc3BhY2VCZXR3ZWVuK1wicHhcIn0pLGkuc2V0V3JhcHBlclNpemUpcy5jc3MoKCh6PXt9KVt0KFwid2lkdGhcIildPWUudmlydHVhbFNpemUraS5zcGFjZUJldHdlZW4rXCJweFwiLHopKTtpZihpLnNsaWRlc1BlckNvbHVtbj4xKWlmKGUudmlydHVhbFNpemU9KFMraS5zcGFjZUJldHdlZW4pKlQsZS52aXJ0dWFsU2l6ZT1NYXRoLmNlaWwoZS52aXJ0dWFsU2l6ZS9pLnNsaWRlc1BlckNvbHVtbiktaS5zcGFjZUJldHdlZW4scy5jc3MoKChQPXt9KVt0KFwid2lkdGhcIildPWUudmlydHVhbFNpemUraS5zcGFjZUJldHdlZW4rXCJweFwiLFApKSxpLmNlbnRlcmVkU2xpZGVzKXtNPVtdO2Zvcih2YXIgWj0wO1o8dS5sZW5ndGg7Wis9MSl7dmFyIEo9dVtaXTtpLnJvdW5kTGVuZ3RocyYmKEo9TWF0aC5mbG9vcihKKSksdVtaXTxlLnZpcnR1YWxTaXplK3VbMF0mJk0ucHVzaChKKX11PU19aWYoIWkuY2VudGVyZWRTbGlkZXMpe009W107Zm9yKHZhciBRPTA7UTx1Lmxlbmd0aDtRKz0xKXt2YXIgZWU9dVtRXTtpLnJvdW5kTGVuZ3RocyYmKGVlPU1hdGguZmxvb3IoZWUpKSx1W1FdPD1lLnZpcnR1YWxTaXplLXImJk0ucHVzaChlZSl9dT1NLE1hdGguZmxvb3IoZS52aXJ0dWFsU2l6ZS1yKS1NYXRoLmZsb29yKHVbdS5sZW5ndGgtMV0pPjEmJnUucHVzaChlLnZpcnR1YWxTaXplLXIpfWlmKDA9PT11Lmxlbmd0aCYmKHU9WzBdKSwwIT09aS5zcGFjZUJldHdlZW4pe3ZhciB0ZSxhZT1lLmlzSG9yaXpvbnRhbCgpJiZuP1wibWFyZ2luTGVmdFwiOnQoXCJtYXJnaW5SaWdodFwiKTtwLmZpbHRlcigoZnVuY3Rpb24oZSx0KXtyZXR1cm4haS5jc3NNb2RlfHx0IT09cC5sZW5ndGgtMX0pKS5jc3MoKCh0ZT17fSlbYWVdPXcrXCJweFwiLHRlKSl9aWYoaS5jZW50ZXJlZFNsaWRlcyYmaS5jZW50ZXJlZFNsaWRlc0JvdW5kcyl7dmFyIGllPTA7di5mb3JFYWNoKChmdW5jdGlvbihlKXtpZSs9ZSsoaS5zcGFjZUJldHdlZW4/aS5zcGFjZUJldHdlZW46MCl9KSk7dmFyIHNlPShpZS09aS5zcGFjZUJldHdlZW4pLXI7dT11Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGU8MD8tZjplPnNlP3NlK206ZX0pKX1pZihpLmNlbnRlckluc3VmZmljaWVudFNsaWRlcyl7dmFyIHJlPTA7aWYodi5mb3JFYWNoKChmdW5jdGlvbihlKXtyZSs9ZSsoaS5zcGFjZUJldHdlZW4/aS5zcGFjZUJldHdlZW46MCl9KSksKHJlLT1pLnNwYWNlQmV0d2Vlbik8cil7dmFyIG5lPShyLXJlKS8yO3UuZm9yRWFjaCgoZnVuY3Rpb24oZSx0KXt1W3RdPWUtbmV9KSksaC5mb3JFYWNoKChmdW5jdGlvbihlLHQpe2hbdF09ZStuZX0pKX19QyhlLHtzbGlkZXM6cCxzbmFwR3JpZDp1LHNsaWRlc0dyaWQ6aCxzbGlkZXNTaXplc0dyaWQ6dn0pLGMhPT1kJiZlLmVtaXQoXCJzbGlkZXNMZW5ndGhDaGFuZ2VcIiksdS5sZW5ndGghPT1nJiYoZS5wYXJhbXMud2F0Y2hPdmVyZmxvdyYmZS5jaGVja092ZXJmbG93KCksZS5lbWl0KFwic25hcEdyaWRMZW5ndGhDaGFuZ2VcIikpLGgubGVuZ3RoIT09YiYmZS5lbWl0KFwic2xpZGVzR3JpZExlbmd0aENoYW5nZVwiKSwoaS53YXRjaFNsaWRlc1Byb2dyZXNzfHxpLndhdGNoU2xpZGVzVmlzaWJpbGl0eSkmJmUudXBkYXRlU2xpZGVzT2Zmc2V0KCl9fSx1cGRhdGVBdXRvSGVpZ2h0OmZ1bmN0aW9uKGUpe3ZhciB0LGE9dGhpcyxpPVtdLHM9MDtpZihcIm51bWJlclwiPT10eXBlb2YgZT9hLnNldFRyYW5zaXRpb24oZSk6ITA9PT1lJiZhLnNldFRyYW5zaXRpb24oYS5wYXJhbXMuc3BlZWQpLFwiYXV0b1wiIT09YS5wYXJhbXMuc2xpZGVzUGVyVmlldyYmYS5wYXJhbXMuc2xpZGVzUGVyVmlldz4xKWlmKGEucGFyYW1zLmNlbnRlcmVkU2xpZGVzKWEudmlzaWJsZVNsaWRlcy5lYWNoKChmdW5jdGlvbihlKXtpLnB1c2goZSl9KSk7ZWxzZSBmb3IodD0wO3Q8TWF0aC5jZWlsKGEucGFyYW1zLnNsaWRlc1BlclZpZXcpO3QrPTEpe3ZhciByPWEuYWN0aXZlSW5kZXgrdDtpZihyPmEuc2xpZGVzLmxlbmd0aClicmVhaztpLnB1c2goYS5zbGlkZXMuZXEocilbMF0pfWVsc2UgaS5wdXNoKGEuc2xpZGVzLmVxKGEuYWN0aXZlSW5kZXgpWzBdKTtmb3IodD0wO3Q8aS5sZW5ndGg7dCs9MSlpZih2b2lkIDAhPT1pW3RdKXt2YXIgbj1pW3RdLm9mZnNldEhlaWdodDtzPW4+cz9uOnN9cyYmYS4kd3JhcHBlckVsLmNzcyhcImhlaWdodFwiLHMrXCJweFwiKX0sdXBkYXRlU2xpZGVzT2Zmc2V0OmZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuc2xpZGVzLHQ9MDt0PGUubGVuZ3RoO3QrPTEpZVt0XS5zd2lwZXJTbGlkZU9mZnNldD10aGlzLmlzSG9yaXpvbnRhbCgpP2VbdF0ub2Zmc2V0TGVmdDplW3RdLm9mZnNldFRvcH0sdXBkYXRlU2xpZGVzUHJvZ3Jlc3M6ZnVuY3Rpb24oZSl7dm9pZCAwPT09ZSYmKGU9dGhpcyYmdGhpcy50cmFuc2xhdGV8fDApO3ZhciB0PXRoaXMsYT10LnBhcmFtcyxpPXQuc2xpZGVzLHM9dC5ydGxUcmFuc2xhdGU7aWYoMCE9PWkubGVuZ3RoKXt2b2lkIDA9PT1pWzBdLnN3aXBlclNsaWRlT2Zmc2V0JiZ0LnVwZGF0ZVNsaWRlc09mZnNldCgpO3ZhciByPS1lO3MmJihyPWUpLGkucmVtb3ZlQ2xhc3MoYS5zbGlkZVZpc2libGVDbGFzcyksdC52aXNpYmxlU2xpZGVzSW5kZXhlcz1bXSx0LnZpc2libGVTbGlkZXM9W107Zm9yKHZhciBuPTA7bjxpLmxlbmd0aDtuKz0xKXt2YXIgbz1pW25dLGw9KHIrKGEuY2VudGVyZWRTbGlkZXM/dC5taW5UcmFuc2xhdGUoKTowKS1vLnN3aXBlclNsaWRlT2Zmc2V0KS8oby5zd2lwZXJTbGlkZVNpemUrYS5zcGFjZUJldHdlZW4pO2lmKGEud2F0Y2hTbGlkZXNWaXNpYmlsaXR5fHxhLmNlbnRlcmVkU2xpZGVzJiZhLmF1dG9IZWlnaHQpe3ZhciBkPS0oci1vLnN3aXBlclNsaWRlT2Zmc2V0KSxwPWQrdC5zbGlkZXNTaXplc0dyaWRbbl07KGQ+PTAmJmQ8dC5zaXplLTF8fHA+MSYmcDw9dC5zaXplfHxkPD0wJiZwPj10LnNpemUpJiYodC52aXNpYmxlU2xpZGVzLnB1c2gobyksdC52aXNpYmxlU2xpZGVzSW5kZXhlcy5wdXNoKG4pLGkuZXEobikuYWRkQ2xhc3MoYS5zbGlkZVZpc2libGVDbGFzcykpfW8ucHJvZ3Jlc3M9cz8tbDpsfXQudmlzaWJsZVNsaWRlcz1tKHQudmlzaWJsZVNsaWRlcyl9fSx1cGRhdGVQcm9ncmVzczpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKHZvaWQgMD09PWUpe3ZhciBhPXQucnRsVHJhbnNsYXRlPy0xOjE7ZT10JiZ0LnRyYW5zbGF0ZSYmdC50cmFuc2xhdGUqYXx8MH12YXIgaT10LnBhcmFtcyxzPXQubWF4VHJhbnNsYXRlKCktdC5taW5UcmFuc2xhdGUoKSxyPXQucHJvZ3Jlc3Msbj10LmlzQmVnaW5uaW5nLG89dC5pc0VuZCxsPW4sZD1vOzA9PT1zPyhyPTAsbj0hMCxvPSEwKToobj0ocj0oZS10Lm1pblRyYW5zbGF0ZSgpKS9zKTw9MCxvPXI+PTEpLEModCx7cHJvZ3Jlc3M6cixpc0JlZ2lubmluZzpuLGlzRW5kOm99KSwoaS53YXRjaFNsaWRlc1Byb2dyZXNzfHxpLndhdGNoU2xpZGVzVmlzaWJpbGl0eXx8aS5jZW50ZXJlZFNsaWRlcyYmaS5hdXRvSGVpZ2h0KSYmdC51cGRhdGVTbGlkZXNQcm9ncmVzcyhlKSxuJiYhbCYmdC5lbWl0KFwicmVhY2hCZWdpbm5pbmcgdG9FZGdlXCIpLG8mJiFkJiZ0LmVtaXQoXCJyZWFjaEVuZCB0b0VkZ2VcIiksKGwmJiFufHxkJiYhbykmJnQuZW1pdChcImZyb21FZGdlXCIpLHQuZW1pdChcInByb2dyZXNzXCIscil9LHVwZGF0ZVNsaWRlc0NsYXNzZXM6ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMsYT10LnNsaWRlcyxpPXQucGFyYW1zLHM9dC4kd3JhcHBlckVsLHI9dC5hY3RpdmVJbmRleCxuPXQucmVhbEluZGV4LG89dC52aXJ0dWFsJiZpLnZpcnR1YWwuZW5hYmxlZDthLnJlbW92ZUNsYXNzKGkuc2xpZGVBY3RpdmVDbGFzcytcIiBcIitpLnNsaWRlTmV4dENsYXNzK1wiIFwiK2kuc2xpZGVQcmV2Q2xhc3MrXCIgXCIraS5zbGlkZUR1cGxpY2F0ZUFjdGl2ZUNsYXNzK1wiIFwiK2kuc2xpZGVEdXBsaWNhdGVOZXh0Q2xhc3MrXCIgXCIraS5zbGlkZUR1cGxpY2F0ZVByZXZDbGFzcyksKGU9bz90LiR3cmFwcGVyRWwuZmluZChcIi5cIitpLnNsaWRlQ2xhc3MrJ1tkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cIicrcisnXCJdJyk6YS5lcShyKSkuYWRkQ2xhc3MoaS5zbGlkZUFjdGl2ZUNsYXNzKSxpLmxvb3AmJihlLmhhc0NsYXNzKGkuc2xpZGVEdXBsaWNhdGVDbGFzcyk/cy5jaGlsZHJlbihcIi5cIitpLnNsaWRlQ2xhc3MrXCI6bm90KC5cIitpLnNsaWRlRHVwbGljYXRlQ2xhc3MrJylbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XCInK24rJ1wiXScpLmFkZENsYXNzKGkuc2xpZGVEdXBsaWNhdGVBY3RpdmVDbGFzcyk6cy5jaGlsZHJlbihcIi5cIitpLnNsaWRlQ2xhc3MrXCIuXCIraS5zbGlkZUR1cGxpY2F0ZUNsYXNzKydbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XCInK24rJ1wiXScpLmFkZENsYXNzKGkuc2xpZGVEdXBsaWNhdGVBY3RpdmVDbGFzcykpO3ZhciBsPWUubmV4dEFsbChcIi5cIitpLnNsaWRlQ2xhc3MpLmVxKDApLmFkZENsYXNzKGkuc2xpZGVOZXh0Q2xhc3MpO2kubG9vcCYmMD09PWwubGVuZ3RoJiYobD1hLmVxKDApKS5hZGRDbGFzcyhpLnNsaWRlTmV4dENsYXNzKTt2YXIgZD1lLnByZXZBbGwoXCIuXCIraS5zbGlkZUNsYXNzKS5lcSgwKS5hZGRDbGFzcyhpLnNsaWRlUHJldkNsYXNzKTtpLmxvb3AmJjA9PT1kLmxlbmd0aCYmKGQ9YS5lcSgtMSkpLmFkZENsYXNzKGkuc2xpZGVQcmV2Q2xhc3MpLGkubG9vcCYmKGwuaGFzQ2xhc3MoaS5zbGlkZUR1cGxpY2F0ZUNsYXNzKT9zLmNoaWxkcmVuKFwiLlwiK2kuc2xpZGVDbGFzcytcIjpub3QoLlwiK2kuc2xpZGVEdXBsaWNhdGVDbGFzcysnKVtkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cIicrbC5hdHRyKFwiZGF0YS1zd2lwZXItc2xpZGUtaW5kZXhcIikrJ1wiXScpLmFkZENsYXNzKGkuc2xpZGVEdXBsaWNhdGVOZXh0Q2xhc3MpOnMuY2hpbGRyZW4oXCIuXCIraS5zbGlkZUNsYXNzK1wiLlwiK2kuc2xpZGVEdXBsaWNhdGVDbGFzcysnW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVwiJytsLmF0dHIoXCJkYXRhLXN3aXBlci1zbGlkZS1pbmRleFwiKSsnXCJdJykuYWRkQ2xhc3MoaS5zbGlkZUR1cGxpY2F0ZU5leHRDbGFzcyksZC5oYXNDbGFzcyhpLnNsaWRlRHVwbGljYXRlQ2xhc3MpP3MuY2hpbGRyZW4oXCIuXCIraS5zbGlkZUNsYXNzK1wiOm5vdCguXCIraS5zbGlkZUR1cGxpY2F0ZUNsYXNzKycpW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVwiJytkLmF0dHIoXCJkYXRhLXN3aXBlci1zbGlkZS1pbmRleFwiKSsnXCJdJykuYWRkQ2xhc3MoaS5zbGlkZUR1cGxpY2F0ZVByZXZDbGFzcyk6cy5jaGlsZHJlbihcIi5cIitpLnNsaWRlQ2xhc3MrXCIuXCIraS5zbGlkZUR1cGxpY2F0ZUNsYXNzKydbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XCInK2QuYXR0cihcImRhdGEtc3dpcGVyLXNsaWRlLWluZGV4XCIpKydcIl0nKS5hZGRDbGFzcyhpLnNsaWRlRHVwbGljYXRlUHJldkNsYXNzKSksdC5lbWl0U2xpZGVzQ2xhc3NlcygpfSx1cGRhdGVBY3RpdmVJbmRleDpmdW5jdGlvbihlKXt2YXIgdCxhPXRoaXMsaT1hLnJ0bFRyYW5zbGF0ZT9hLnRyYW5zbGF0ZTotYS50cmFuc2xhdGUscz1hLnNsaWRlc0dyaWQscj1hLnNuYXBHcmlkLG49YS5wYXJhbXMsbz1hLmFjdGl2ZUluZGV4LGw9YS5yZWFsSW5kZXgsZD1hLnNuYXBJbmRleCxwPWU7aWYodm9pZCAwPT09cCl7Zm9yKHZhciBjPTA7YzxzLmxlbmd0aDtjKz0xKXZvaWQgMCE9PXNbYysxXT9pPj1zW2NdJiZpPHNbYysxXS0oc1tjKzFdLXNbY10pLzI/cD1jOmk+PXNbY10mJmk8c1tjKzFdJiYocD1jKzEpOmk+PXNbY10mJihwPWMpO24ubm9ybWFsaXplU2xpZGVJbmRleCYmKHA8MHx8dm9pZCAwPT09cCkmJihwPTApfWlmKHIuaW5kZXhPZihpKT49MCl0PXIuaW5kZXhPZihpKTtlbHNle3ZhciB1PU1hdGgubWluKG4uc2xpZGVzUGVyR3JvdXBTa2lwLHApO3Q9dStNYXRoLmZsb29yKChwLXUpL24uc2xpZGVzUGVyR3JvdXApfWlmKHQ+PXIubGVuZ3RoJiYodD1yLmxlbmd0aC0xKSxwIT09byl7dmFyIGg9cGFyc2VJbnQoYS5zbGlkZXMuZXEocCkuYXR0cihcImRhdGEtc3dpcGVyLXNsaWRlLWluZGV4XCIpfHxwLDEwKTtDKGEse3NuYXBJbmRleDp0LHJlYWxJbmRleDpoLHByZXZpb3VzSW5kZXg6byxhY3RpdmVJbmRleDpwfSksYS5lbWl0KFwiYWN0aXZlSW5kZXhDaGFuZ2VcIiksYS5lbWl0KFwic25hcEluZGV4Q2hhbmdlXCIpLGwhPT1oJiZhLmVtaXQoXCJyZWFsSW5kZXhDaGFuZ2VcIiksKGEuaW5pdGlhbGl6ZWR8fGEucGFyYW1zLnJ1bkNhbGxiYWNrc09uSW5pdCkmJmEuZW1pdChcInNsaWRlQ2hhbmdlXCIpfWVsc2UgdCE9PWQmJihhLnNuYXBJbmRleD10LGEuZW1pdChcInNuYXBJbmRleENoYW5nZVwiKSl9LHVwZGF0ZUNsaWNrZWRTbGlkZTpmdW5jdGlvbihlKXt2YXIgdCxhPXRoaXMsaT1hLnBhcmFtcyxzPW0oZS50YXJnZXQpLmNsb3Nlc3QoXCIuXCIraS5zbGlkZUNsYXNzKVswXSxyPSExO2lmKHMpZm9yKHZhciBuPTA7bjxhLnNsaWRlcy5sZW5ndGg7bis9MSlpZihhLnNsaWRlc1tuXT09PXMpe3I9ITAsdD1uO2JyZWFrfWlmKCFzfHwhcilyZXR1cm4gYS5jbGlja2VkU2xpZGU9dm9pZCAwLHZvaWQoYS5jbGlja2VkSW5kZXg9dm9pZCAwKTthLmNsaWNrZWRTbGlkZT1zLGEudmlydHVhbCYmYS5wYXJhbXMudmlydHVhbC5lbmFibGVkP2EuY2xpY2tlZEluZGV4PXBhcnNlSW50KG0ocykuYXR0cihcImRhdGEtc3dpcGVyLXNsaWRlLWluZGV4XCIpLDEwKTphLmNsaWNrZWRJbmRleD10LGkuc2xpZGVUb0NsaWNrZWRTbGlkZSYmdm9pZCAwIT09YS5jbGlja2VkSW5kZXgmJmEuY2xpY2tlZEluZGV4IT09YS5hY3RpdmVJbmRleCYmYS5zbGlkZVRvQ2xpY2tlZFNsaWRlKCl9fSx0cmFuc2xhdGU6e2dldFRyYW5zbGF0ZTpmdW5jdGlvbihlKXt2b2lkIDA9PT1lJiYoZT10aGlzLmlzSG9yaXpvbnRhbCgpP1wieFwiOlwieVwiKTt2YXIgdD10aGlzLGE9dC5wYXJhbXMsaT10LnJ0bFRyYW5zbGF0ZSxzPXQudHJhbnNsYXRlLHI9dC4kd3JhcHBlckVsO2lmKGEudmlydHVhbFRyYW5zbGF0ZSlyZXR1cm4gaT8tczpzO2lmKGEuY3NzTW9kZSlyZXR1cm4gczt2YXIgbj1UKHJbMF0sZSk7cmV0dXJuIGkmJihuPS1uKSxufHwwfSxzZXRUcmFuc2xhdGU6ZnVuY3Rpb24oZSx0KXt2YXIgYT10aGlzLGk9YS5ydGxUcmFuc2xhdGUscz1hLnBhcmFtcyxyPWEuJHdyYXBwZXJFbCxuPWEud3JhcHBlckVsLG89YS5wcm9ncmVzcyxsPTAsZD0wO2EuaXNIb3Jpem9udGFsKCk/bD1pPy1lOmU6ZD1lLHMucm91bmRMZW5ndGhzJiYobD1NYXRoLmZsb29yKGwpLGQ9TWF0aC5mbG9vcihkKSkscy5jc3NNb2RlP25bYS5pc0hvcml6b250YWwoKT9cInNjcm9sbExlZnRcIjpcInNjcm9sbFRvcFwiXT1hLmlzSG9yaXpvbnRhbCgpPy1sOi1kOnMudmlydHVhbFRyYW5zbGF0ZXx8ci50cmFuc2Zvcm0oXCJ0cmFuc2xhdGUzZChcIitsK1wicHgsIFwiK2QrXCJweCwgMHB4KVwiKSxhLnByZXZpb3VzVHJhbnNsYXRlPWEudHJhbnNsYXRlLGEudHJhbnNsYXRlPWEuaXNIb3Jpem9udGFsKCk/bDpkO3ZhciBwPWEubWF4VHJhbnNsYXRlKCktYS5taW5UcmFuc2xhdGUoKTsoMD09PXA/MDooZS1hLm1pblRyYW5zbGF0ZSgpKS9wKSE9PW8mJmEudXBkYXRlUHJvZ3Jlc3MoZSksYS5lbWl0KFwic2V0VHJhbnNsYXRlXCIsYS50cmFuc2xhdGUsdCl9LG1pblRyYW5zbGF0ZTpmdW5jdGlvbigpe3JldHVybi10aGlzLnNuYXBHcmlkWzBdfSxtYXhUcmFuc2xhdGU6ZnVuY3Rpb24oKXtyZXR1cm4tdGhpcy5zbmFwR3JpZFt0aGlzLnNuYXBHcmlkLmxlbmd0aC0xXX0sdHJhbnNsYXRlVG86ZnVuY3Rpb24oZSx0LGEsaSxzKXt2b2lkIDA9PT1lJiYoZT0wKSx2b2lkIDA9PT10JiYodD10aGlzLnBhcmFtcy5zcGVlZCksdm9pZCAwPT09YSYmKGE9ITApLHZvaWQgMD09PWkmJihpPSEwKTt2YXIgcj10aGlzLG49ci5wYXJhbXMsbz1yLndyYXBwZXJFbDtpZihyLmFuaW1hdGluZyYmbi5wcmV2ZW50SW50ZXJhY3Rpb25PblRyYW5zaXRpb24pcmV0dXJuITE7dmFyIGwsZD1yLm1pblRyYW5zbGF0ZSgpLHA9ci5tYXhUcmFuc2xhdGUoKTtpZihsPWkmJmU+ZD9kOmkmJmU8cD9wOmUsci51cGRhdGVQcm9ncmVzcyhsKSxuLmNzc01vZGUpe3ZhciBjLHU9ci5pc0hvcml6b250YWwoKTtpZigwPT09dClvW3U/XCJzY3JvbGxMZWZ0XCI6XCJzY3JvbGxUb3BcIl09LWw7ZWxzZSBpZihvLnNjcm9sbFRvKW8uc2Nyb2xsVG8oKChjPXt9KVt1P1wibGVmdFwiOlwidG9wXCJdPS1sLGMuYmVoYXZpb3I9XCJzbW9vdGhcIixjKSk7ZWxzZSBvW3U/XCJzY3JvbGxMZWZ0XCI6XCJzY3JvbGxUb3BcIl09LWw7cmV0dXJuITB9cmV0dXJuIDA9PT10PyhyLnNldFRyYW5zaXRpb24oMCksci5zZXRUcmFuc2xhdGUobCksYSYmKHIuZW1pdChcImJlZm9yZVRyYW5zaXRpb25TdGFydFwiLHQscyksci5lbWl0KFwidHJhbnNpdGlvbkVuZFwiKSkpOihyLnNldFRyYW5zaXRpb24odCksci5zZXRUcmFuc2xhdGUobCksYSYmKHIuZW1pdChcImJlZm9yZVRyYW5zaXRpb25TdGFydFwiLHQscyksci5lbWl0KFwidHJhbnNpdGlvblN0YXJ0XCIpKSxyLmFuaW1hdGluZ3x8KHIuYW5pbWF0aW5nPSEwLHIub25UcmFuc2xhdGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kfHwoci5vblRyYW5zbGF0ZVRvV3JhcHBlclRyYW5zaXRpb25FbmQ9ZnVuY3Rpb24oZSl7ciYmIXIuZGVzdHJveWVkJiZlLnRhcmdldD09PXRoaXMmJihyLiR3cmFwcGVyRWxbMF0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRyYW5zaXRpb25lbmRcIixyLm9uVHJhbnNsYXRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCksci4kd3JhcHBlckVsWzBdLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ3ZWJraXRUcmFuc2l0aW9uRW5kXCIsci5vblRyYW5zbGF0ZVRvV3JhcHBlclRyYW5zaXRpb25FbmQpLHIub25UcmFuc2xhdGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kPW51bGwsZGVsZXRlIHIub25UcmFuc2xhdGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kLGEmJnIuZW1pdChcInRyYW5zaXRpb25FbmRcIikpfSksci4kd3JhcHBlckVsWzBdLmFkZEV2ZW50TGlzdGVuZXIoXCJ0cmFuc2l0aW9uZW5kXCIsci5vblRyYW5zbGF0ZVRvV3JhcHBlclRyYW5zaXRpb25FbmQpLHIuJHdyYXBwZXJFbFswXS5hZGRFdmVudExpc3RlbmVyKFwid2Via2l0VHJhbnNpdGlvbkVuZFwiLHIub25UcmFuc2xhdGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kKSkpLCEwfX0sdHJhbnNpdGlvbjp7c2V0VHJhbnNpdGlvbjpmdW5jdGlvbihlLHQpe3ZhciBhPXRoaXM7YS5wYXJhbXMuY3NzTW9kZXx8YS4kd3JhcHBlckVsLnRyYW5zaXRpb24oZSksYS5lbWl0KFwic2V0VHJhbnNpdGlvblwiLGUsdCl9LHRyYW5zaXRpb25TdGFydDpmdW5jdGlvbihlLHQpe3ZvaWQgMD09PWUmJihlPSEwKTt2YXIgYT10aGlzLGk9YS5hY3RpdmVJbmRleCxzPWEucGFyYW1zLHI9YS5wcmV2aW91c0luZGV4O2lmKCFzLmNzc01vZGUpe3MuYXV0b0hlaWdodCYmYS51cGRhdGVBdXRvSGVpZ2h0KCk7dmFyIG49dDtpZihufHwobj1pPnI/XCJuZXh0XCI6aTxyP1wicHJldlwiOlwicmVzZXRcIiksYS5lbWl0KFwidHJhbnNpdGlvblN0YXJ0XCIpLGUmJmkhPT1yKXtpZihcInJlc2V0XCI9PT1uKXJldHVybiB2b2lkIGEuZW1pdChcInNsaWRlUmVzZXRUcmFuc2l0aW9uU3RhcnRcIik7YS5lbWl0KFwic2xpZGVDaGFuZ2VUcmFuc2l0aW9uU3RhcnRcIiksXCJuZXh0XCI9PT1uP2EuZW1pdChcInNsaWRlTmV4dFRyYW5zaXRpb25TdGFydFwiKTphLmVtaXQoXCJzbGlkZVByZXZUcmFuc2l0aW9uU3RhcnRcIil9fX0sdHJhbnNpdGlvbkVuZDpmdW5jdGlvbihlLHQpe3ZvaWQgMD09PWUmJihlPSEwKTt2YXIgYT10aGlzLGk9YS5hY3RpdmVJbmRleCxzPWEucHJldmlvdXNJbmRleCxyPWEucGFyYW1zO2lmKGEuYW5pbWF0aW5nPSExLCFyLmNzc01vZGUpe2Euc2V0VHJhbnNpdGlvbigwKTt2YXIgbj10O2lmKG58fChuPWk+cz9cIm5leHRcIjppPHM/XCJwcmV2XCI6XCJyZXNldFwiKSxhLmVtaXQoXCJ0cmFuc2l0aW9uRW5kXCIpLGUmJmkhPT1zKXtpZihcInJlc2V0XCI9PT1uKXJldHVybiB2b2lkIGEuZW1pdChcInNsaWRlUmVzZXRUcmFuc2l0aW9uRW5kXCIpO2EuZW1pdChcInNsaWRlQ2hhbmdlVHJhbnNpdGlvbkVuZFwiKSxcIm5leHRcIj09PW4/YS5lbWl0KFwic2xpZGVOZXh0VHJhbnNpdGlvbkVuZFwiKTphLmVtaXQoXCJzbGlkZVByZXZUcmFuc2l0aW9uRW5kXCIpfX19fSxzbGlkZTp7c2xpZGVUbzpmdW5jdGlvbihlLHQsYSxpKXtpZih2b2lkIDA9PT1lJiYoZT0wKSx2b2lkIDA9PT10JiYodD10aGlzLnBhcmFtcy5zcGVlZCksdm9pZCAwPT09YSYmKGE9ITApLFwibnVtYmVyXCIhPXR5cGVvZiBlJiZcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgJ2luZGV4JyBhcmd1bWVudCBjYW5ub3QgaGF2ZSB0eXBlIG90aGVyIHRoYW4gJ251bWJlcicgb3IgJ3N0cmluZycuIFtcIit0eXBlb2YgZStcIl0gZ2l2ZW4uXCIpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXt2YXIgcz1wYXJzZUludChlLDEwKTtpZighaXNGaW5pdGUocykpdGhyb3cgbmV3IEVycm9yKFwiVGhlIHBhc3NlZC1pbiAnaW5kZXgnIChzdHJpbmcpIGNvdWxkbid0IGJlIGNvbnZlcnRlZCB0byAnbnVtYmVyJy4gW1wiK2UrXCJdIGdpdmVuLlwiKTtlPXN9dmFyIHI9dGhpcyxuPWU7bjwwJiYobj0wKTt2YXIgbz1yLnBhcmFtcyxsPXIuc25hcEdyaWQsZD1yLnNsaWRlc0dyaWQscD1yLnByZXZpb3VzSW5kZXgsYz1yLmFjdGl2ZUluZGV4LHU9ci5ydGxUcmFuc2xhdGUsaD1yLndyYXBwZXJFbDtpZihyLmFuaW1hdGluZyYmby5wcmV2ZW50SW50ZXJhY3Rpb25PblRyYW5zaXRpb24pcmV0dXJuITE7dmFyIHY9TWF0aC5taW4oci5wYXJhbXMuc2xpZGVzUGVyR3JvdXBTa2lwLG4pLGY9ditNYXRoLmZsb29yKChuLXYpL3IucGFyYW1zLnNsaWRlc1Blckdyb3VwKTtmPj1sLmxlbmd0aCYmKGY9bC5sZW5ndGgtMSksKGN8fG8uaW5pdGlhbFNsaWRlfHwwKT09PShwfHwwKSYmYSYmci5lbWl0KFwiYmVmb3JlU2xpZGVDaGFuZ2VTdGFydFwiKTt2YXIgbSxnPS1sW2ZdO2lmKHIudXBkYXRlUHJvZ3Jlc3MoZyksby5ub3JtYWxpemVTbGlkZUluZGV4KWZvcih2YXIgYj0wO2I8ZC5sZW5ndGg7Yis9MSl7dmFyIHc9LU1hdGguZmxvb3IoMTAwKmcpLHk9TWF0aC5mbG9vcigxMDAqZFtiXSksRT1NYXRoLmZsb29yKDEwMCpkW2IrMV0pO3ZvaWQgMCE9PWRbYisxXT93Pj15JiZ3PEUtKEUteSkvMj9uPWI6dz49eSYmdzxFJiYobj1iKzEpOnc+PXkmJihuPWIpfWlmKHIuaW5pdGlhbGl6ZWQmJm4hPT1jKXtpZighci5hbGxvd1NsaWRlTmV4dCYmZzxyLnRyYW5zbGF0ZSYmZzxyLm1pblRyYW5zbGF0ZSgpKXJldHVybiExO2lmKCFyLmFsbG93U2xpZGVQcmV2JiZnPnIudHJhbnNsYXRlJiZnPnIubWF4VHJhbnNsYXRlKCkmJihjfHwwKSE9PW4pcmV0dXJuITF9aWYobT1uPmM/XCJuZXh0XCI6bjxjP1wicHJldlwiOlwicmVzZXRcIix1JiYtZz09PXIudHJhbnNsYXRlfHwhdSYmZz09PXIudHJhbnNsYXRlKXJldHVybiByLnVwZGF0ZUFjdGl2ZUluZGV4KG4pLG8uYXV0b0hlaWdodCYmci51cGRhdGVBdXRvSGVpZ2h0KCksci51cGRhdGVTbGlkZXNDbGFzc2VzKCksXCJzbGlkZVwiIT09by5lZmZlY3QmJnIuc2V0VHJhbnNsYXRlKGcpLFwicmVzZXRcIiE9PW0mJihyLnRyYW5zaXRpb25TdGFydChhLG0pLHIudHJhbnNpdGlvbkVuZChhLG0pKSwhMTtpZihvLmNzc01vZGUpe3ZhciB4LFQ9ci5pc0hvcml6b250YWwoKSxTPS1nO2lmKHUmJihTPWguc2Nyb2xsV2lkdGgtaC5vZmZzZXRXaWR0aC1TKSwwPT09dCloW1Q/XCJzY3JvbGxMZWZ0XCI6XCJzY3JvbGxUb3BcIl09UztlbHNlIGlmKGguc2Nyb2xsVG8paC5zY3JvbGxUbygoKHg9e30pW1Q/XCJsZWZ0XCI6XCJ0b3BcIl09Uyx4LmJlaGF2aW9yPVwic21vb3RoXCIseCkpO2Vsc2UgaFtUP1wic2Nyb2xsTGVmdFwiOlwic2Nyb2xsVG9wXCJdPVM7cmV0dXJuITB9cmV0dXJuIDA9PT10PyhyLnNldFRyYW5zaXRpb24oMCksci5zZXRUcmFuc2xhdGUoZyksci51cGRhdGVBY3RpdmVJbmRleChuKSxyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKSxyLmVtaXQoXCJiZWZvcmVUcmFuc2l0aW9uU3RhcnRcIix0LGkpLHIudHJhbnNpdGlvblN0YXJ0KGEsbSksci50cmFuc2l0aW9uRW5kKGEsbSkpOihyLnNldFRyYW5zaXRpb24odCksci5zZXRUcmFuc2xhdGUoZyksci51cGRhdGVBY3RpdmVJbmRleChuKSxyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKSxyLmVtaXQoXCJiZWZvcmVUcmFuc2l0aW9uU3RhcnRcIix0LGkpLHIudHJhbnNpdGlvblN0YXJ0KGEsbSksci5hbmltYXRpbmd8fChyLmFuaW1hdGluZz0hMCxyLm9uU2xpZGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kfHwoci5vblNsaWRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZD1mdW5jdGlvbihlKXtyJiYhci5kZXN0cm95ZWQmJmUudGFyZ2V0PT09dGhpcyYmKHIuJHdyYXBwZXJFbFswXS5yZW1vdmVFdmVudExpc3RlbmVyKFwidHJhbnNpdGlvbmVuZFwiLHIub25TbGlkZVRvV3JhcHBlclRyYW5zaXRpb25FbmQpLHIuJHdyYXBwZXJFbFswXS5yZW1vdmVFdmVudExpc3RlbmVyKFwid2Via2l0VHJhbnNpdGlvbkVuZFwiLHIub25TbGlkZVRvV3JhcHBlclRyYW5zaXRpb25FbmQpLHIub25TbGlkZVRvV3JhcHBlclRyYW5zaXRpb25FbmQ9bnVsbCxkZWxldGUgci5vblNsaWRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCxyLnRyYW5zaXRpb25FbmQoYSxtKSl9KSxyLiR3cmFwcGVyRWxbMF0uYWRkRXZlbnRMaXN0ZW5lcihcInRyYW5zaXRpb25lbmRcIixyLm9uU2xpZGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kKSxyLiR3cmFwcGVyRWxbMF0uYWRkRXZlbnRMaXN0ZW5lcihcIndlYmtpdFRyYW5zaXRpb25FbmRcIixyLm9uU2xpZGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kKSkpLCEwfSxzbGlkZVRvTG9vcDpmdW5jdGlvbihlLHQsYSxpKXt2b2lkIDA9PT1lJiYoZT0wKSx2b2lkIDA9PT10JiYodD10aGlzLnBhcmFtcy5zcGVlZCksdm9pZCAwPT09YSYmKGE9ITApO3ZhciBzPXRoaXMscj1lO3JldHVybiBzLnBhcmFtcy5sb29wJiYocis9cy5sb29wZWRTbGlkZXMpLHMuc2xpZGVUbyhyLHQsYSxpKX0sc2xpZGVOZXh0OmZ1bmN0aW9uKGUsdCxhKXt2b2lkIDA9PT1lJiYoZT10aGlzLnBhcmFtcy5zcGVlZCksdm9pZCAwPT09dCYmKHQ9ITApO3ZhciBpPXRoaXMscz1pLnBhcmFtcyxyPWkuYW5pbWF0aW5nLG49aS5hY3RpdmVJbmRleDxzLnNsaWRlc1Blckdyb3VwU2tpcD8xOnMuc2xpZGVzUGVyR3JvdXA7aWYocy5sb29wKXtpZihyJiZzLmxvb3BQcmV2ZW50c1NsaWRlKXJldHVybiExO2kubG9vcEZpeCgpLGkuX2NsaWVudExlZnQ9aS4kd3JhcHBlckVsWzBdLmNsaWVudExlZnR9cmV0dXJuIGkuc2xpZGVUbyhpLmFjdGl2ZUluZGV4K24sZSx0LGEpfSxzbGlkZVByZXY6ZnVuY3Rpb24oZSx0LGEpe3ZvaWQgMD09PWUmJihlPXRoaXMucGFyYW1zLnNwZWVkKSx2b2lkIDA9PT10JiYodD0hMCk7dmFyIGk9dGhpcyxzPWkucGFyYW1zLHI9aS5hbmltYXRpbmcsbj1pLnNuYXBHcmlkLG89aS5zbGlkZXNHcmlkLGw9aS5ydGxUcmFuc2xhdGU7aWYocy5sb29wKXtpZihyJiZzLmxvb3BQcmV2ZW50c1NsaWRlKXJldHVybiExO2kubG9vcEZpeCgpLGkuX2NsaWVudExlZnQ9aS4kd3JhcHBlckVsWzBdLmNsaWVudExlZnR9ZnVuY3Rpb24gZChlKXtyZXR1cm4gZTwwPy1NYXRoLmZsb29yKE1hdGguYWJzKGUpKTpNYXRoLmZsb29yKGUpfXZhciBwPWQobD9pLnRyYW5zbGF0ZTotaS50cmFuc2xhdGUpLGM9bi5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBkKGUpfSkpO25bYy5pbmRleE9mKHApXTt2YXIgdSxoPW5bYy5pbmRleE9mKHApLTFdO3JldHVybiB2b2lkIDA9PT1oJiZzLmNzc01vZGUmJm4uZm9yRWFjaCgoZnVuY3Rpb24oZSl7IWgmJnA+PWUmJihoPWUpfSkpLHZvaWQgMCE9PWgmJih1PW8uaW5kZXhPZihoKSk8MCYmKHU9aS5hY3RpdmVJbmRleC0xKSxpLnNsaWRlVG8odSxlLHQsYSl9LHNsaWRlUmVzZXQ6ZnVuY3Rpb24oZSx0LGEpe3JldHVybiB2b2lkIDA9PT1lJiYoZT10aGlzLnBhcmFtcy5zcGVlZCksdm9pZCAwPT09dCYmKHQ9ITApLHRoaXMuc2xpZGVUbyh0aGlzLmFjdGl2ZUluZGV4LGUsdCxhKX0sc2xpZGVUb0Nsb3Nlc3Q6ZnVuY3Rpb24oZSx0LGEsaSl7dm9pZCAwPT09ZSYmKGU9dGhpcy5wYXJhbXMuc3BlZWQpLHZvaWQgMD09PXQmJih0PSEwKSx2b2lkIDA9PT1pJiYoaT0uNSk7dmFyIHM9dGhpcyxyPXMuYWN0aXZlSW5kZXgsbj1NYXRoLm1pbihzLnBhcmFtcy5zbGlkZXNQZXJHcm91cFNraXAsciksbz1uK01hdGguZmxvb3IoKHItbikvcy5wYXJhbXMuc2xpZGVzUGVyR3JvdXApLGw9cy5ydGxUcmFuc2xhdGU/cy50cmFuc2xhdGU6LXMudHJhbnNsYXRlO2lmKGw+PXMuc25hcEdyaWRbb10pe3ZhciBkPXMuc25hcEdyaWRbb107bC1kPihzLnNuYXBHcmlkW28rMV0tZCkqaSYmKHIrPXMucGFyYW1zLnNsaWRlc1Blckdyb3VwKX1lbHNle3ZhciBwPXMuc25hcEdyaWRbby0xXTtsLXA8PShzLnNuYXBHcmlkW29dLXApKmkmJihyLT1zLnBhcmFtcy5zbGlkZXNQZXJHcm91cCl9cmV0dXJuIHI9TWF0aC5tYXgociwwKSxyPU1hdGgubWluKHIscy5zbGlkZXNHcmlkLmxlbmd0aC0xKSxzLnNsaWRlVG8ocixlLHQsYSl9LHNsaWRlVG9DbGlja2VkU2xpZGU6ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMsYT10LnBhcmFtcyxpPXQuJHdyYXBwZXJFbCxzPVwiYXV0b1wiPT09YS5zbGlkZXNQZXJWaWV3P3Quc2xpZGVzUGVyVmlld0R5bmFtaWMoKTphLnNsaWRlc1BlclZpZXcscj10LmNsaWNrZWRJbmRleDtpZihhLmxvb3Ape2lmKHQuYW5pbWF0aW5nKXJldHVybjtlPXBhcnNlSW50KG0odC5jbGlja2VkU2xpZGUpLmF0dHIoXCJkYXRhLXN3aXBlci1zbGlkZS1pbmRleFwiKSwxMCksYS5jZW50ZXJlZFNsaWRlcz9yPHQubG9vcGVkU2xpZGVzLXMvMnx8cj50LnNsaWRlcy5sZW5ndGgtdC5sb29wZWRTbGlkZXMrcy8yPyh0Lmxvb3BGaXgoKSxyPWkuY2hpbGRyZW4oXCIuXCIrYS5zbGlkZUNsYXNzKydbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XCInK2UrJ1wiXTpub3QoLicrYS5zbGlkZUR1cGxpY2F0ZUNsYXNzK1wiKVwiKS5lcSgwKS5pbmRleCgpLEUoKGZ1bmN0aW9uKCl7dC5zbGlkZVRvKHIpfSkpKTp0LnNsaWRlVG8ocik6cj50LnNsaWRlcy5sZW5ndGgtcz8odC5sb29wRml4KCkscj1pLmNoaWxkcmVuKFwiLlwiK2Euc2xpZGVDbGFzcysnW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVwiJytlKydcIl06bm90KC4nK2Euc2xpZGVEdXBsaWNhdGVDbGFzcytcIilcIikuZXEoMCkuaW5kZXgoKSxFKChmdW5jdGlvbigpe3Quc2xpZGVUbyhyKX0pKSk6dC5zbGlkZVRvKHIpfWVsc2UgdC5zbGlkZVRvKHIpfX0sbG9vcDp7bG9vcENyZWF0ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1yKCksYT1lLnBhcmFtcyxpPWUuJHdyYXBwZXJFbDtpLmNoaWxkcmVuKFwiLlwiK2Euc2xpZGVDbGFzcytcIi5cIithLnNsaWRlRHVwbGljYXRlQ2xhc3MpLnJlbW92ZSgpO3ZhciBzPWkuY2hpbGRyZW4oXCIuXCIrYS5zbGlkZUNsYXNzKTtpZihhLmxvb3BGaWxsR3JvdXBXaXRoQmxhbmspe3ZhciBuPWEuc2xpZGVzUGVyR3JvdXAtcy5sZW5ndGglYS5zbGlkZXNQZXJHcm91cDtpZihuIT09YS5zbGlkZXNQZXJHcm91cCl7Zm9yKHZhciBvPTA7bzxuO28rPTEpe3ZhciBsPW0odC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKS5hZGRDbGFzcyhhLnNsaWRlQ2xhc3MrXCIgXCIrYS5zbGlkZUJsYW5rQ2xhc3MpO2kuYXBwZW5kKGwpfXM9aS5jaGlsZHJlbihcIi5cIithLnNsaWRlQ2xhc3MpfX1cImF1dG9cIiE9PWEuc2xpZGVzUGVyVmlld3x8YS5sb29wZWRTbGlkZXN8fChhLmxvb3BlZFNsaWRlcz1zLmxlbmd0aCksZS5sb29wZWRTbGlkZXM9TWF0aC5jZWlsKHBhcnNlRmxvYXQoYS5sb29wZWRTbGlkZXN8fGEuc2xpZGVzUGVyVmlldywxMCkpLGUubG9vcGVkU2xpZGVzKz1hLmxvb3BBZGRpdGlvbmFsU2xpZGVzLGUubG9vcGVkU2xpZGVzPnMubGVuZ3RoJiYoZS5sb29wZWRTbGlkZXM9cy5sZW5ndGgpO3ZhciBkPVtdLHA9W107cy5lYWNoKChmdW5jdGlvbih0LGEpe3ZhciBpPW0odCk7YTxlLmxvb3BlZFNsaWRlcyYmcC5wdXNoKHQpLGE8cy5sZW5ndGgmJmE+PXMubGVuZ3RoLWUubG9vcGVkU2xpZGVzJiZkLnB1c2godCksaS5hdHRyKFwiZGF0YS1zd2lwZXItc2xpZGUtaW5kZXhcIixhKX0pKTtmb3IodmFyIGM9MDtjPHAubGVuZ3RoO2MrPTEpaS5hcHBlbmQobShwW2NdLmNsb25lTm9kZSghMCkpLmFkZENsYXNzKGEuc2xpZGVEdXBsaWNhdGVDbGFzcykpO2Zvcih2YXIgdT1kLmxlbmd0aC0xO3U+PTA7dS09MSlpLnByZXBlbmQobShkW3VdLmNsb25lTm9kZSghMCkpLmFkZENsYXNzKGEuc2xpZGVEdXBsaWNhdGVDbGFzcykpfSxsb29wRml4OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLmVtaXQoXCJiZWZvcmVMb29wRml4XCIpO3ZhciB0LGE9ZS5hY3RpdmVJbmRleCxpPWUuc2xpZGVzLHM9ZS5sb29wZWRTbGlkZXMscj1lLmFsbG93U2xpZGVQcmV2LG49ZS5hbGxvd1NsaWRlTmV4dCxvPWUuc25hcEdyaWQsbD1lLnJ0bFRyYW5zbGF0ZTtlLmFsbG93U2xpZGVQcmV2PSEwLGUuYWxsb3dTbGlkZU5leHQ9ITA7dmFyIGQ9LW9bYV0tZS5nZXRUcmFuc2xhdGUoKTtpZihhPHMpdD1pLmxlbmd0aC0zKnMrYSx0Kz1zLGUuc2xpZGVUbyh0LDAsITEsITApJiYwIT09ZCYmZS5zZXRUcmFuc2xhdGUoKGw/LWUudHJhbnNsYXRlOmUudHJhbnNsYXRlKS1kKTtlbHNlIGlmKGE+PWkubGVuZ3RoLXMpe3Q9LWkubGVuZ3RoK2Ercyx0Kz1zLGUuc2xpZGVUbyh0LDAsITEsITApJiYwIT09ZCYmZS5zZXRUcmFuc2xhdGUoKGw/LWUudHJhbnNsYXRlOmUudHJhbnNsYXRlKS1kKX1lLmFsbG93U2xpZGVQcmV2PXIsZS5hbGxvd1NsaWRlTmV4dD1uLGUuZW1pdChcImxvb3BGaXhcIil9LGxvb3BEZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWUuJHdyYXBwZXJFbCxhPWUucGFyYW1zLGk9ZS5zbGlkZXM7dC5jaGlsZHJlbihcIi5cIithLnNsaWRlQ2xhc3MrXCIuXCIrYS5zbGlkZUR1cGxpY2F0ZUNsYXNzK1wiLC5cIithLnNsaWRlQ2xhc3MrXCIuXCIrYS5zbGlkZUJsYW5rQ2xhc3MpLnJlbW92ZSgpLGkucmVtb3ZlQXR0cihcImRhdGEtc3dpcGVyLXNsaWRlLWluZGV4XCIpfX0sZ3JhYkN1cnNvcjp7c2V0R3JhYkN1cnNvcjpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKCEodC5zdXBwb3J0LnRvdWNofHwhdC5wYXJhbXMuc2ltdWxhdGVUb3VjaHx8dC5wYXJhbXMud2F0Y2hPdmVyZmxvdyYmdC5pc0xvY2tlZHx8dC5wYXJhbXMuY3NzTW9kZSkpe3ZhciBhPXQuZWw7YS5zdHlsZS5jdXJzb3I9XCJtb3ZlXCIsYS5zdHlsZS5jdXJzb3I9ZT9cIi13ZWJraXQtZ3JhYmJpbmdcIjpcIi13ZWJraXQtZ3JhYlwiLGEuc3R5bGUuY3Vyc29yPWU/XCItbW96LWdyYWJiaW5cIjpcIi1tb3otZ3JhYlwiLGEuc3R5bGUuY3Vyc29yPWU/XCJncmFiYmluZ1wiOlwiZ3JhYlwifX0sdW5zZXRHcmFiQ3Vyc29yOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLnN1cHBvcnQudG91Y2h8fGUucGFyYW1zLndhdGNoT3ZlcmZsb3cmJmUuaXNMb2NrZWR8fGUucGFyYW1zLmNzc01vZGV8fChlLmVsLnN0eWxlLmN1cnNvcj1cIlwiKX19LG1hbmlwdWxhdGlvbjp7YXBwZW5kU2xpZGU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxhPXQuJHdyYXBwZXJFbCxpPXQucGFyYW1zO2lmKGkubG9vcCYmdC5sb29wRGVzdHJveSgpLFwib2JqZWN0XCI9PXR5cGVvZiBlJiZcImxlbmd0aFwiaW4gZSlmb3IodmFyIHM9MDtzPGUubGVuZ3RoO3MrPTEpZVtzXSYmYS5hcHBlbmQoZVtzXSk7ZWxzZSBhLmFwcGVuZChlKTtpLmxvb3AmJnQubG9vcENyZWF0ZSgpLGkub2JzZXJ2ZXImJnQuc3VwcG9ydC5vYnNlcnZlcnx8dC51cGRhdGUoKX0scHJlcGVuZFNsaWRlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsYT10LnBhcmFtcyxpPXQuJHdyYXBwZXJFbCxzPXQuYWN0aXZlSW5kZXg7YS5sb29wJiZ0Lmxvb3BEZXN0cm95KCk7dmFyIHI9cysxO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBlJiZcImxlbmd0aFwiaW4gZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKz0xKWVbbl0mJmkucHJlcGVuZChlW25dKTtyPXMrZS5sZW5ndGh9ZWxzZSBpLnByZXBlbmQoZSk7YS5sb29wJiZ0Lmxvb3BDcmVhdGUoKSxhLm9ic2VydmVyJiZ0LnN1cHBvcnQub2JzZXJ2ZXJ8fHQudXBkYXRlKCksdC5zbGlkZVRvKHIsMCwhMSl9LGFkZFNsaWRlOmZ1bmN0aW9uKGUsdCl7dmFyIGE9dGhpcyxpPWEuJHdyYXBwZXJFbCxzPWEucGFyYW1zLHI9YS5hY3RpdmVJbmRleDtzLmxvb3AmJihyLT1hLmxvb3BlZFNsaWRlcyxhLmxvb3BEZXN0cm95KCksYS5zbGlkZXM9aS5jaGlsZHJlbihcIi5cIitzLnNsaWRlQ2xhc3MpKTt2YXIgbj1hLnNsaWRlcy5sZW5ndGg7aWYoZTw9MClhLnByZXBlbmRTbGlkZSh0KTtlbHNlIGlmKGU+PW4pYS5hcHBlbmRTbGlkZSh0KTtlbHNle2Zvcih2YXIgbz1yPmU/cisxOnIsbD1bXSxkPW4tMTtkPj1lO2QtPTEpe3ZhciBwPWEuc2xpZGVzLmVxKGQpO3AucmVtb3ZlKCksbC51bnNoaWZ0KHApfWlmKFwib2JqZWN0XCI9PXR5cGVvZiB0JiZcImxlbmd0aFwiaW4gdCl7Zm9yKHZhciBjPTA7Yzx0Lmxlbmd0aDtjKz0xKXRbY10mJmkuYXBwZW5kKHRbY10pO289cj5lP3IrdC5sZW5ndGg6cn1lbHNlIGkuYXBwZW5kKHQpO2Zvcih2YXIgdT0wO3U8bC5sZW5ndGg7dSs9MSlpLmFwcGVuZChsW3VdKTtzLmxvb3AmJmEubG9vcENyZWF0ZSgpLHMub2JzZXJ2ZXImJmEuc3VwcG9ydC5vYnNlcnZlcnx8YS51cGRhdGUoKSxzLmxvb3A/YS5zbGlkZVRvKG8rYS5sb29wZWRTbGlkZXMsMCwhMSk6YS5zbGlkZVRvKG8sMCwhMSl9fSxyZW1vdmVTbGlkZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLGE9dC5wYXJhbXMsaT10LiR3cmFwcGVyRWwscz10LmFjdGl2ZUluZGV4O2EubG9vcCYmKHMtPXQubG9vcGVkU2xpZGVzLHQubG9vcERlc3Ryb3koKSx0LnNsaWRlcz1pLmNoaWxkcmVuKFwiLlwiK2Euc2xpZGVDbGFzcykpO3ZhciByLG49cztpZihcIm9iamVjdFwiPT10eXBlb2YgZSYmXCJsZW5ndGhcImluIGUpe2Zvcih2YXIgbz0wO288ZS5sZW5ndGg7bys9MSlyPWVbb10sdC5zbGlkZXNbcl0mJnQuc2xpZGVzLmVxKHIpLnJlbW92ZSgpLHI8biYmKG4tPTEpO249TWF0aC5tYXgobiwwKX1lbHNlIHI9ZSx0LnNsaWRlc1tyXSYmdC5zbGlkZXMuZXEocikucmVtb3ZlKCkscjxuJiYobi09MSksbj1NYXRoLm1heChuLDApO2EubG9vcCYmdC5sb29wQ3JlYXRlKCksYS5vYnNlcnZlciYmdC5zdXBwb3J0Lm9ic2VydmVyfHx0LnVwZGF0ZSgpLGEubG9vcD90LnNsaWRlVG8obit0Lmxvb3BlZFNsaWRlcywwLCExKTp0LnNsaWRlVG8obiwwLCExKX0scmVtb3ZlQWxsU2xpZGVzOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PHRoaXMuc2xpZGVzLmxlbmd0aDt0Kz0xKWUucHVzaCh0KTt0aGlzLnJlbW92ZVNsaWRlKGUpfX0sZXZlbnRzOnthdHRhY2hFdmVudHM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9cigpLGE9ZS5wYXJhbXMsaT1lLnRvdWNoRXZlbnRzLHM9ZS5lbCxuPWUud3JhcHBlckVsLG89ZS5kZXZpY2UsbD1lLnN1cHBvcnQ7ZS5vblRvdWNoU3RhcnQ9QS5iaW5kKGUpLGUub25Ub3VjaE1vdmU9RC5iaW5kKGUpLGUub25Ub3VjaEVuZD1OLmJpbmQoZSksYS5jc3NNb2RlJiYoZS5vblNjcm9sbD1ILmJpbmQoZSkpLGUub25DbGljaz1CLmJpbmQoZSk7dmFyIGQ9ISFhLm5lc3RlZDtpZighbC50b3VjaCYmbC5wb2ludGVyRXZlbnRzKXMuYWRkRXZlbnRMaXN0ZW5lcihpLnN0YXJ0LGUub25Ub3VjaFN0YXJ0LCExKSx0LmFkZEV2ZW50TGlzdGVuZXIoaS5tb3ZlLGUub25Ub3VjaE1vdmUsZCksdC5hZGRFdmVudExpc3RlbmVyKGkuZW5kLGUub25Ub3VjaEVuZCwhMSk7ZWxzZXtpZihsLnRvdWNoKXt2YXIgcD0hKFwidG91Y2hzdGFydFwiIT09aS5zdGFydHx8IWwucGFzc2l2ZUxpc3RlbmVyfHwhYS5wYXNzaXZlTGlzdGVuZXJzKSYme3Bhc3NpdmU6ITAsY2FwdHVyZTohMX07cy5hZGRFdmVudExpc3RlbmVyKGkuc3RhcnQsZS5vblRvdWNoU3RhcnQscCkscy5hZGRFdmVudExpc3RlbmVyKGkubW92ZSxlLm9uVG91Y2hNb3ZlLGwucGFzc2l2ZUxpc3RlbmVyP3twYXNzaXZlOiExLGNhcHR1cmU6ZH06ZCkscy5hZGRFdmVudExpc3RlbmVyKGkuZW5kLGUub25Ub3VjaEVuZCxwKSxpLmNhbmNlbCYmcy5hZGRFdmVudExpc3RlbmVyKGkuY2FuY2VsLGUub25Ub3VjaEVuZCxwKSxYfHwodC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLFkpLFg9ITApfShhLnNpbXVsYXRlVG91Y2gmJiFvLmlvcyYmIW8uYW5kcm9pZHx8YS5zaW11bGF0ZVRvdWNoJiYhbC50b3VjaCYmby5pb3MpJiYocy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsZS5vblRvdWNoU3RhcnQsITEpLHQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLGUub25Ub3VjaE1vdmUsZCksdC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLGUub25Ub3VjaEVuZCwhMSkpfShhLnByZXZlbnRDbGlja3N8fGEucHJldmVudENsaWNrc1Byb3BhZ2F0aW9uKSYmcy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixlLm9uQ2xpY2ssITApLGEuY3NzTW9kZSYmbi5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsZS5vblNjcm9sbCksYS51cGRhdGVPbldpbmRvd1Jlc2l6ZT9lLm9uKG8uaW9zfHxvLmFuZHJvaWQ/XCJyZXNpemUgb3JpZW50YXRpb25jaGFuZ2Ugb2JzZXJ2ZXJVcGRhdGVcIjpcInJlc2l6ZSBvYnNlcnZlclVwZGF0ZVwiLEcsITApOmUub24oXCJvYnNlcnZlclVwZGF0ZVwiLEcsITApfSxkZXRhY2hFdmVudHM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9cigpLGE9ZS5wYXJhbXMsaT1lLnRvdWNoRXZlbnRzLHM9ZS5lbCxuPWUud3JhcHBlckVsLG89ZS5kZXZpY2UsbD1lLnN1cHBvcnQsZD0hIWEubmVzdGVkO2lmKCFsLnRvdWNoJiZsLnBvaW50ZXJFdmVudHMpcy5yZW1vdmVFdmVudExpc3RlbmVyKGkuc3RhcnQsZS5vblRvdWNoU3RhcnQsITEpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihpLm1vdmUsZS5vblRvdWNoTW92ZSxkKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoaS5lbmQsZS5vblRvdWNoRW5kLCExKTtlbHNle2lmKGwudG91Y2gpe3ZhciBwPSEoXCJvblRvdWNoU3RhcnRcIiE9PWkuc3RhcnR8fCFsLnBhc3NpdmVMaXN0ZW5lcnx8IWEucGFzc2l2ZUxpc3RlbmVycykmJntwYXNzaXZlOiEwLGNhcHR1cmU6ITF9O3MucmVtb3ZlRXZlbnRMaXN0ZW5lcihpLnN0YXJ0LGUub25Ub3VjaFN0YXJ0LHApLHMucmVtb3ZlRXZlbnRMaXN0ZW5lcihpLm1vdmUsZS5vblRvdWNoTW92ZSxkKSxzLnJlbW92ZUV2ZW50TGlzdGVuZXIoaS5lbmQsZS5vblRvdWNoRW5kLHApLGkuY2FuY2VsJiZzLnJlbW92ZUV2ZW50TGlzdGVuZXIoaS5jYW5jZWwsZS5vblRvdWNoRW5kLHApfShhLnNpbXVsYXRlVG91Y2gmJiFvLmlvcyYmIW8uYW5kcm9pZHx8YS5zaW11bGF0ZVRvdWNoJiYhbC50b3VjaCYmby5pb3MpJiYocy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsZS5vblRvdWNoU3RhcnQsITEpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLGUub25Ub3VjaE1vdmUsZCksdC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLGUub25Ub3VjaEVuZCwhMSkpfShhLnByZXZlbnRDbGlja3N8fGEucHJldmVudENsaWNrc1Byb3BhZ2F0aW9uKSYmcy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIixlLm9uQ2xpY2ssITApLGEuY3NzTW9kZSYmbi5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsZS5vblNjcm9sbCksZS5vZmYoby5pb3N8fG8uYW5kcm9pZD9cInJlc2l6ZSBvcmllbnRhdGlvbmNoYW5nZSBvYnNlcnZlclVwZGF0ZVwiOlwicmVzaXplIG9ic2VydmVyVXBkYXRlXCIsRyl9fSxicmVha3BvaW50czp7c2V0QnJlYWtwb2ludDpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1lLmFjdGl2ZUluZGV4LGE9ZS5pbml0aWFsaXplZCxpPWUubG9vcGVkU2xpZGVzLHM9dm9pZCAwPT09aT8wOmkscj1lLnBhcmFtcyxuPWUuJGVsLG89ci5icmVha3BvaW50cztpZihvJiYoIW98fDAhPT1PYmplY3Qua2V5cyhvKS5sZW5ndGgpKXt2YXIgbD1lLmdldEJyZWFrcG9pbnQobyxlLnBhcmFtcy5icmVha3BvaW50c0Jhc2UsZS5lbCk7aWYobCYmZS5jdXJyZW50QnJlYWtwb2ludCE9PWwpe3ZhciBkPWwgaW4gbz9vW2xdOnZvaWQgMDtkJiZbXCJzbGlkZXNQZXJWaWV3XCIsXCJzcGFjZUJldHdlZW5cIixcInNsaWRlc1Blckdyb3VwXCIsXCJzbGlkZXNQZXJHcm91cFNraXBcIixcInNsaWRlc1BlckNvbHVtblwiXS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1kW2VdO3ZvaWQgMCE9PXQmJihkW2VdPVwic2xpZGVzUGVyVmlld1wiIT09ZXx8XCJBVVRPXCIhPT10JiZcImF1dG9cIiE9PXQ/XCJzbGlkZXNQZXJWaWV3XCI9PT1lP3BhcnNlRmxvYXQodCk6cGFyc2VJbnQodCwxMCk6XCJhdXRvXCIpfSkpO3ZhciBwPWR8fGUub3JpZ2luYWxQYXJhbXMsYz1yLnNsaWRlc1BlckNvbHVtbj4xLHU9cC5zbGlkZXNQZXJDb2x1bW4+MTtjJiYhdT8obi5yZW1vdmVDbGFzcyhyLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3MrXCJtdWx0aXJvdyBcIityLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3MrXCJtdWx0aXJvdy1jb2x1bW5cIiksZS5lbWl0Q29udGFpbmVyQ2xhc3NlcygpKTohYyYmdSYmKG4uYWRkQ2xhc3Moci5jb250YWluZXJNb2RpZmllckNsYXNzK1wibXVsdGlyb3dcIiksXCJjb2x1bW5cIj09PXAuc2xpZGVzUGVyQ29sdW1uRmlsbCYmbi5hZGRDbGFzcyhyLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3MrXCJtdWx0aXJvdy1jb2x1bW5cIiksZS5lbWl0Q29udGFpbmVyQ2xhc3NlcygpKTt2YXIgaD1wLmRpcmVjdGlvbiYmcC5kaXJlY3Rpb24hPT1yLmRpcmVjdGlvbix2PXIubG9vcCYmKHAuc2xpZGVzUGVyVmlldyE9PXIuc2xpZGVzUGVyVmlld3x8aCk7aCYmYSYmZS5jaGFuZ2VEaXJlY3Rpb24oKSxDKGUucGFyYW1zLHApLEMoZSx7YWxsb3dUb3VjaE1vdmU6ZS5wYXJhbXMuYWxsb3dUb3VjaE1vdmUsYWxsb3dTbGlkZU5leHQ6ZS5wYXJhbXMuYWxsb3dTbGlkZU5leHQsYWxsb3dTbGlkZVByZXY6ZS5wYXJhbXMuYWxsb3dTbGlkZVByZXZ9KSxlLmN1cnJlbnRCcmVha3BvaW50PWwsZS5lbWl0KFwiX2JlZm9yZUJyZWFrcG9pbnRcIixwKSx2JiZhJiYoZS5sb29wRGVzdHJveSgpLGUubG9vcENyZWF0ZSgpLGUudXBkYXRlU2xpZGVzKCksZS5zbGlkZVRvKHQtcytlLmxvb3BlZFNsaWRlcywwLCExKSksZS5lbWl0KFwiYnJlYWtwb2ludFwiLHApfX19LGdldEJyZWFrcG9pbnQ6ZnVuY3Rpb24oZSx0LGEpe2lmKHZvaWQgMD09PXQmJih0PVwid2luZG93XCIpLGUmJihcImNvbnRhaW5lclwiIT09dHx8YSkpe3ZhciBpPSExLHM9bygpLHI9XCJ3aW5kb3dcIj09PXQ/cy5pbm5lcldpZHRoOmEuY2xpZW50V2lkdGgsbj1cIndpbmRvd1wiPT09dD9zLmlubmVySGVpZ2h0OmEuY2xpZW50SGVpZ2h0LGw9T2JqZWN0LmtleXMoZSkubWFwKChmdW5jdGlvbihlKXtpZihcInN0cmluZ1wiPT10eXBlb2YgZSYmMD09PWUuaW5kZXhPZihcIkBcIikpe3ZhciB0PXBhcnNlRmxvYXQoZS5zdWJzdHIoMSkpO3JldHVybnt2YWx1ZTpuKnQscG9pbnQ6ZX19cmV0dXJue3ZhbHVlOmUscG9pbnQ6ZX19KSk7bC5zb3J0KChmdW5jdGlvbihlLHQpe3JldHVybiBwYXJzZUludChlLnZhbHVlLDEwKS1wYXJzZUludCh0LnZhbHVlLDEwKX0pKTtmb3IodmFyIGQ9MDtkPGwubGVuZ3RoO2QrPTEpe3ZhciBwPWxbZF0sYz1wLnBvaW50O3AudmFsdWU8PXImJihpPWMpfXJldHVybiBpfHxcIm1heFwifX19LGNoZWNrT3ZlcmZsb3c6e2NoZWNrT3ZlcmZsb3c6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9ZS5wYXJhbXMsYT1lLmlzTG9ja2VkLGk9ZS5zbGlkZXMubGVuZ3RoPjAmJnQuc2xpZGVzT2Zmc2V0QmVmb3JlK3Quc3BhY2VCZXR3ZWVuKihlLnNsaWRlcy5sZW5ndGgtMSkrZS5zbGlkZXNbMF0ub2Zmc2V0V2lkdGgqZS5zbGlkZXMubGVuZ3RoO3Quc2xpZGVzT2Zmc2V0QmVmb3JlJiZ0LnNsaWRlc09mZnNldEFmdGVyJiZpP2UuaXNMb2NrZWQ9aTw9ZS5zaXplOmUuaXNMb2NrZWQ9MT09PWUuc25hcEdyaWQubGVuZ3RoLGUuYWxsb3dTbGlkZU5leHQ9IWUuaXNMb2NrZWQsZS5hbGxvd1NsaWRlUHJldj0hZS5pc0xvY2tlZCxhIT09ZS5pc0xvY2tlZCYmZS5lbWl0KGUuaXNMb2NrZWQ/XCJsb2NrXCI6XCJ1bmxvY2tcIiksYSYmYSE9PWUuaXNMb2NrZWQmJihlLmlzRW5kPSExLGUubmF2aWdhdGlvbiYmZS5uYXZpZ2F0aW9uLnVwZGF0ZSgpKX19LGNsYXNzZXM6e2FkZENsYXNzZXM6ZnVuY3Rpb24oKXt2YXIgZSx0LGEsaT10aGlzLHM9aS5jbGFzc05hbWVzLHI9aS5wYXJhbXMsbj1pLnJ0bCxvPWkuJGVsLGw9aS5kZXZpY2UsZD1pLnN1cHBvcnQscD0oZT1bXCJpbml0aWFsaXplZFwiLHIuZGlyZWN0aW9uLHtcInBvaW50ZXItZXZlbnRzXCI6ZC5wb2ludGVyRXZlbnRzJiYhZC50b3VjaH0se1wiZnJlZS1tb2RlXCI6ci5mcmVlTW9kZX0se2F1dG9oZWlnaHQ6ci5hdXRvSGVpZ2h0fSx7cnRsOm59LHttdWx0aXJvdzpyLnNsaWRlc1BlckNvbHVtbj4xfSx7XCJtdWx0aXJvdy1jb2x1bW5cIjpyLnNsaWRlc1BlckNvbHVtbj4xJiZcImNvbHVtblwiPT09ci5zbGlkZXNQZXJDb2x1bW5GaWxsfSx7YW5kcm9pZDpsLmFuZHJvaWR9LHtpb3M6bC5pb3N9LHtcImNzcy1tb2RlXCI6ci5jc3NNb2RlfV0sdD1yLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3MsYT1bXSxlLmZvckVhY2goKGZ1bmN0aW9uKGUpe1wib2JqZWN0XCI9PXR5cGVvZiBlP09iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKGkpe2VbaV0mJmEucHVzaCh0K2kpfSkpOlwic3RyaW5nXCI9PXR5cGVvZiBlJiZhLnB1c2godCtlKX0pKSxhKTtzLnB1c2guYXBwbHkocyxwKSxvLmFkZENsYXNzKFtdLmNvbmNhdChzKS5qb2luKFwiIFwiKSksaS5lbWl0Q29udGFpbmVyQ2xhc3NlcygpfSxyZW1vdmVDbGFzc2VzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWUuJGVsLGE9ZS5jbGFzc05hbWVzO3QucmVtb3ZlQ2xhc3MoYS5qb2luKFwiIFwiKSksZS5lbWl0Q29udGFpbmVyQ2xhc3NlcygpfX0saW1hZ2VzOntsb2FkSW1hZ2U6ZnVuY3Rpb24oZSx0LGEsaSxzLHIpe3ZhciBuLGw9bygpO2Z1bmN0aW9uIGQoKXtyJiZyKCl9bShlKS5wYXJlbnQoXCJwaWN0dXJlXCIpWzBdfHxlLmNvbXBsZXRlJiZzP2QoKTp0Pygobj1uZXcgbC5JbWFnZSkub25sb2FkPWQsbi5vbmVycm9yPWQsaSYmKG4uc2l6ZXM9aSksYSYmKG4uc3Jjc2V0PWEpLHQmJihuLnNyYz10KSk6ZCgpfSxwcmVsb2FkSW1hZ2VzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztmdW5jdGlvbiB0KCl7bnVsbCE9ZSYmZSYmIWUuZGVzdHJveWVkJiYodm9pZCAwIT09ZS5pbWFnZXNMb2FkZWQmJihlLmltYWdlc0xvYWRlZCs9MSksZS5pbWFnZXNMb2FkZWQ9PT1lLmltYWdlc1RvTG9hZC5sZW5ndGgmJihlLnBhcmFtcy51cGRhdGVPbkltYWdlc1JlYWR5JiZlLnVwZGF0ZSgpLGUuZW1pdChcImltYWdlc1JlYWR5XCIpKSl9ZS5pbWFnZXNUb0xvYWQ9ZS4kZWwuZmluZChcImltZ1wiKTtmb3IodmFyIGE9MDthPGUuaW1hZ2VzVG9Mb2FkLmxlbmd0aDthKz0xKXt2YXIgaT1lLmltYWdlc1RvTG9hZFthXTtlLmxvYWRJbWFnZShpLGkuY3VycmVudFNyY3x8aS5nZXRBdHRyaWJ1dGUoXCJzcmNcIiksaS5zcmNzZXR8fGkuZ2V0QXR0cmlidXRlKFwic3Jjc2V0XCIpLGkuc2l6ZXN8fGkuZ2V0QXR0cmlidXRlKFwic2l6ZXNcIiksITAsdCl9fX19LFc9e30sRj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtmb3IodmFyIGUsYSxpPWFyZ3VtZW50cy5sZW5ndGgscz1uZXcgQXJyYXkoaSkscj0wO3I8aTtyKyspc1tyXT1hcmd1bWVudHNbcl07aWYoMT09PXMubGVuZ3RoJiZzWzBdLmNvbnN0cnVjdG9yJiZcIk9iamVjdFwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHNbMF0pLnNsaWNlKDgsLTEpP2E9c1swXTooZT1zWzBdLGE9c1sxXSksYXx8KGE9e30pLGE9Qyh7fSxhKSxlJiYhYS5lbCYmKGEuZWw9ZSksYS5lbCYmbShhLmVsKS5sZW5ndGg+MSl7dmFyIG49W107cmV0dXJuIG0oYS5lbCkuZWFjaCgoZnVuY3Rpb24oZSl7dmFyIGk9Qyh7fSxhLHtlbDplfSk7bi5wdXNoKG5ldyB0KGkpKX0pKSxufXZhciBvPXRoaXM7by5fX3N3aXBlcl9fPSEwLG8uc3VwcG9ydD1QKCksby5kZXZpY2U9ayh7dXNlckFnZW50OmEudXNlckFnZW50fSksby5icm93c2VyPUwoKSxvLmV2ZW50c0xpc3RlbmVycz17fSxvLmV2ZW50c0FueUxpc3RlbmVycz1bXSx2b2lkIDA9PT1vLm1vZHVsZXMmJihvLm1vZHVsZXM9e30pLE9iamVjdC5rZXlzKG8ubW9kdWxlcykuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9by5tb2R1bGVzW2VdO2lmKHQucGFyYW1zKXt2YXIgaT1PYmplY3Qua2V5cyh0LnBhcmFtcylbMF0scz10LnBhcmFtc1tpXTtpZihcIm9iamVjdFwiIT10eXBlb2Ygc3x8bnVsbD09PXMpcmV0dXJuO2lmKCEoaSBpbiBhKXx8IShcImVuYWJsZWRcImluIHMpKXJldHVybjshMD09PWFbaV0mJihhW2ldPXtlbmFibGVkOiEwfSksXCJvYmplY3RcIiE9dHlwZW9mIGFbaV18fFwiZW5hYmxlZFwiaW4gYVtpXXx8KGFbaV0uZW5hYmxlZD0hMCksYVtpXXx8KGFbaV09e2VuYWJsZWQ6ITF9KX19KSk7dmFyIGwsZCxwPUMoe30sUik7cmV0dXJuIG8udXNlUGFyYW1zKHApLG8ucGFyYW1zPUMoe30scCxXLGEpLG8ub3JpZ2luYWxQYXJhbXM9Qyh7fSxvLnBhcmFtcyksby5wYXNzZWRQYXJhbXM9Qyh7fSxhKSxvLnBhcmFtcyYmby5wYXJhbXMub24mJk9iamVjdC5rZXlzKG8ucGFyYW1zLm9uKS5mb3JFYWNoKChmdW5jdGlvbihlKXtvLm9uKGUsby5wYXJhbXMub25bZV0pfSkpLG8ucGFyYW1zJiZvLnBhcmFtcy5vbkFueSYmby5vbkFueShvLnBhcmFtcy5vbkFueSksby4kPW0sQyhvLHtlbDplLGNsYXNzTmFtZXM6W10sc2xpZGVzOm0oKSxzbGlkZXNHcmlkOltdLHNuYXBHcmlkOltdLHNsaWRlc1NpemVzR3JpZDpbXSxpc0hvcml6b250YWw6ZnVuY3Rpb24oKXtyZXR1cm5cImhvcml6b250YWxcIj09PW8ucGFyYW1zLmRpcmVjdGlvbn0saXNWZXJ0aWNhbDpmdW5jdGlvbigpe3JldHVyblwidmVydGljYWxcIj09PW8ucGFyYW1zLmRpcmVjdGlvbn0sYWN0aXZlSW5kZXg6MCxyZWFsSW5kZXg6MCxpc0JlZ2lubmluZzohMCxpc0VuZDohMSx0cmFuc2xhdGU6MCxwcmV2aW91c1RyYW5zbGF0ZTowLHByb2dyZXNzOjAsdmVsb2NpdHk6MCxhbmltYXRpbmc6ITEsYWxsb3dTbGlkZU5leHQ6by5wYXJhbXMuYWxsb3dTbGlkZU5leHQsYWxsb3dTbGlkZVByZXY6by5wYXJhbXMuYWxsb3dTbGlkZVByZXYsdG91Y2hFdmVudHM6KGw9W1widG91Y2hzdGFydFwiLFwidG91Y2htb3ZlXCIsXCJ0b3VjaGVuZFwiLFwidG91Y2hjYW5jZWxcIl0sZD1bXCJtb3VzZWRvd25cIixcIm1vdXNlbW92ZVwiLFwibW91c2V1cFwiXSxvLnN1cHBvcnQucG9pbnRlckV2ZW50cyYmKGQ9W1wicG9pbnRlcmRvd25cIixcInBvaW50ZXJtb3ZlXCIsXCJwb2ludGVydXBcIl0pLG8udG91Y2hFdmVudHNUb3VjaD17c3RhcnQ6bFswXSxtb3ZlOmxbMV0sZW5kOmxbMl0sY2FuY2VsOmxbM119LG8udG91Y2hFdmVudHNEZXNrdG9wPXtzdGFydDpkWzBdLG1vdmU6ZFsxXSxlbmQ6ZFsyXX0sby5zdXBwb3J0LnRvdWNofHwhby5wYXJhbXMuc2ltdWxhdGVUb3VjaD9vLnRvdWNoRXZlbnRzVG91Y2g6by50b3VjaEV2ZW50c0Rlc2t0b3ApLHRvdWNoRXZlbnRzRGF0YTp7aXNUb3VjaGVkOnZvaWQgMCxpc01vdmVkOnZvaWQgMCxhbGxvd1RvdWNoQ2FsbGJhY2tzOnZvaWQgMCx0b3VjaFN0YXJ0VGltZTp2b2lkIDAsaXNTY3JvbGxpbmc6dm9pZCAwLGN1cnJlbnRUcmFuc2xhdGU6dm9pZCAwLHN0YXJ0VHJhbnNsYXRlOnZvaWQgMCxhbGxvd1RocmVzaG9sZE1vdmU6dm9pZCAwLGZvcm1FbGVtZW50czpcImlucHV0LCBzZWxlY3QsIG9wdGlvbiwgdGV4dGFyZWEsIGJ1dHRvbiwgdmlkZW8sIGxhYmVsXCIsbGFzdENsaWNrVGltZTp4KCksY2xpY2tUaW1lb3V0OnZvaWQgMCx2ZWxvY2l0aWVzOltdLGFsbG93TW9tZW50dW1Cb3VuY2U6dm9pZCAwLGlzVG91Y2hFdmVudDp2b2lkIDAsc3RhcnRNb3Zpbmc6dm9pZCAwfSxhbGxvd0NsaWNrOiEwLGFsbG93VG91Y2hNb3ZlOm8ucGFyYW1zLmFsbG93VG91Y2hNb3ZlLHRvdWNoZXM6e3N0YXJ0WDowLHN0YXJ0WTowLGN1cnJlbnRYOjAsY3VycmVudFk6MCxkaWZmOjB9LGltYWdlc1RvTG9hZDpbXSxpbWFnZXNMb2FkZWQ6MH0pLG8udXNlTW9kdWxlcygpLG8uZW1pdChcIl9zd2lwZXJcIiksby5wYXJhbXMuaW5pdCYmby5pbml0KCksb312YXIgYSxpLHMscj10LnByb3RvdHlwZTtyZXR1cm4gci5zZXRQcm9ncmVzcz1mdW5jdGlvbihlLHQpe3ZhciBhPXRoaXM7ZT1NYXRoLm1pbihNYXRoLm1heChlLDApLDEpO3ZhciBpPWEubWluVHJhbnNsYXRlKCkscz0oYS5tYXhUcmFuc2xhdGUoKS1pKSplK2k7YS50cmFuc2xhdGVUbyhzLHZvaWQgMD09PXQ/MDp0KSxhLnVwZGF0ZUFjdGl2ZUluZGV4KCksYS51cGRhdGVTbGlkZXNDbGFzc2VzKCl9LHIuZW1pdENvbnRhaW5lckNsYXNzZXM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKGUucGFyYW1zLl9lbWl0Q2xhc3NlcyYmZS5lbCl7dmFyIHQ9ZS5lbC5jbGFzc05hbWUuc3BsaXQoXCIgXCIpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIDA9PT10LmluZGV4T2YoXCJzd2lwZXItY29udGFpbmVyXCIpfHwwPT09dC5pbmRleE9mKGUucGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3MpfSkpO2UuZW1pdChcIl9jb250YWluZXJDbGFzc2VzXCIsdC5qb2luKFwiIFwiKSl9fSxyLmdldFNsaWRlQ2xhc3Nlcz1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBlLmNsYXNzTmFtZS5zcGxpdChcIiBcIikuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gMD09PWUuaW5kZXhPZihcInN3aXBlci1zbGlkZVwiKXx8MD09PWUuaW5kZXhPZih0LnBhcmFtcy5zbGlkZUNsYXNzKX0pKS5qb2luKFwiIFwiKX0sci5lbWl0U2xpZGVzQ2xhc3Nlcz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYoZS5wYXJhbXMuX2VtaXRDbGFzc2VzJiZlLmVsKXt2YXIgdD1bXTtlLnNsaWRlcy5lYWNoKChmdW5jdGlvbihhKXt2YXIgaT1lLmdldFNsaWRlQ2xhc3NlcyhhKTt0LnB1c2goe3NsaWRlRWw6YSxjbGFzc05hbWVzOml9KSxlLmVtaXQoXCJfc2xpZGVDbGFzc1wiLGEsaSl9KSksZS5lbWl0KFwiX3NsaWRlQ2xhc3Nlc1wiLHQpfX0sci5zbGlkZXNQZXJWaWV3RHluYW1pYz1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1lLnBhcmFtcyxhPWUuc2xpZGVzLGk9ZS5zbGlkZXNHcmlkLHM9ZS5zaXplLHI9ZS5hY3RpdmVJbmRleCxuPTE7aWYodC5jZW50ZXJlZFNsaWRlcyl7Zm9yKHZhciBvLGw9YVtyXS5zd2lwZXJTbGlkZVNpemUsZD1yKzE7ZDxhLmxlbmd0aDtkKz0xKWFbZF0mJiFvJiYobis9MSwobCs9YVtkXS5zd2lwZXJTbGlkZVNpemUpPnMmJihvPSEwKSk7Zm9yKHZhciBwPXItMTtwPj0wO3AtPTEpYVtwXSYmIW8mJihuKz0xLChsKz1hW3BdLnN3aXBlclNsaWRlU2l6ZSk+cyYmKG89ITApKX1lbHNlIGZvcih2YXIgYz1yKzE7YzxhLmxlbmd0aDtjKz0xKWlbY10taVtyXTxzJiYobis9MSk7cmV0dXJuIG59LHIudXBkYXRlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZihlJiYhZS5kZXN0cm95ZWQpe3ZhciB0PWUuc25hcEdyaWQsYT1lLnBhcmFtczthLmJyZWFrcG9pbnRzJiZlLnNldEJyZWFrcG9pbnQoKSxlLnVwZGF0ZVNpemUoKSxlLnVwZGF0ZVNsaWRlcygpLGUudXBkYXRlUHJvZ3Jlc3MoKSxlLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKSxlLnBhcmFtcy5mcmVlTW9kZT8oaSgpLGUucGFyYW1zLmF1dG9IZWlnaHQmJmUudXBkYXRlQXV0b0hlaWdodCgpKTooKFwiYXV0b1wiPT09ZS5wYXJhbXMuc2xpZGVzUGVyVmlld3x8ZS5wYXJhbXMuc2xpZGVzUGVyVmlldz4xKSYmZS5pc0VuZCYmIWUucGFyYW1zLmNlbnRlcmVkU2xpZGVzP2Uuc2xpZGVUbyhlLnNsaWRlcy5sZW5ndGgtMSwwLCExLCEwKTplLnNsaWRlVG8oZS5hY3RpdmVJbmRleCwwLCExLCEwKSl8fGkoKSxhLndhdGNoT3ZlcmZsb3cmJnQhPT1lLnNuYXBHcmlkJiZlLmNoZWNrT3ZlcmZsb3coKSxlLmVtaXQoXCJ1cGRhdGVcIil9ZnVuY3Rpb24gaSgpe3ZhciB0PWUucnRsVHJhbnNsYXRlPy0xKmUudHJhbnNsYXRlOmUudHJhbnNsYXRlLGE9TWF0aC5taW4oTWF0aC5tYXgodCxlLm1heFRyYW5zbGF0ZSgpKSxlLm1pblRyYW5zbGF0ZSgpKTtlLnNldFRyYW5zbGF0ZShhKSxlLnVwZGF0ZUFjdGl2ZUluZGV4KCksZS51cGRhdGVTbGlkZXNDbGFzc2VzKCl9fSxyLmNoYW5nZURpcmVjdGlvbj1mdW5jdGlvbihlLHQpe3ZvaWQgMD09PXQmJih0PSEwKTt2YXIgYT10aGlzLGk9YS5wYXJhbXMuZGlyZWN0aW9uO3JldHVybiBlfHwoZT1cImhvcml6b250YWxcIj09PWk/XCJ2ZXJ0aWNhbFwiOlwiaG9yaXpvbnRhbFwiKSxlPT09aXx8XCJob3Jpem9udGFsXCIhPT1lJiZcInZlcnRpY2FsXCIhPT1lfHwoYS4kZWwucmVtb3ZlQ2xhc3MoXCJcIithLnBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzK2kpLmFkZENsYXNzKFwiXCIrYS5wYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzcytlKSxhLmVtaXRDb250YWluZXJDbGFzc2VzKCksYS5wYXJhbXMuZGlyZWN0aW9uPWUsYS5zbGlkZXMuZWFjaCgoZnVuY3Rpb24odCl7XCJ2ZXJ0aWNhbFwiPT09ZT90LnN0eWxlLndpZHRoPVwiXCI6dC5zdHlsZS5oZWlnaHQ9XCJcIn0pKSxhLmVtaXQoXCJjaGFuZ2VEaXJlY3Rpb25cIiksdCYmYS51cGRhdGUoKSksYX0sci5tb3VudD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKHQubW91bnRlZClyZXR1cm4hMDt2YXIgYSxpPW0oZXx8dC5wYXJhbXMuZWwpO3JldHVybiEhKGU9aVswXSkmJihlLnN3aXBlcj10LGUmJmUuc2hhZG93Um9vdCYmZS5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3I/KGE9bShlLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcihcIi5cIit0LnBhcmFtcy53cmFwcGVyQ2xhc3MpKSkuY2hpbGRyZW49ZnVuY3Rpb24oZSl7cmV0dXJuIGkuY2hpbGRyZW4oZSl9OmE9aS5jaGlsZHJlbihcIi5cIit0LnBhcmFtcy53cmFwcGVyQ2xhc3MpLEModCx7JGVsOmksZWw6ZSwkd3JhcHBlckVsOmEsd3JhcHBlckVsOmFbMF0sbW91bnRlZDohMCxydGw6XCJydGxcIj09PWUuZGlyLnRvTG93ZXJDYXNlKCl8fFwicnRsXCI9PT1pLmNzcyhcImRpcmVjdGlvblwiKSxydGxUcmFuc2xhdGU6XCJob3Jpem9udGFsXCI9PT10LnBhcmFtcy5kaXJlY3Rpb24mJihcInJ0bFwiPT09ZS5kaXIudG9Mb3dlckNhc2UoKXx8XCJydGxcIj09PWkuY3NzKFwiZGlyZWN0aW9uXCIpKSx3cm9uZ1JUTDpcIi13ZWJraXQtYm94XCI9PT1hLmNzcyhcImRpc3BsYXlcIil9KSwhMCl9LHIuaW5pdD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiB0LmluaXRpYWxpemVkfHwhMT09PXQubW91bnQoZSl8fCh0LmVtaXQoXCJiZWZvcmVJbml0XCIpLHQucGFyYW1zLmJyZWFrcG9pbnRzJiZ0LnNldEJyZWFrcG9pbnQoKSx0LmFkZENsYXNzZXMoKSx0LnBhcmFtcy5sb29wJiZ0Lmxvb3BDcmVhdGUoKSx0LnVwZGF0ZVNpemUoKSx0LnVwZGF0ZVNsaWRlcygpLHQucGFyYW1zLndhdGNoT3ZlcmZsb3cmJnQuY2hlY2tPdmVyZmxvdygpLHQucGFyYW1zLmdyYWJDdXJzb3ImJnQuc2V0R3JhYkN1cnNvcigpLHQucGFyYW1zLnByZWxvYWRJbWFnZXMmJnQucHJlbG9hZEltYWdlcygpLHQucGFyYW1zLmxvb3A/dC5zbGlkZVRvKHQucGFyYW1zLmluaXRpYWxTbGlkZSt0Lmxvb3BlZFNsaWRlcywwLHQucGFyYW1zLnJ1bkNhbGxiYWNrc09uSW5pdCk6dC5zbGlkZVRvKHQucGFyYW1zLmluaXRpYWxTbGlkZSwwLHQucGFyYW1zLnJ1bkNhbGxiYWNrc09uSW5pdCksdC5hdHRhY2hFdmVudHMoKSx0LmluaXRpYWxpemVkPSEwLHQuZW1pdChcImluaXRcIiksdC5lbWl0KFwiYWZ0ZXJJbml0XCIpKSx0fSxyLmRlc3Ryb3k9ZnVuY3Rpb24oZSx0KXt2b2lkIDA9PT1lJiYoZT0hMCksdm9pZCAwPT09dCYmKHQ9ITApO3ZhciBhLGk9dGhpcyxzPWkucGFyYW1zLHI9aS4kZWwsbj1pLiR3cmFwcGVyRWwsbz1pLnNsaWRlcztyZXR1cm4gdm9pZCAwPT09aS5wYXJhbXN8fGkuZGVzdHJveWVkfHwoaS5lbWl0KFwiYmVmb3JlRGVzdHJveVwiKSxpLmluaXRpYWxpemVkPSExLGkuZGV0YWNoRXZlbnRzKCkscy5sb29wJiZpLmxvb3BEZXN0cm95KCksdCYmKGkucmVtb3ZlQ2xhc3NlcygpLHIucmVtb3ZlQXR0cihcInN0eWxlXCIpLG4ucmVtb3ZlQXR0cihcInN0eWxlXCIpLG8mJm8ubGVuZ3RoJiZvLnJlbW92ZUNsYXNzKFtzLnNsaWRlVmlzaWJsZUNsYXNzLHMuc2xpZGVBY3RpdmVDbGFzcyxzLnNsaWRlTmV4dENsYXNzLHMuc2xpZGVQcmV2Q2xhc3NdLmpvaW4oXCIgXCIpKS5yZW1vdmVBdHRyKFwic3R5bGVcIikucmVtb3ZlQXR0cihcImRhdGEtc3dpcGVyLXNsaWRlLWluZGV4XCIpKSxpLmVtaXQoXCJkZXN0cm95XCIpLE9iamVjdC5rZXlzKGkuZXZlbnRzTGlzdGVuZXJzKS5mb3JFYWNoKChmdW5jdGlvbihlKXtpLm9mZihlKX0pKSwhMSE9PWUmJihpLiRlbFswXS5zd2lwZXI9bnVsbCxhPWksT2JqZWN0LmtleXMoYSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dHJ5e2FbZV09bnVsbH1jYXRjaChlKXt9dHJ5e2RlbGV0ZSBhW2VdfWNhdGNoKGUpe319KSkpLGkuZGVzdHJveWVkPSEwKSxudWxsfSx0LmV4dGVuZERlZmF1bHRzPWZ1bmN0aW9uKGUpe0MoVyxlKX0sdC5pbnN0YWxsTW9kdWxlPWZ1bmN0aW9uKGUpe3QucHJvdG90eXBlLm1vZHVsZXN8fCh0LnByb3RvdHlwZS5tb2R1bGVzPXt9KTt2YXIgYT1lLm5hbWV8fE9iamVjdC5rZXlzKHQucHJvdG90eXBlLm1vZHVsZXMpLmxlbmd0aCtcIl9cIit4KCk7dC5wcm90b3R5cGUubW9kdWxlc1thXT1lfSx0LnVzZT1mdW5jdGlvbihlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT8oZS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gdC5pbnN0YWxsTW9kdWxlKGUpfSkpLHQpOih0Lmluc3RhbGxNb2R1bGUoZSksdCl9LGE9dCxzPVt7a2V5OlwiZXh0ZW5kZWREZWZhdWx0c1wiLGdldDpmdW5jdGlvbigpe3JldHVybiBXfX0se2tleTpcImRlZmF1bHRzXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFJ9fV0sKGk9bnVsbCkmJmUoYS5wcm90b3R5cGUsaSkscyYmZShhLHMpLHR9KCk7T2JqZWN0LmtleXMoVikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmtleXMoVltlXSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7Ri5wcm90b3R5cGVbdF09VltlXVt0XX0pKX0pKSxGLnVzZShbJCxPXSk7dmFyIF89e3VwZGF0ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLGE9dC5wYXJhbXMsaT1hLnNsaWRlc1BlclZpZXcscz1hLnNsaWRlc1Blckdyb3VwLHI9YS5jZW50ZXJlZFNsaWRlcyxuPXQucGFyYW1zLnZpcnR1YWwsbz1uLmFkZFNsaWRlc0JlZm9yZSxsPW4uYWRkU2xpZGVzQWZ0ZXIsZD10LnZpcnR1YWwscD1kLmZyb20sYz1kLnRvLHU9ZC5zbGlkZXMsaD1kLnNsaWRlc0dyaWQsdj1kLnJlbmRlclNsaWRlLGY9ZC5vZmZzZXQ7dC51cGRhdGVBY3RpdmVJbmRleCgpO3ZhciBtLGcsYix3PXQuYWN0aXZlSW5kZXh8fDA7bT10LnJ0bFRyYW5zbGF0ZT9cInJpZ2h0XCI6dC5pc0hvcml6b250YWwoKT9cImxlZnRcIjpcInRvcFwiLHI/KGc9TWF0aC5mbG9vcihpLzIpK3MrbCxiPU1hdGguZmxvb3IoaS8yKStzK28pOihnPWkrKHMtMSkrbCxiPXMrbyk7dmFyIHk9TWF0aC5tYXgoKHd8fDApLWIsMCksRT1NYXRoLm1pbigod3x8MCkrZyx1Lmxlbmd0aC0xKSx4PSh0LnNsaWRlc0dyaWRbeV18fDApLSh0LnNsaWRlc0dyaWRbMF18fDApO2Z1bmN0aW9uIFQoKXt0LnVwZGF0ZVNsaWRlcygpLHQudXBkYXRlUHJvZ3Jlc3MoKSx0LnVwZGF0ZVNsaWRlc0NsYXNzZXMoKSx0LmxhenkmJnQucGFyYW1zLmxhenkuZW5hYmxlZCYmdC5sYXp5LmxvYWQoKX1pZihDKHQudmlydHVhbCx7ZnJvbTp5LHRvOkUsb2Zmc2V0Ongsc2xpZGVzR3JpZDp0LnNsaWRlc0dyaWR9KSxwPT09eSYmYz09PUUmJiFlKXJldHVybiB0LnNsaWRlc0dyaWQhPT1oJiZ4IT09ZiYmdC5zbGlkZXMuY3NzKG0seCtcInB4XCIpLHZvaWQgdC51cGRhdGVQcm9ncmVzcygpO2lmKHQucGFyYW1zLnZpcnR1YWwucmVuZGVyRXh0ZXJuYWwpcmV0dXJuIHQucGFyYW1zLnZpcnR1YWwucmVuZGVyRXh0ZXJuYWwuY2FsbCh0LHtvZmZzZXQ6eCxmcm9tOnksdG86RSxzbGlkZXM6ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD15O3Q8PUU7dCs9MSllLnB1c2godVt0XSk7cmV0dXJuIGV9KCl9KSx2b2lkKHQucGFyYW1zLnZpcnR1YWwucmVuZGVyRXh0ZXJuYWxVcGRhdGUmJlQoKSk7dmFyIFM9W10sTT1bXTtpZihlKXQuJHdyYXBwZXJFbC5maW5kKFwiLlwiK3QucGFyYW1zLnNsaWRlQ2xhc3MpLnJlbW92ZSgpO2Vsc2UgZm9yKHZhciB6PXA7ejw9Yzt6Kz0xKSh6PHl8fHo+RSkmJnQuJHdyYXBwZXJFbC5maW5kKFwiLlwiK3QucGFyYW1zLnNsaWRlQ2xhc3MrJ1tkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cIicreisnXCJdJykucmVtb3ZlKCk7Zm9yKHZhciBQPTA7UDx1Lmxlbmd0aDtQKz0xKVA+PXkmJlA8PUUmJih2b2lkIDA9PT1jfHxlP00ucHVzaChQKTooUD5jJiZNLnB1c2goUCksUDxwJiZTLnB1c2goUCkpKTtNLmZvckVhY2goKGZ1bmN0aW9uKGUpe3QuJHdyYXBwZXJFbC5hcHBlbmQodih1W2VdLGUpKX0pKSxTLnNvcnQoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQtZX0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXt0LiR3cmFwcGVyRWwucHJlcGVuZCh2KHVbZV0sZSkpfSkpLHQuJHdyYXBwZXJFbC5jaGlsZHJlbihcIi5zd2lwZXItc2xpZGVcIikuY3NzKG0seCtcInB4XCIpLFQoKX0scmVuZGVyU2xpZGU6ZnVuY3Rpb24oZSx0KXt2YXIgYT10aGlzLGk9YS5wYXJhbXMudmlydHVhbDtpZihpLmNhY2hlJiZhLnZpcnR1YWwuY2FjaGVbdF0pcmV0dXJuIGEudmlydHVhbC5jYWNoZVt0XTt2YXIgcz1pLnJlbmRlclNsaWRlP20oaS5yZW5kZXJTbGlkZS5jYWxsKGEsZSx0KSk6bSgnPGRpdiBjbGFzcz1cIicrYS5wYXJhbXMuc2xpZGVDbGFzcysnXCIgZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XCInK3QrJ1wiPicrZStcIjwvZGl2PlwiKTtyZXR1cm4gcy5hdHRyKFwiZGF0YS1zd2lwZXItc2xpZGUtaW5kZXhcIil8fHMuYXR0cihcImRhdGEtc3dpcGVyLXNsaWRlLWluZGV4XCIsdCksaS5jYWNoZSYmKGEudmlydHVhbC5jYWNoZVt0XT1zKSxzfSxhcHBlbmRTbGlkZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBlJiZcImxlbmd0aFwiaW4gZSlmb3IodmFyIGE9MDthPGUubGVuZ3RoO2ErPTEpZVthXSYmdC52aXJ0dWFsLnNsaWRlcy5wdXNoKGVbYV0pO2Vsc2UgdC52aXJ0dWFsLnNsaWRlcy5wdXNoKGUpO3QudmlydHVhbC51cGRhdGUoITApfSxwcmVwZW5kU2xpZGU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxhPXQuYWN0aXZlSW5kZXgsaT1hKzEscz0xO2lmKEFycmF5LmlzQXJyYXkoZSkpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cis9MSllW3JdJiZ0LnZpcnR1YWwuc2xpZGVzLnVuc2hpZnQoZVtyXSk7aT1hK2UubGVuZ3RoLHM9ZS5sZW5ndGh9ZWxzZSB0LnZpcnR1YWwuc2xpZGVzLnVuc2hpZnQoZSk7aWYodC5wYXJhbXMudmlydHVhbC5jYWNoZSl7dmFyIG49dC52aXJ0dWFsLmNhY2hlLG89e307T2JqZWN0LmtleXMobikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9bltlXSxhPXQuYXR0cihcImRhdGEtc3dpcGVyLXNsaWRlLWluZGV4XCIpO2EmJnQuYXR0cihcImRhdGEtc3dpcGVyLXNsaWRlLWluZGV4XCIscGFyc2VJbnQoYSwxMCkrMSksb1twYXJzZUludChlLDEwKStzXT10fSkpLHQudmlydHVhbC5jYWNoZT1vfXQudmlydHVhbC51cGRhdGUoITApLHQuc2xpZGVUbyhpLDApfSxyZW1vdmVTbGlkZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKG51bGwhPWUpe3ZhciBhPXQuYWN0aXZlSW5kZXg7aWYoQXJyYXkuaXNBcnJheShlKSlmb3IodmFyIGk9ZS5sZW5ndGgtMTtpPj0wO2ktPTEpdC52aXJ0dWFsLnNsaWRlcy5zcGxpY2UoZVtpXSwxKSx0LnBhcmFtcy52aXJ0dWFsLmNhY2hlJiZkZWxldGUgdC52aXJ0dWFsLmNhY2hlW2VbaV1dLGVbaV08YSYmKGEtPTEpLGE9TWF0aC5tYXgoYSwwKTtlbHNlIHQudmlydHVhbC5zbGlkZXMuc3BsaWNlKGUsMSksdC5wYXJhbXMudmlydHVhbC5jYWNoZSYmZGVsZXRlIHQudmlydHVhbC5jYWNoZVtlXSxlPGEmJihhLT0xKSxhPU1hdGgubWF4KGEsMCk7dC52aXJ0dWFsLnVwZGF0ZSghMCksdC5zbGlkZVRvKGEsMCl9fSxyZW1vdmVBbGxTbGlkZXM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UudmlydHVhbC5zbGlkZXM9W10sZS5wYXJhbXMudmlydHVhbC5jYWNoZSYmKGUudmlydHVhbC5jYWNoZT17fSksZS52aXJ0dWFsLnVwZGF0ZSghMCksZS5zbGlkZVRvKDAsMCl9fSxxPXtuYW1lOlwidmlydHVhbFwiLHBhcmFtczp7dmlydHVhbDp7ZW5hYmxlZDohMSxzbGlkZXM6W10sY2FjaGU6ITAscmVuZGVyU2xpZGU6bnVsbCxyZW5kZXJFeHRlcm5hbDpudWxsLHJlbmRlckV4dGVybmFsVXBkYXRlOiEwLGFkZFNsaWRlc0JlZm9yZTowLGFkZFNsaWRlc0FmdGVyOjB9fSxjcmVhdGU6ZnVuY3Rpb24oKXtNKHRoaXMse3ZpcnR1YWw6dCh7fSxfLHtzbGlkZXM6dGhpcy5wYXJhbXMudmlydHVhbC5zbGlkZXMsY2FjaGU6e319KX0pfSxvbjp7YmVmb3JlSW5pdDpmdW5jdGlvbihlKXtpZihlLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQpe2UuY2xhc3NOYW1lcy5wdXNoKGUucGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3MrXCJ2aXJ0dWFsXCIpO3ZhciB0PXt3YXRjaFNsaWRlc1Byb2dyZXNzOiEwfTtDKGUucGFyYW1zLHQpLEMoZS5vcmlnaW5hbFBhcmFtcyx0KSxlLnBhcmFtcy5pbml0aWFsU2xpZGV8fGUudmlydHVhbC51cGRhdGUoKX19LHNldFRyYW5zbGF0ZTpmdW5jdGlvbihlKXtlLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQmJmUudmlydHVhbC51cGRhdGUoKX19fSxqPXtoYW5kbGU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxhPW8oKSxpPXIoKSxzPXQucnRsVHJhbnNsYXRlLG49ZTtuLm9yaWdpbmFsRXZlbnQmJihuPW4ub3JpZ2luYWxFdmVudCk7dmFyIGw9bi5rZXlDb2RlfHxuLmNoYXJDb2RlLGQ9dC5wYXJhbXMua2V5Ym9hcmQucGFnZVVwRG93bixwPWQmJjMzPT09bCxjPWQmJjM0PT09bCx1PTM3PT09bCxoPTM5PT09bCx2PTM4PT09bCxmPTQwPT09bDtpZighdC5hbGxvd1NsaWRlTmV4dCYmKHQuaXNIb3Jpem9udGFsKCkmJmh8fHQuaXNWZXJ0aWNhbCgpJiZmfHxjKSlyZXR1cm4hMTtpZighdC5hbGxvd1NsaWRlUHJldiYmKHQuaXNIb3Jpem9udGFsKCkmJnV8fHQuaXNWZXJ0aWNhbCgpJiZ2fHxwKSlyZXR1cm4hMTtpZighKG4uc2hpZnRLZXl8fG4uYWx0S2V5fHxuLmN0cmxLZXl8fG4ubWV0YUtleXx8aS5hY3RpdmVFbGVtZW50JiZpLmFjdGl2ZUVsZW1lbnQubm9kZU5hbWUmJihcImlucHV0XCI9PT1pLmFjdGl2ZUVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKXx8XCJ0ZXh0YXJlYVwiPT09aS5hY3RpdmVFbGVtZW50Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpKSl7aWYodC5wYXJhbXMua2V5Ym9hcmQub25seUluVmlld3BvcnQmJihwfHxjfHx1fHxofHx2fHxmKSl7dmFyIG09ITE7aWYodC4kZWwucGFyZW50cyhcIi5cIit0LnBhcmFtcy5zbGlkZUNsYXNzKS5sZW5ndGg+MCYmMD09PXQuJGVsLnBhcmVudHMoXCIuXCIrdC5wYXJhbXMuc2xpZGVBY3RpdmVDbGFzcykubGVuZ3RoKXJldHVybjt2YXIgZz10LiRlbCxiPWdbMF0uY2xpZW50V2lkdGgsdz1nWzBdLmNsaWVudEhlaWdodCx5PWEuaW5uZXJXaWR0aCxFPWEuaW5uZXJIZWlnaHQseD10LiRlbC5vZmZzZXQoKTtzJiYoeC5sZWZ0LT10LiRlbFswXS5zY3JvbGxMZWZ0KTtmb3IodmFyIFQ9W1t4LmxlZnQseC50b3BdLFt4LmxlZnQrYix4LnRvcF0sW3gubGVmdCx4LnRvcCt3XSxbeC5sZWZ0K2IseC50b3Ard11dLFM9MDtTPFQubGVuZ3RoO1MrPTEpe3ZhciBDPVRbU107aWYoQ1swXT49MCYmQ1swXTw9eSYmQ1sxXT49MCYmQ1sxXTw9RSl7aWYoMD09PUNbMF0mJjA9PT1DWzFdKWNvbnRpbnVlO209ITB9fWlmKCFtKXJldHVybn10LmlzSG9yaXpvbnRhbCgpPygocHx8Y3x8dXx8aCkmJihuLnByZXZlbnREZWZhdWx0P24ucHJldmVudERlZmF1bHQoKTpuLnJldHVyblZhbHVlPSExKSwoKGN8fGgpJiYhc3x8KHB8fHUpJiZzKSYmdC5zbGlkZU5leHQoKSwoKHB8fHUpJiYhc3x8KGN8fGgpJiZzKSYmdC5zbGlkZVByZXYoKSk6KChwfHxjfHx2fHxmKSYmKG4ucHJldmVudERlZmF1bHQ/bi5wcmV2ZW50RGVmYXVsdCgpOm4ucmV0dXJuVmFsdWU9ITEpLChjfHxmKSYmdC5zbGlkZU5leHQoKSwocHx8dikmJnQuc2xpZGVQcmV2KCkpLHQuZW1pdChcImtleVByZXNzXCIsbCl9fSxlbmFibGU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9cigpO2Uua2V5Ym9hcmQuZW5hYmxlZHx8KG0odCkub24oXCJrZXlkb3duXCIsZS5rZXlib2FyZC5oYW5kbGUpLGUua2V5Ym9hcmQuZW5hYmxlZD0hMCl9LGRpc2FibGU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9cigpO2Uua2V5Ym9hcmQuZW5hYmxlZCYmKG0odCkub2ZmKFwia2V5ZG93blwiLGUua2V5Ym9hcmQuaGFuZGxlKSxlLmtleWJvYXJkLmVuYWJsZWQ9ITEpfX0sVT17bmFtZTpcImtleWJvYXJkXCIscGFyYW1zOntrZXlib2FyZDp7ZW5hYmxlZDohMSxvbmx5SW5WaWV3cG9ydDohMCxwYWdlVXBEb3duOiEwfX0sY3JlYXRlOmZ1bmN0aW9uKCl7TSh0aGlzLHtrZXlib2FyZDp0KHtlbmFibGVkOiExfSxqKX0pfSxvbjp7aW5pdDpmdW5jdGlvbihlKXtlLnBhcmFtcy5rZXlib2FyZC5lbmFibGVkJiZlLmtleWJvYXJkLmVuYWJsZSgpfSxkZXN0cm95OmZ1bmN0aW9uKGUpe2Uua2V5Ym9hcmQuZW5hYmxlZCYmZS5rZXlib2FyZC5kaXNhYmxlKCl9fX07dmFyIEs9e2xhc3RTY3JvbGxUaW1lOngoKSxsYXN0RXZlbnRCZWZvcmVTbmFwOnZvaWQgMCxyZWNlbnRXaGVlbEV2ZW50czpbXSxldmVudDpmdW5jdGlvbigpe3JldHVybiBvKCkubmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiZmlyZWZveFwiKT4tMT9cIkRPTU1vdXNlU2Nyb2xsXCI6ZnVuY3Rpb24oKXt2YXIgZT1yKCksdD1cIm9ud2hlZWxcIixhPXQgaW4gZTtpZighYSl7dmFyIGk9ZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2kuc2V0QXR0cmlidXRlKHQsXCJyZXR1cm47XCIpLGE9XCJmdW5jdGlvblwiPT10eXBlb2YgaS5vbndoZWVsfXJldHVybiFhJiZlLmltcGxlbWVudGF0aW9uJiZlLmltcGxlbWVudGF0aW9uLmhhc0ZlYXR1cmUmJiEwIT09ZS5pbXBsZW1lbnRhdGlvbi5oYXNGZWF0dXJlKFwiXCIsXCJcIikmJihhPWUuaW1wbGVtZW50YXRpb24uaGFzRmVhdHVyZShcIkV2ZW50cy53aGVlbFwiLFwiMy4wXCIpKSxhfSgpP1wid2hlZWxcIjpcIm1vdXNld2hlZWxcIn0sbm9ybWFsaXplOmZ1bmN0aW9uKGUpe3ZhciB0PTAsYT0wLGk9MCxzPTA7cmV0dXJuXCJkZXRhaWxcImluIGUmJihhPWUuZGV0YWlsKSxcIndoZWVsRGVsdGFcImluIGUmJihhPS1lLndoZWVsRGVsdGEvMTIwKSxcIndoZWVsRGVsdGFZXCJpbiBlJiYoYT0tZS53aGVlbERlbHRhWS8xMjApLFwid2hlZWxEZWx0YVhcImluIGUmJih0PS1lLndoZWVsRGVsdGFYLzEyMCksXCJheGlzXCJpbiBlJiZlLmF4aXM9PT1lLkhPUklaT05UQUxfQVhJUyYmKHQ9YSxhPTApLGk9MTAqdCxzPTEwKmEsXCJkZWx0YVlcImluIGUmJihzPWUuZGVsdGFZKSxcImRlbHRhWFwiaW4gZSYmKGk9ZS5kZWx0YVgpLGUuc2hpZnRLZXkmJiFpJiYoaT1zLHM9MCksKGl8fHMpJiZlLmRlbHRhTW9kZSYmKDE9PT1lLmRlbHRhTW9kZT8oaSo9NDAscyo9NDApOihpKj04MDAscyo9ODAwKSksaSYmIXQmJih0PWk8MT8tMToxKSxzJiYhYSYmKGE9czwxPy0xOjEpLHtzcGluWDp0LHNwaW5ZOmEscGl4ZWxYOmkscGl4ZWxZOnN9fSxoYW5kbGVNb3VzZUVudGVyOmZ1bmN0aW9uKCl7dGhpcy5tb3VzZUVudGVyZWQ9ITB9LGhhbmRsZU1vdXNlTGVhdmU6ZnVuY3Rpb24oKXt0aGlzLm1vdXNlRW50ZXJlZD0hMX0saGFuZGxlOmZ1bmN0aW9uKGUpe3ZhciB0PWUsYT10aGlzLGk9YS5wYXJhbXMubW91c2V3aGVlbDthLnBhcmFtcy5jc3NNb2RlJiZ0LnByZXZlbnREZWZhdWx0KCk7dmFyIHM9YS4kZWw7aWYoXCJjb250YWluZXJcIiE9PWEucGFyYW1zLm1vdXNld2hlZWwuZXZlbnRzVGFyZ2V0JiYocz1tKGEucGFyYW1zLm1vdXNld2hlZWwuZXZlbnRzVGFyZ2V0KSksIWEubW91c2VFbnRlcmVkJiYhc1swXS5jb250YWlucyh0LnRhcmdldCkmJiFpLnJlbGVhc2VPbkVkZ2VzKXJldHVybiEwO3Qub3JpZ2luYWxFdmVudCYmKHQ9dC5vcmlnaW5hbEV2ZW50KTt2YXIgcj0wLG49YS5ydGxUcmFuc2xhdGU/LTE6MSxvPUsubm9ybWFsaXplKHQpO2lmKGkuZm9yY2VUb0F4aXMpaWYoYS5pc0hvcml6b250YWwoKSl7aWYoIShNYXRoLmFicyhvLnBpeGVsWCk+TWF0aC5hYnMoby5waXhlbFkpKSlyZXR1cm4hMDtyPS1vLnBpeGVsWCpufWVsc2V7aWYoIShNYXRoLmFicyhvLnBpeGVsWSk+TWF0aC5hYnMoby5waXhlbFgpKSlyZXR1cm4hMDtyPS1vLnBpeGVsWX1lbHNlIHI9TWF0aC5hYnMoby5waXhlbFgpPk1hdGguYWJzKG8ucGl4ZWxZKT8tby5waXhlbFgqbjotby5waXhlbFk7aWYoMD09PXIpcmV0dXJuITA7aS5pbnZlcnQmJihyPS1yKTt2YXIgbD1hLmdldFRyYW5zbGF0ZSgpK3IqaS5zZW5zaXRpdml0eTtpZihsPj1hLm1pblRyYW5zbGF0ZSgpJiYobD1hLm1pblRyYW5zbGF0ZSgpKSxsPD1hLm1heFRyYW5zbGF0ZSgpJiYobD1hLm1heFRyYW5zbGF0ZSgpKSwoISFhLnBhcmFtcy5sb29wfHwhKGw9PT1hLm1pblRyYW5zbGF0ZSgpfHxsPT09YS5tYXhUcmFuc2xhdGUoKSkpJiZhLnBhcmFtcy5uZXN0ZWQmJnQuc3RvcFByb3BhZ2F0aW9uKCksYS5wYXJhbXMuZnJlZU1vZGUpe3ZhciBkPXt0aW1lOngoKSxkZWx0YTpNYXRoLmFicyhyKSxkaXJlY3Rpb246TWF0aC5zaWduKHIpfSxwPWEubW91c2V3aGVlbC5sYXN0RXZlbnRCZWZvcmVTbmFwLGM9cCYmZC50aW1lPHAudGltZSs1MDAmJmQuZGVsdGE8PXAuZGVsdGEmJmQuZGlyZWN0aW9uPT09cC5kaXJlY3Rpb247aWYoIWMpe2EubW91c2V3aGVlbC5sYXN0RXZlbnRCZWZvcmVTbmFwPXZvaWQgMCxhLnBhcmFtcy5sb29wJiZhLmxvb3BGaXgoKTt2YXIgdT1hLmdldFRyYW5zbGF0ZSgpK3IqaS5zZW5zaXRpdml0eSxoPWEuaXNCZWdpbm5pbmcsdj1hLmlzRW5kO2lmKHU+PWEubWluVHJhbnNsYXRlKCkmJih1PWEubWluVHJhbnNsYXRlKCkpLHU8PWEubWF4VHJhbnNsYXRlKCkmJih1PWEubWF4VHJhbnNsYXRlKCkpLGEuc2V0VHJhbnNpdGlvbigwKSxhLnNldFRyYW5zbGF0ZSh1KSxhLnVwZGF0ZVByb2dyZXNzKCksYS51cGRhdGVBY3RpdmVJbmRleCgpLGEudXBkYXRlU2xpZGVzQ2xhc3NlcygpLCghaCYmYS5pc0JlZ2lubmluZ3x8IXYmJmEuaXNFbmQpJiZhLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKSxhLnBhcmFtcy5mcmVlTW9kZVN0aWNreSl7Y2xlYXJUaW1lb3V0KGEubW91c2V3aGVlbC50aW1lb3V0KSxhLm1vdXNld2hlZWwudGltZW91dD12b2lkIDA7dmFyIGY9YS5tb3VzZXdoZWVsLnJlY2VudFdoZWVsRXZlbnRzO2YubGVuZ3RoPj0xNSYmZi5zaGlmdCgpO3ZhciBnPWYubGVuZ3RoP2ZbZi5sZW5ndGgtMV06dm9pZCAwLGI9ZlswXTtpZihmLnB1c2goZCksZyYmKGQuZGVsdGE+Zy5kZWx0YXx8ZC5kaXJlY3Rpb24hPT1nLmRpcmVjdGlvbikpZi5zcGxpY2UoMCk7ZWxzZSBpZihmLmxlbmd0aD49MTUmJmQudGltZS1iLnRpbWU8NTAwJiZiLmRlbHRhLWQuZGVsdGE+PTEmJmQuZGVsdGE8PTYpe3ZhciB3PXI+MD8uODouMjthLm1vdXNld2hlZWwubGFzdEV2ZW50QmVmb3JlU25hcD1kLGYuc3BsaWNlKDApLGEubW91c2V3aGVlbC50aW1lb3V0PUUoKGZ1bmN0aW9uKCl7YS5zbGlkZVRvQ2xvc2VzdChhLnBhcmFtcy5zcGVlZCwhMCx2b2lkIDAsdyl9KSwwKX1hLm1vdXNld2hlZWwudGltZW91dHx8KGEubW91c2V3aGVlbC50aW1lb3V0PUUoKGZ1bmN0aW9uKCl7YS5tb3VzZXdoZWVsLmxhc3RFdmVudEJlZm9yZVNuYXA9ZCxmLnNwbGljZSgwKSxhLnNsaWRlVG9DbG9zZXN0KGEucGFyYW1zLnNwZWVkLCEwLHZvaWQgMCwuNSl9KSw1MDApKX1pZihjfHxhLmVtaXQoXCJzY3JvbGxcIix0KSxhLnBhcmFtcy5hdXRvcGxheSYmYS5wYXJhbXMuYXV0b3BsYXlEaXNhYmxlT25JbnRlcmFjdGlvbiYmYS5hdXRvcGxheS5zdG9wKCksdT09PWEubWluVHJhbnNsYXRlKCl8fHU9PT1hLm1heFRyYW5zbGF0ZSgpKXJldHVybiEwfX1lbHNle3ZhciB5PXt0aW1lOngoKSxkZWx0YTpNYXRoLmFicyhyKSxkaXJlY3Rpb246TWF0aC5zaWduKHIpLHJhdzplfSxUPWEubW91c2V3aGVlbC5yZWNlbnRXaGVlbEV2ZW50cztULmxlbmd0aD49MiYmVC5zaGlmdCgpO3ZhciBTPVQubGVuZ3RoP1RbVC5sZW5ndGgtMV06dm9pZCAwO2lmKFQucHVzaCh5KSxTPyh5LmRpcmVjdGlvbiE9PVMuZGlyZWN0aW9ufHx5LmRlbHRhPlMuZGVsdGF8fHkudGltZT5TLnRpbWUrMTUwKSYmYS5tb3VzZXdoZWVsLmFuaW1hdGVTbGlkZXIoeSk6YS5tb3VzZXdoZWVsLmFuaW1hdGVTbGlkZXIoeSksYS5tb3VzZXdoZWVsLnJlbGVhc2VTY3JvbGwoeSkpcmV0dXJuITB9cmV0dXJuIHQucHJldmVudERlZmF1bHQ/dC5wcmV2ZW50RGVmYXVsdCgpOnQucmV0dXJuVmFsdWU9ITEsITF9LGFuaW1hdGVTbGlkZXI6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxhPW8oKTtyZXR1cm4hKHRoaXMucGFyYW1zLm1vdXNld2hlZWwudGhyZXNob2xkRGVsdGEmJmUuZGVsdGE8dGhpcy5wYXJhbXMubW91c2V3aGVlbC50aHJlc2hvbGREZWx0YSkmJighKHRoaXMucGFyYW1zLm1vdXNld2hlZWwudGhyZXNob2xkVGltZSYmeCgpLXQubW91c2V3aGVlbC5sYXN0U2Nyb2xsVGltZTx0aGlzLnBhcmFtcy5tb3VzZXdoZWVsLnRocmVzaG9sZFRpbWUpJiYoZS5kZWx0YT49NiYmeCgpLXQubW91c2V3aGVlbC5sYXN0U2Nyb2xsVGltZTw2MHx8KGUuZGlyZWN0aW9uPDA/dC5pc0VuZCYmIXQucGFyYW1zLmxvb3B8fHQuYW5pbWF0aW5nfHwodC5zbGlkZU5leHQoKSx0LmVtaXQoXCJzY3JvbGxcIixlLnJhdykpOnQuaXNCZWdpbm5pbmcmJiF0LnBhcmFtcy5sb29wfHx0LmFuaW1hdGluZ3x8KHQuc2xpZGVQcmV2KCksdC5lbWl0KFwic2Nyb2xsXCIsZS5yYXcpKSx0Lm1vdXNld2hlZWwubGFzdFNjcm9sbFRpbWU9KG5ldyBhLkRhdGUpLmdldFRpbWUoKSwhMSkpKX0scmVsZWFzZVNjcm9sbDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLGE9dC5wYXJhbXMubW91c2V3aGVlbDtpZihlLmRpcmVjdGlvbjwwKXtpZih0LmlzRW5kJiYhdC5wYXJhbXMubG9vcCYmYS5yZWxlYXNlT25FZGdlcylyZXR1cm4hMH1lbHNlIGlmKHQuaXNCZWdpbm5pbmcmJiF0LnBhcmFtcy5sb29wJiZhLnJlbGVhc2VPbkVkZ2VzKXJldHVybiEwO3JldHVybiExfSxlbmFibGU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9Sy5ldmVudCgpO2lmKGUucGFyYW1zLmNzc01vZGUpcmV0dXJuIGUud3JhcHBlckVsLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxlLm1vdXNld2hlZWwuaGFuZGxlKSwhMDtpZighdClyZXR1cm4hMTtpZihlLm1vdXNld2hlZWwuZW5hYmxlZClyZXR1cm4hMTt2YXIgYT1lLiRlbDtyZXR1cm5cImNvbnRhaW5lclwiIT09ZS5wYXJhbXMubW91c2V3aGVlbC5ldmVudHNUYXJnZXQmJihhPW0oZS5wYXJhbXMubW91c2V3aGVlbC5ldmVudHNUYXJnZXQpKSxhLm9uKFwibW91c2VlbnRlclwiLGUubW91c2V3aGVlbC5oYW5kbGVNb3VzZUVudGVyKSxhLm9uKFwibW91c2VsZWF2ZVwiLGUubW91c2V3aGVlbC5oYW5kbGVNb3VzZUxlYXZlKSxhLm9uKHQsZS5tb3VzZXdoZWVsLmhhbmRsZSksZS5tb3VzZXdoZWVsLmVuYWJsZWQ9ITAsITB9LGRpc2FibGU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9Sy5ldmVudCgpO2lmKGUucGFyYW1zLmNzc01vZGUpcmV0dXJuIGUud3JhcHBlckVsLmFkZEV2ZW50TGlzdGVuZXIodCxlLm1vdXNld2hlZWwuaGFuZGxlKSwhMDtpZighdClyZXR1cm4hMTtpZighZS5tb3VzZXdoZWVsLmVuYWJsZWQpcmV0dXJuITE7dmFyIGE9ZS4kZWw7cmV0dXJuXCJjb250YWluZXJcIiE9PWUucGFyYW1zLm1vdXNld2hlZWwuZXZlbnRzVGFyZ2V0JiYoYT1tKGUucGFyYW1zLm1vdXNld2hlZWwuZXZlbnRzVGFyZ2V0KSksYS5vZmYodCxlLm1vdXNld2hlZWwuaGFuZGxlKSxlLm1vdXNld2hlZWwuZW5hYmxlZD0hMSwhMH19LFo9e3RvZ2dsZUVsOmZ1bmN0aW9uKGUsdCl7ZVt0P1wiYWRkQ2xhc3NcIjpcInJlbW92ZUNsYXNzXCJdKHRoaXMucGFyYW1zLm5hdmlnYXRpb24uZGlzYWJsZWRDbGFzcyksZVswXSYmXCJCVVRUT05cIj09PWVbMF0udGFnTmFtZSYmKGVbMF0uZGlzYWJsZWQ9dCl9LHVwZGF0ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1lLnBhcmFtcy5uYXZpZ2F0aW9uLGE9ZS5uYXZpZ2F0aW9uLnRvZ2dsZUVsO2lmKCFlLnBhcmFtcy5sb29wKXt2YXIgaT1lLm5hdmlnYXRpb24scz1pLiRuZXh0RWwscj1pLiRwcmV2RWw7ciYmci5sZW5ndGg+MCYmKGUuaXNCZWdpbm5pbmc/YShyLCEwKTphKHIsITEpLHJbZS5wYXJhbXMud2F0Y2hPdmVyZmxvdyYmZS5pc0xvY2tlZD9cImFkZENsYXNzXCI6XCJyZW1vdmVDbGFzc1wiXSh0LmxvY2tDbGFzcykpLHMmJnMubGVuZ3RoPjAmJihlLmlzRW5kP2EocywhMCk6YShzLCExKSxzW2UucGFyYW1zLndhdGNoT3ZlcmZsb3cmJmUuaXNMb2NrZWQ/XCJhZGRDbGFzc1wiOlwicmVtb3ZlQ2xhc3NcIl0odC5sb2NrQ2xhc3MpKX19LG9uUHJldkNsaWNrOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7ZS5wcmV2ZW50RGVmYXVsdCgpLHQuaXNCZWdpbm5pbmcmJiF0LnBhcmFtcy5sb29wfHx0LnNsaWRlUHJldigpfSxvbk5leHRDbGljazpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2UucHJldmVudERlZmF1bHQoKSx0LmlzRW5kJiYhdC5wYXJhbXMubG9vcHx8dC5zbGlkZU5leHQoKX0saW5pdDpmdW5jdGlvbigpe3ZhciBlLHQsYT10aGlzLGk9YS5wYXJhbXMubmF2aWdhdGlvbjsoaS5uZXh0RWx8fGkucHJldkVsKSYmKGkubmV4dEVsJiYoZT1tKGkubmV4dEVsKSxhLnBhcmFtcy51bmlxdWVOYXZFbGVtZW50cyYmXCJzdHJpbmdcIj09dHlwZW9mIGkubmV4dEVsJiZlLmxlbmd0aD4xJiYxPT09YS4kZWwuZmluZChpLm5leHRFbCkubGVuZ3RoJiYoZT1hLiRlbC5maW5kKGkubmV4dEVsKSkpLGkucHJldkVsJiYodD1tKGkucHJldkVsKSxhLnBhcmFtcy51bmlxdWVOYXZFbGVtZW50cyYmXCJzdHJpbmdcIj09dHlwZW9mIGkucHJldkVsJiZ0Lmxlbmd0aD4xJiYxPT09YS4kZWwuZmluZChpLnByZXZFbCkubGVuZ3RoJiYodD1hLiRlbC5maW5kKGkucHJldkVsKSkpLGUmJmUubGVuZ3RoPjAmJmUub24oXCJjbGlja1wiLGEubmF2aWdhdGlvbi5vbk5leHRDbGljayksdCYmdC5sZW5ndGg+MCYmdC5vbihcImNsaWNrXCIsYS5uYXZpZ2F0aW9uLm9uUHJldkNsaWNrKSxDKGEubmF2aWdhdGlvbix7JG5leHRFbDplLG5leHRFbDplJiZlWzBdLCRwcmV2RWw6dCxwcmV2RWw6dCYmdFswXX0pKX0sZGVzdHJveTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1lLm5hdmlnYXRpb24sYT10LiRuZXh0RWwsaT10LiRwcmV2RWw7YSYmYS5sZW5ndGgmJihhLm9mZihcImNsaWNrXCIsZS5uYXZpZ2F0aW9uLm9uTmV4dENsaWNrKSxhLnJlbW92ZUNsYXNzKGUucGFyYW1zLm5hdmlnYXRpb24uZGlzYWJsZWRDbGFzcykpLGkmJmkubGVuZ3RoJiYoaS5vZmYoXCJjbGlja1wiLGUubmF2aWdhdGlvbi5vblByZXZDbGljayksaS5yZW1vdmVDbGFzcyhlLnBhcmFtcy5uYXZpZ2F0aW9uLmRpc2FibGVkQ2xhc3MpKX19LEo9e3VwZGF0ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1lLnJ0bCxhPWUucGFyYW1zLnBhZ2luYXRpb247aWYoYS5lbCYmZS5wYWdpbmF0aW9uLmVsJiZlLnBhZ2luYXRpb24uJGVsJiYwIT09ZS5wYWdpbmF0aW9uLiRlbC5sZW5ndGgpe3ZhciBpLHM9ZS52aXJ0dWFsJiZlLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQ/ZS52aXJ0dWFsLnNsaWRlcy5sZW5ndGg6ZS5zbGlkZXMubGVuZ3RoLHI9ZS5wYWdpbmF0aW9uLiRlbCxuPWUucGFyYW1zLmxvb3A/TWF0aC5jZWlsKChzLTIqZS5sb29wZWRTbGlkZXMpL2UucGFyYW1zLnNsaWRlc1Blckdyb3VwKTplLnNuYXBHcmlkLmxlbmd0aDtpZihlLnBhcmFtcy5sb29wPygoaT1NYXRoLmNlaWwoKGUuYWN0aXZlSW5kZXgtZS5sb29wZWRTbGlkZXMpL2UucGFyYW1zLnNsaWRlc1Blckdyb3VwKSk+cy0xLTIqZS5sb29wZWRTbGlkZXMmJihpLT1zLTIqZS5sb29wZWRTbGlkZXMpLGk+bi0xJiYoaS09biksaTwwJiZcImJ1bGxldHNcIiE9PWUucGFyYW1zLnBhZ2luYXRpb25UeXBlJiYoaT1uK2kpKTppPXZvaWQgMCE9PWUuc25hcEluZGV4P2Uuc25hcEluZGV4OmUuYWN0aXZlSW5kZXh8fDAsXCJidWxsZXRzXCI9PT1hLnR5cGUmJmUucGFnaW5hdGlvbi5idWxsZXRzJiZlLnBhZ2luYXRpb24uYnVsbGV0cy5sZW5ndGg+MCl7dmFyIG8sbCxkLHA9ZS5wYWdpbmF0aW9uLmJ1bGxldHM7aWYoYS5keW5hbWljQnVsbGV0cyYmKGUucGFnaW5hdGlvbi5idWxsZXRTaXplPXAuZXEoMClbZS5pc0hvcml6b250YWwoKT9cIm91dGVyV2lkdGhcIjpcIm91dGVySGVpZ2h0XCJdKCEwKSxyLmNzcyhlLmlzSG9yaXpvbnRhbCgpP1wid2lkdGhcIjpcImhlaWdodFwiLGUucGFnaW5hdGlvbi5idWxsZXRTaXplKihhLmR5bmFtaWNNYWluQnVsbGV0cys0KStcInB4XCIpLGEuZHluYW1pY01haW5CdWxsZXRzPjEmJnZvaWQgMCE9PWUucHJldmlvdXNJbmRleCYmKGUucGFnaW5hdGlvbi5keW5hbWljQnVsbGV0SW5kZXgrPWktZS5wcmV2aW91c0luZGV4LGUucGFnaW5hdGlvbi5keW5hbWljQnVsbGV0SW5kZXg+YS5keW5hbWljTWFpbkJ1bGxldHMtMT9lLnBhZ2luYXRpb24uZHluYW1pY0J1bGxldEluZGV4PWEuZHluYW1pY01haW5CdWxsZXRzLTE6ZS5wYWdpbmF0aW9uLmR5bmFtaWNCdWxsZXRJbmRleDwwJiYoZS5wYWdpbmF0aW9uLmR5bmFtaWNCdWxsZXRJbmRleD0wKSksbz1pLWUucGFnaW5hdGlvbi5keW5hbWljQnVsbGV0SW5kZXgsZD0oKGw9bysoTWF0aC5taW4ocC5sZW5ndGgsYS5keW5hbWljTWFpbkJ1bGxldHMpLTEpKStvKS8yKSxwLnJlbW92ZUNsYXNzKGEuYnVsbGV0QWN0aXZlQ2xhc3MrXCIgXCIrYS5idWxsZXRBY3RpdmVDbGFzcytcIi1uZXh0IFwiK2EuYnVsbGV0QWN0aXZlQ2xhc3MrXCItbmV4dC1uZXh0IFwiK2EuYnVsbGV0QWN0aXZlQ2xhc3MrXCItcHJldiBcIithLmJ1bGxldEFjdGl2ZUNsYXNzK1wiLXByZXYtcHJldiBcIithLmJ1bGxldEFjdGl2ZUNsYXNzK1wiLW1haW5cIiksci5sZW5ndGg+MSlwLmVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PW0oZSkscz10LmluZGV4KCk7cz09PWkmJnQuYWRkQ2xhc3MoYS5idWxsZXRBY3RpdmVDbGFzcyksYS5keW5hbWljQnVsbGV0cyYmKHM+PW8mJnM8PWwmJnQuYWRkQ2xhc3MoYS5idWxsZXRBY3RpdmVDbGFzcytcIi1tYWluXCIpLHM9PT1vJiZ0LnByZXYoKS5hZGRDbGFzcyhhLmJ1bGxldEFjdGl2ZUNsYXNzK1wiLXByZXZcIikucHJldigpLmFkZENsYXNzKGEuYnVsbGV0QWN0aXZlQ2xhc3MrXCItcHJldi1wcmV2XCIpLHM9PT1sJiZ0Lm5leHQoKS5hZGRDbGFzcyhhLmJ1bGxldEFjdGl2ZUNsYXNzK1wiLW5leHRcIikubmV4dCgpLmFkZENsYXNzKGEuYnVsbGV0QWN0aXZlQ2xhc3MrXCItbmV4dC1uZXh0XCIpKX0pKTtlbHNle3ZhciBjPXAuZXEoaSksdT1jLmluZGV4KCk7aWYoYy5hZGRDbGFzcyhhLmJ1bGxldEFjdGl2ZUNsYXNzKSxhLmR5bmFtaWNCdWxsZXRzKXtmb3IodmFyIGg9cC5lcShvKSx2PXAuZXEobCksZj1vO2Y8PWw7Zis9MSlwLmVxKGYpLmFkZENsYXNzKGEuYnVsbGV0QWN0aXZlQ2xhc3MrXCItbWFpblwiKTtpZihlLnBhcmFtcy5sb29wKWlmKHU+PXAubGVuZ3RoLWEuZHluYW1pY01haW5CdWxsZXRzKXtmb3IodmFyIGc9YS5keW5hbWljTWFpbkJ1bGxldHM7Zz49MDtnLT0xKXAuZXEocC5sZW5ndGgtZykuYWRkQ2xhc3MoYS5idWxsZXRBY3RpdmVDbGFzcytcIi1tYWluXCIpO3AuZXEocC5sZW5ndGgtYS5keW5hbWljTWFpbkJ1bGxldHMtMSkuYWRkQ2xhc3MoYS5idWxsZXRBY3RpdmVDbGFzcytcIi1wcmV2XCIpfWVsc2UgaC5wcmV2KCkuYWRkQ2xhc3MoYS5idWxsZXRBY3RpdmVDbGFzcytcIi1wcmV2XCIpLnByZXYoKS5hZGRDbGFzcyhhLmJ1bGxldEFjdGl2ZUNsYXNzK1wiLXByZXYtcHJldlwiKSx2Lm5leHQoKS5hZGRDbGFzcyhhLmJ1bGxldEFjdGl2ZUNsYXNzK1wiLW5leHRcIikubmV4dCgpLmFkZENsYXNzKGEuYnVsbGV0QWN0aXZlQ2xhc3MrXCItbmV4dC1uZXh0XCIpO2Vsc2UgaC5wcmV2KCkuYWRkQ2xhc3MoYS5idWxsZXRBY3RpdmVDbGFzcytcIi1wcmV2XCIpLnByZXYoKS5hZGRDbGFzcyhhLmJ1bGxldEFjdGl2ZUNsYXNzK1wiLXByZXYtcHJldlwiKSx2Lm5leHQoKS5hZGRDbGFzcyhhLmJ1bGxldEFjdGl2ZUNsYXNzK1wiLW5leHRcIikubmV4dCgpLmFkZENsYXNzKGEuYnVsbGV0QWN0aXZlQ2xhc3MrXCItbmV4dC1uZXh0XCIpfX1pZihhLmR5bmFtaWNCdWxsZXRzKXt2YXIgYj1NYXRoLm1pbihwLmxlbmd0aCxhLmR5bmFtaWNNYWluQnVsbGV0cys0KSx3PShlLnBhZ2luYXRpb24uYnVsbGV0U2l6ZSpiLWUucGFnaW5hdGlvbi5idWxsZXRTaXplKS8yLWQqZS5wYWdpbmF0aW9uLmJ1bGxldFNpemUseT10P1wicmlnaHRcIjpcImxlZnRcIjtwLmNzcyhlLmlzSG9yaXpvbnRhbCgpP3k6XCJ0b3BcIix3K1wicHhcIil9fWlmKFwiZnJhY3Rpb25cIj09PWEudHlwZSYmKHIuZmluZCh6KGEuY3VycmVudENsYXNzKSkudGV4dChhLmZvcm1hdEZyYWN0aW9uQ3VycmVudChpKzEpKSxyLmZpbmQoeihhLnRvdGFsQ2xhc3MpKS50ZXh0KGEuZm9ybWF0RnJhY3Rpb25Ub3RhbChuKSkpLFwicHJvZ3Jlc3NiYXJcIj09PWEudHlwZSl7dmFyIEU7RT1hLnByb2dyZXNzYmFyT3Bwb3NpdGU/ZS5pc0hvcml6b250YWwoKT9cInZlcnRpY2FsXCI6XCJob3Jpem9udGFsXCI6ZS5pc0hvcml6b250YWwoKT9cImhvcml6b250YWxcIjpcInZlcnRpY2FsXCI7dmFyIHg9KGkrMSkvbixUPTEsUz0xO1wiaG9yaXpvbnRhbFwiPT09RT9UPXg6Uz14LHIuZmluZCh6KGEucHJvZ3Jlc3NiYXJGaWxsQ2xhc3MpKS50cmFuc2Zvcm0oXCJ0cmFuc2xhdGUzZCgwLDAsMCkgc2NhbGVYKFwiK1QrXCIpIHNjYWxlWShcIitTK1wiKVwiKS50cmFuc2l0aW9uKGUucGFyYW1zLnNwZWVkKX1cImN1c3RvbVwiPT09YS50eXBlJiZhLnJlbmRlckN1c3RvbT8oci5odG1sKGEucmVuZGVyQ3VzdG9tKGUsaSsxLG4pKSxlLmVtaXQoXCJwYWdpbmF0aW9uUmVuZGVyXCIsclswXSkpOmUuZW1pdChcInBhZ2luYXRpb25VcGRhdGVcIixyWzBdKSxyW2UucGFyYW1zLndhdGNoT3ZlcmZsb3cmJmUuaXNMb2NrZWQ/XCJhZGRDbGFzc1wiOlwicmVtb3ZlQ2xhc3NcIl0oYS5sb2NrQ2xhc3MpfX0scmVuZGVyOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWUucGFyYW1zLnBhZ2luYXRpb247aWYodC5lbCYmZS5wYWdpbmF0aW9uLmVsJiZlLnBhZ2luYXRpb24uJGVsJiYwIT09ZS5wYWdpbmF0aW9uLiRlbC5sZW5ndGgpe3ZhciBhPWUudmlydHVhbCYmZS5wYXJhbXMudmlydHVhbC5lbmFibGVkP2UudmlydHVhbC5zbGlkZXMubGVuZ3RoOmUuc2xpZGVzLmxlbmd0aCxpPWUucGFnaW5hdGlvbi4kZWwscz1cIlwiO2lmKFwiYnVsbGV0c1wiPT09dC50eXBlKXt2YXIgcj1lLnBhcmFtcy5sb29wP01hdGguY2VpbCgoYS0yKmUubG9vcGVkU2xpZGVzKS9lLnBhcmFtcy5zbGlkZXNQZXJHcm91cCk6ZS5zbmFwR3JpZC5sZW5ndGg7ZS5wYXJhbXMuZnJlZU1vZGUmJiFlLnBhcmFtcy5sb29wJiZyPmEmJihyPWEpO2Zvcih2YXIgbj0wO248cjtuKz0xKXQucmVuZGVyQnVsbGV0P3MrPXQucmVuZGVyQnVsbGV0LmNhbGwoZSxuLHQuYnVsbGV0Q2xhc3MpOnMrPVwiPFwiK3QuYnVsbGV0RWxlbWVudCsnIGNsYXNzPVwiJyt0LmJ1bGxldENsYXNzKydcIj48LycrdC5idWxsZXRFbGVtZW50K1wiPlwiO2kuaHRtbChzKSxlLnBhZ2luYXRpb24uYnVsbGV0cz1pLmZpbmQoeih0LmJ1bGxldENsYXNzKSl9XCJmcmFjdGlvblwiPT09dC50eXBlJiYocz10LnJlbmRlckZyYWN0aW9uP3QucmVuZGVyRnJhY3Rpb24uY2FsbChlLHQuY3VycmVudENsYXNzLHQudG90YWxDbGFzcyk6JzxzcGFuIGNsYXNzPVwiJyt0LmN1cnJlbnRDbGFzcysnXCI+PC9zcGFuPiAvIDxzcGFuIGNsYXNzPVwiJyt0LnRvdGFsQ2xhc3MrJ1wiPjwvc3Bhbj4nLGkuaHRtbChzKSksXCJwcm9ncmVzc2JhclwiPT09dC50eXBlJiYocz10LnJlbmRlclByb2dyZXNzYmFyP3QucmVuZGVyUHJvZ3Jlc3NiYXIuY2FsbChlLHQucHJvZ3Jlc3NiYXJGaWxsQ2xhc3MpOic8c3BhbiBjbGFzcz1cIicrdC5wcm9ncmVzc2JhckZpbGxDbGFzcysnXCI+PC9zcGFuPicsaS5odG1sKHMpKSxcImN1c3RvbVwiIT09dC50eXBlJiZlLmVtaXQoXCJwYWdpbmF0aW9uUmVuZGVyXCIsZS5wYWdpbmF0aW9uLiRlbFswXSl9fSxpbml0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWUucGFyYW1zLnBhZ2luYXRpb247aWYodC5lbCl7dmFyIGE9bSh0LmVsKTswIT09YS5sZW5ndGgmJihlLnBhcmFtcy51bmlxdWVOYXZFbGVtZW50cyYmXCJzdHJpbmdcIj09dHlwZW9mIHQuZWwmJmEubGVuZ3RoPjEmJihhPWUuJGVsLmZpbmQodC5lbCkpLFwiYnVsbGV0c1wiPT09dC50eXBlJiZ0LmNsaWNrYWJsZSYmYS5hZGRDbGFzcyh0LmNsaWNrYWJsZUNsYXNzKSxhLmFkZENsYXNzKHQubW9kaWZpZXJDbGFzcyt0LnR5cGUpLFwiYnVsbGV0c1wiPT09dC50eXBlJiZ0LmR5bmFtaWNCdWxsZXRzJiYoYS5hZGRDbGFzcyhcIlwiK3QubW9kaWZpZXJDbGFzcyt0LnR5cGUrXCItZHluYW1pY1wiKSxlLnBhZ2luYXRpb24uZHluYW1pY0J1bGxldEluZGV4PTAsdC5keW5hbWljTWFpbkJ1bGxldHM8MSYmKHQuZHluYW1pY01haW5CdWxsZXRzPTEpKSxcInByb2dyZXNzYmFyXCI9PT10LnR5cGUmJnQucHJvZ3Jlc3NiYXJPcHBvc2l0ZSYmYS5hZGRDbGFzcyh0LnByb2dyZXNzYmFyT3Bwb3NpdGVDbGFzcyksdC5jbGlja2FibGUmJmEub24oXCJjbGlja1wiLHoodC5idWxsZXRDbGFzcyksKGZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKTt2YXIgYT1tKHRoaXMpLmluZGV4KCkqZS5wYXJhbXMuc2xpZGVzUGVyR3JvdXA7ZS5wYXJhbXMubG9vcCYmKGErPWUubG9vcGVkU2xpZGVzKSxlLnNsaWRlVG8oYSl9KSksQyhlLnBhZ2luYXRpb24seyRlbDphLGVsOmFbMF19KSl9fSxkZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWUucGFyYW1zLnBhZ2luYXRpb247aWYodC5lbCYmZS5wYWdpbmF0aW9uLmVsJiZlLnBhZ2luYXRpb24uJGVsJiYwIT09ZS5wYWdpbmF0aW9uLiRlbC5sZW5ndGgpe3ZhciBhPWUucGFnaW5hdGlvbi4kZWw7YS5yZW1vdmVDbGFzcyh0LmhpZGRlbkNsYXNzKSxhLnJlbW92ZUNsYXNzKHQubW9kaWZpZXJDbGFzcyt0LnR5cGUpLGUucGFnaW5hdGlvbi5idWxsZXRzJiZlLnBhZ2luYXRpb24uYnVsbGV0cy5yZW1vdmVDbGFzcyh0LmJ1bGxldEFjdGl2ZUNsYXNzKSx0LmNsaWNrYWJsZSYmYS5vZmYoXCJjbGlja1wiLHoodC5idWxsZXRDbGFzcykpfX19LFE9e3NldFRyYW5zbGF0ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYoZS5wYXJhbXMuc2Nyb2xsYmFyLmVsJiZlLnNjcm9sbGJhci5lbCl7dmFyIHQ9ZS5zY3JvbGxiYXIsYT1lLnJ0bFRyYW5zbGF0ZSxpPWUucHJvZ3Jlc3Mscz10LmRyYWdTaXplLHI9dC50cmFja1NpemUsbj10LiRkcmFnRWwsbz10LiRlbCxsPWUucGFyYW1zLnNjcm9sbGJhcixkPXMscD0oci1zKSppO2E/KHA9LXApPjA/KGQ9cy1wLHA9MCk6LXArcz5yJiYoZD1yK3ApOnA8MD8oZD1zK3AscD0wKTpwK3M+ciYmKGQ9ci1wKSxlLmlzSG9yaXpvbnRhbCgpPyhuLnRyYW5zZm9ybShcInRyYW5zbGF0ZTNkKFwiK3ArXCJweCwgMCwgMClcIiksblswXS5zdHlsZS53aWR0aD1kK1wicHhcIik6KG4udHJhbnNmb3JtKFwidHJhbnNsYXRlM2QoMHB4LCBcIitwK1wicHgsIDApXCIpLG5bMF0uc3R5bGUuaGVpZ2h0PWQrXCJweFwiKSxsLmhpZGUmJihjbGVhclRpbWVvdXQoZS5zY3JvbGxiYXIudGltZW91dCksb1swXS5zdHlsZS5vcGFjaXR5PTEsZS5zY3JvbGxiYXIudGltZW91dD1zZXRUaW1lb3V0KChmdW5jdGlvbigpe29bMF0uc3R5bGUub3BhY2l0eT0wLG8udHJhbnNpdGlvbig0MDApfSksMWUzKSl9fSxzZXRUcmFuc2l0aW9uOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5wYXJhbXMuc2Nyb2xsYmFyLmVsJiZ0LnNjcm9sbGJhci5lbCYmdC5zY3JvbGxiYXIuJGRyYWdFbC50cmFuc2l0aW9uKGUpfSx1cGRhdGVTaXplOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZihlLnBhcmFtcy5zY3JvbGxiYXIuZWwmJmUuc2Nyb2xsYmFyLmVsKXt2YXIgdD1lLnNjcm9sbGJhcixhPXQuJGRyYWdFbCxpPXQuJGVsO2FbMF0uc3R5bGUud2lkdGg9XCJcIixhWzBdLnN0eWxlLmhlaWdodD1cIlwiO3ZhciBzLHI9ZS5pc0hvcml6b250YWwoKT9pWzBdLm9mZnNldFdpZHRoOmlbMF0ub2Zmc2V0SGVpZ2h0LG49ZS5zaXplL2UudmlydHVhbFNpemUsbz1uKihyL2Uuc2l6ZSk7cz1cImF1dG9cIj09PWUucGFyYW1zLnNjcm9sbGJhci5kcmFnU2l6ZT9yKm46cGFyc2VJbnQoZS5wYXJhbXMuc2Nyb2xsYmFyLmRyYWdTaXplLDEwKSxlLmlzSG9yaXpvbnRhbCgpP2FbMF0uc3R5bGUud2lkdGg9cytcInB4XCI6YVswXS5zdHlsZS5oZWlnaHQ9cytcInB4XCIsaVswXS5zdHlsZS5kaXNwbGF5PW4+PTE/XCJub25lXCI6XCJcIixlLnBhcmFtcy5zY3JvbGxiYXIuaGlkZSYmKGlbMF0uc3R5bGUub3BhY2l0eT0wKSxDKHQse3RyYWNrU2l6ZTpyLGRpdmlkZXI6bixtb3ZlRGl2aWRlcjpvLGRyYWdTaXplOnN9KSx0LiRlbFtlLnBhcmFtcy53YXRjaE92ZXJmbG93JiZlLmlzTG9ja2VkP1wiYWRkQ2xhc3NcIjpcInJlbW92ZUNsYXNzXCJdKGUucGFyYW1zLnNjcm9sbGJhci5sb2NrQ2xhc3MpfX0sZ2V0UG9pbnRlclBvc2l0aW9uOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmlzSG9yaXpvbnRhbCgpP1widG91Y2hzdGFydFwiPT09ZS50eXBlfHxcInRvdWNobW92ZVwiPT09ZS50eXBlP2UudGFyZ2V0VG91Y2hlc1swXS5jbGllbnRYOmUuY2xpZW50WDpcInRvdWNoc3RhcnRcIj09PWUudHlwZXx8XCJ0b3VjaG1vdmVcIj09PWUudHlwZT9lLnRhcmdldFRvdWNoZXNbMF0uY2xpZW50WTplLmNsaWVudFl9LHNldERyYWdQb3NpdGlvbjpmdW5jdGlvbihlKXt2YXIgdCxhPXRoaXMsaT1hLnNjcm9sbGJhcixzPWEucnRsVHJhbnNsYXRlLHI9aS4kZWwsbj1pLmRyYWdTaXplLG89aS50cmFja1NpemUsbD1pLmRyYWdTdGFydFBvczt0PShpLmdldFBvaW50ZXJQb3NpdGlvbihlKS1yLm9mZnNldCgpW2EuaXNIb3Jpem9udGFsKCk/XCJsZWZ0XCI6XCJ0b3BcIl0tKG51bGwhPT1sP2w6bi8yKSkvKG8tbiksdD1NYXRoLm1heChNYXRoLm1pbih0LDEpLDApLHMmJih0PTEtdCk7dmFyIGQ9YS5taW5UcmFuc2xhdGUoKSsoYS5tYXhUcmFuc2xhdGUoKS1hLm1pblRyYW5zbGF0ZSgpKSp0O2EudXBkYXRlUHJvZ3Jlc3MoZCksYS5zZXRUcmFuc2xhdGUoZCksYS51cGRhdGVBY3RpdmVJbmRleCgpLGEudXBkYXRlU2xpZGVzQ2xhc3NlcygpfSxvbkRyYWdTdGFydDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLGE9dC5wYXJhbXMuc2Nyb2xsYmFyLGk9dC5zY3JvbGxiYXIscz10LiR3cmFwcGVyRWwscj1pLiRlbCxuPWkuJGRyYWdFbDt0LnNjcm9sbGJhci5pc1RvdWNoZWQ9ITAsdC5zY3JvbGxiYXIuZHJhZ1N0YXJ0UG9zPWUudGFyZ2V0PT09blswXXx8ZS50YXJnZXQ9PT1uP2kuZ2V0UG9pbnRlclBvc2l0aW9uKGUpLWUudGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpW3QuaXNIb3Jpem9udGFsKCk/XCJsZWZ0XCI6XCJ0b3BcIl06bnVsbCxlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSxzLnRyYW5zaXRpb24oMTAwKSxuLnRyYW5zaXRpb24oMTAwKSxpLnNldERyYWdQb3NpdGlvbihlKSxjbGVhclRpbWVvdXQodC5zY3JvbGxiYXIuZHJhZ1RpbWVvdXQpLHIudHJhbnNpdGlvbigwKSxhLmhpZGUmJnIuY3NzKFwib3BhY2l0eVwiLDEpLHQucGFyYW1zLmNzc01vZGUmJnQuJHdyYXBwZXJFbC5jc3MoXCJzY3JvbGwtc25hcC10eXBlXCIsXCJub25lXCIpLHQuZW1pdChcInNjcm9sbGJhckRyYWdTdGFydFwiLGUpfSxvbkRyYWdNb3ZlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsYT10LnNjcm9sbGJhcixpPXQuJHdyYXBwZXJFbCxzPWEuJGVsLHI9YS4kZHJhZ0VsO3Quc2Nyb2xsYmFyLmlzVG91Y2hlZCYmKGUucHJldmVudERlZmF1bHQ/ZS5wcmV2ZW50RGVmYXVsdCgpOmUucmV0dXJuVmFsdWU9ITEsYS5zZXREcmFnUG9zaXRpb24oZSksaS50cmFuc2l0aW9uKDApLHMudHJhbnNpdGlvbigwKSxyLnRyYW5zaXRpb24oMCksdC5lbWl0KFwic2Nyb2xsYmFyRHJhZ01vdmVcIixlKSl9LG9uRHJhZ0VuZDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLGE9dC5wYXJhbXMuc2Nyb2xsYmFyLGk9dC5zY3JvbGxiYXIscz10LiR3cmFwcGVyRWwscj1pLiRlbDt0LnNjcm9sbGJhci5pc1RvdWNoZWQmJih0LnNjcm9sbGJhci5pc1RvdWNoZWQ9ITEsdC5wYXJhbXMuY3NzTW9kZSYmKHQuJHdyYXBwZXJFbC5jc3MoXCJzY3JvbGwtc25hcC10eXBlXCIsXCJcIikscy50cmFuc2l0aW9uKFwiXCIpKSxhLmhpZGUmJihjbGVhclRpbWVvdXQodC5zY3JvbGxiYXIuZHJhZ1RpbWVvdXQpLHQuc2Nyb2xsYmFyLmRyYWdUaW1lb3V0PUUoKGZ1bmN0aW9uKCl7ci5jc3MoXCJvcGFjaXR5XCIsMCksci50cmFuc2l0aW9uKDQwMCl9KSwxZTMpKSx0LmVtaXQoXCJzY3JvbGxiYXJEcmFnRW5kXCIsZSksYS5zbmFwT25SZWxlYXNlJiZ0LnNsaWRlVG9DbG9zZXN0KCkpfSxlbmFibGVEcmFnZ2FibGU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKGUucGFyYW1zLnNjcm9sbGJhci5lbCl7dmFyIHQ9cigpLGE9ZS5zY3JvbGxiYXIsaT1lLnRvdWNoRXZlbnRzVG91Y2gscz1lLnRvdWNoRXZlbnRzRGVza3RvcCxuPWUucGFyYW1zLG89ZS5zdXBwb3J0LGw9YS4kZWxbMF0sZD0hKCFvLnBhc3NpdmVMaXN0ZW5lcnx8IW4ucGFzc2l2ZUxpc3RlbmVycykmJntwYXNzaXZlOiExLGNhcHR1cmU6ITF9LHA9ISghby5wYXNzaXZlTGlzdGVuZXJ8fCFuLnBhc3NpdmVMaXN0ZW5lcnMpJiZ7cGFzc2l2ZTohMCxjYXB0dXJlOiExfTtsJiYoby50b3VjaD8obC5hZGRFdmVudExpc3RlbmVyKGkuc3RhcnQsZS5zY3JvbGxiYXIub25EcmFnU3RhcnQsZCksbC5hZGRFdmVudExpc3RlbmVyKGkubW92ZSxlLnNjcm9sbGJhci5vbkRyYWdNb3ZlLGQpLGwuYWRkRXZlbnRMaXN0ZW5lcihpLmVuZCxlLnNjcm9sbGJhci5vbkRyYWdFbmQscCkpOihsLmFkZEV2ZW50TGlzdGVuZXIocy5zdGFydCxlLnNjcm9sbGJhci5vbkRyYWdTdGFydCxkKSx0LmFkZEV2ZW50TGlzdGVuZXIocy5tb3ZlLGUuc2Nyb2xsYmFyLm9uRHJhZ01vdmUsZCksdC5hZGRFdmVudExpc3RlbmVyKHMuZW5kLGUuc2Nyb2xsYmFyLm9uRHJhZ0VuZCxwKSkpfX0sZGlzYWJsZURyYWdnYWJsZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYoZS5wYXJhbXMuc2Nyb2xsYmFyLmVsKXt2YXIgdD1yKCksYT1lLnNjcm9sbGJhcixpPWUudG91Y2hFdmVudHNUb3VjaCxzPWUudG91Y2hFdmVudHNEZXNrdG9wLG49ZS5wYXJhbXMsbz1lLnN1cHBvcnQsbD1hLiRlbFswXSxkPSEoIW8ucGFzc2l2ZUxpc3RlbmVyfHwhbi5wYXNzaXZlTGlzdGVuZXJzKSYme3Bhc3NpdmU6ITEsY2FwdHVyZTohMX0scD0hKCFvLnBhc3NpdmVMaXN0ZW5lcnx8IW4ucGFzc2l2ZUxpc3RlbmVycykmJntwYXNzaXZlOiEwLGNhcHR1cmU6ITF9O2wmJihvLnRvdWNoPyhsLnJlbW92ZUV2ZW50TGlzdGVuZXIoaS5zdGFydCxlLnNjcm9sbGJhci5vbkRyYWdTdGFydCxkKSxsLnJlbW92ZUV2ZW50TGlzdGVuZXIoaS5tb3ZlLGUuc2Nyb2xsYmFyLm9uRHJhZ01vdmUsZCksbC5yZW1vdmVFdmVudExpc3RlbmVyKGkuZW5kLGUuc2Nyb2xsYmFyLm9uRHJhZ0VuZCxwKSk6KGwucmVtb3ZlRXZlbnRMaXN0ZW5lcihzLnN0YXJ0LGUuc2Nyb2xsYmFyLm9uRHJhZ1N0YXJ0LGQpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihzLm1vdmUsZS5zY3JvbGxiYXIub25EcmFnTW92ZSxkKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIocy5lbmQsZS5zY3JvbGxiYXIub25EcmFnRW5kLHApKSl9fSxpbml0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZihlLnBhcmFtcy5zY3JvbGxiYXIuZWwpe3ZhciB0PWUuc2Nyb2xsYmFyLGE9ZS4kZWwsaT1lLnBhcmFtcy5zY3JvbGxiYXIscz1tKGkuZWwpO2UucGFyYW1zLnVuaXF1ZU5hdkVsZW1lbnRzJiZcInN0cmluZ1wiPT10eXBlb2YgaS5lbCYmcy5sZW5ndGg+MSYmMT09PWEuZmluZChpLmVsKS5sZW5ndGgmJihzPWEuZmluZChpLmVsKSk7dmFyIHI9cy5maW5kKFwiLlwiK2UucGFyYW1zLnNjcm9sbGJhci5kcmFnQ2xhc3MpOzA9PT1yLmxlbmd0aCYmKHI9bSgnPGRpdiBjbGFzcz1cIicrZS5wYXJhbXMuc2Nyb2xsYmFyLmRyYWdDbGFzcysnXCI+PC9kaXY+Jykscy5hcHBlbmQocikpLEModCx7JGVsOnMsZWw6c1swXSwkZHJhZ0VsOnIsZHJhZ0VsOnJbMF19KSxpLmRyYWdnYWJsZSYmdC5lbmFibGVEcmFnZ2FibGUoKX19LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLnNjcm9sbGJhci5kaXNhYmxlRHJhZ2dhYmxlKCl9fSxlZT17c2V0VHJhbnNmb3JtOmZ1bmN0aW9uKGUsdCl7dmFyIGE9dGhpcy5ydGwsaT1tKGUpLHM9YT8tMToxLHI9aS5hdHRyKFwiZGF0YS1zd2lwZXItcGFyYWxsYXhcIil8fFwiMFwiLG49aS5hdHRyKFwiZGF0YS1zd2lwZXItcGFyYWxsYXgteFwiKSxvPWkuYXR0cihcImRhdGEtc3dpcGVyLXBhcmFsbGF4LXlcIiksbD1pLmF0dHIoXCJkYXRhLXN3aXBlci1wYXJhbGxheC1zY2FsZVwiKSxkPWkuYXR0cihcImRhdGEtc3dpcGVyLXBhcmFsbGF4LW9wYWNpdHlcIik7aWYobnx8bz8obj1ufHxcIjBcIixvPW98fFwiMFwiKTp0aGlzLmlzSG9yaXpvbnRhbCgpPyhuPXIsbz1cIjBcIik6KG89cixuPVwiMFwiKSxuPW4uaW5kZXhPZihcIiVcIik+PTA/cGFyc2VJbnQobiwxMCkqdCpzK1wiJVwiOm4qdCpzK1wicHhcIixvPW8uaW5kZXhPZihcIiVcIik+PTA/cGFyc2VJbnQobywxMCkqdCtcIiVcIjpvKnQrXCJweFwiLG51bGwhPWQpe3ZhciBwPWQtKGQtMSkqKDEtTWF0aC5hYnModCkpO2lbMF0uc3R5bGUub3BhY2l0eT1wfWlmKG51bGw9PWwpaS50cmFuc2Zvcm0oXCJ0cmFuc2xhdGUzZChcIituK1wiLCBcIitvK1wiLCAwcHgpXCIpO2Vsc2V7dmFyIGM9bC0obC0xKSooMS1NYXRoLmFicyh0KSk7aS50cmFuc2Zvcm0oXCJ0cmFuc2xhdGUzZChcIituK1wiLCBcIitvK1wiLCAwcHgpIHNjYWxlKFwiK2MrXCIpXCIpfX0sc2V0VHJhbnNsYXRlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWUuJGVsLGE9ZS5zbGlkZXMsaT1lLnByb2dyZXNzLHM9ZS5zbmFwR3JpZDt0LmNoaWxkcmVuKFwiW2RhdGEtc3dpcGVyLXBhcmFsbGF4XSwgW2RhdGEtc3dpcGVyLXBhcmFsbGF4LXhdLCBbZGF0YS1zd2lwZXItcGFyYWxsYXgteV0sIFtkYXRhLXN3aXBlci1wYXJhbGxheC1vcGFjaXR5XSwgW2RhdGEtc3dpcGVyLXBhcmFsbGF4LXNjYWxlXVwiKS5lYWNoKChmdW5jdGlvbih0KXtlLnBhcmFsbGF4LnNldFRyYW5zZm9ybSh0LGkpfSkpLGEuZWFjaCgoZnVuY3Rpb24odCxhKXt2YXIgcj10LnByb2dyZXNzO2UucGFyYW1zLnNsaWRlc1Blckdyb3VwPjEmJlwiYXV0b1wiIT09ZS5wYXJhbXMuc2xpZGVzUGVyVmlldyYmKHIrPU1hdGguY2VpbChhLzIpLWkqKHMubGVuZ3RoLTEpKSxyPU1hdGgubWluKE1hdGgubWF4KHIsLTEpLDEpLG0odCkuZmluZChcIltkYXRhLXN3aXBlci1wYXJhbGxheF0sIFtkYXRhLXN3aXBlci1wYXJhbGxheC14XSwgW2RhdGEtc3dpcGVyLXBhcmFsbGF4LXldLCBbZGF0YS1zd2lwZXItcGFyYWxsYXgtb3BhY2l0eV0sIFtkYXRhLXN3aXBlci1wYXJhbGxheC1zY2FsZV1cIikuZWFjaCgoZnVuY3Rpb24odCl7ZS5wYXJhbGxheC5zZXRUcmFuc2Zvcm0odCxyKX0pKX0pKX0sc2V0VHJhbnNpdGlvbjpmdW5jdGlvbihlKXt2b2lkIDA9PT1lJiYoZT10aGlzLnBhcmFtcy5zcGVlZCk7dGhpcy4kZWwuZmluZChcIltkYXRhLXN3aXBlci1wYXJhbGxheF0sIFtkYXRhLXN3aXBlci1wYXJhbGxheC14XSwgW2RhdGEtc3dpcGVyLXBhcmFsbGF4LXldLCBbZGF0YS1zd2lwZXItcGFyYWxsYXgtb3BhY2l0eV0sIFtkYXRhLXN3aXBlci1wYXJhbGxheC1zY2FsZV1cIikuZWFjaCgoZnVuY3Rpb24odCl7dmFyIGE9bSh0KSxpPXBhcnNlSW50KGEuYXR0cihcImRhdGEtc3dpcGVyLXBhcmFsbGF4LWR1cmF0aW9uXCIpLDEwKXx8ZTswPT09ZSYmKGk9MCksYS50cmFuc2l0aW9uKGkpfSkpfX0sdGU9e2dldERpc3RhbmNlQmV0d2VlblRvdWNoZXM6ZnVuY3Rpb24oZSl7aWYoZS50YXJnZXRUb3VjaGVzLmxlbmd0aDwyKXJldHVybiAxO3ZhciB0PWUudGFyZ2V0VG91Y2hlc1swXS5wYWdlWCxhPWUudGFyZ2V0VG91Y2hlc1swXS5wYWdlWSxpPWUudGFyZ2V0VG91Y2hlc1sxXS5wYWdlWCxzPWUudGFyZ2V0VG91Y2hlc1sxXS5wYWdlWTtyZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KGktdCwyKStNYXRoLnBvdyhzLWEsMikpfSxvbkdlc3R1cmVTdGFydDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLGE9dC5zdXBwb3J0LGk9dC5wYXJhbXMuem9vbSxzPXQuem9vbSxyPXMuZ2VzdHVyZTtpZihzLmZha2VHZXN0dXJlVG91Y2hlZD0hMSxzLmZha2VHZXN0dXJlTW92ZWQ9ITEsIWEuZ2VzdHVyZXMpe2lmKFwidG91Y2hzdGFydFwiIT09ZS50eXBlfHxcInRvdWNoc3RhcnRcIj09PWUudHlwZSYmZS50YXJnZXRUb3VjaGVzLmxlbmd0aDwyKXJldHVybjtzLmZha2VHZXN0dXJlVG91Y2hlZD0hMCxyLnNjYWxlU3RhcnQ9dGUuZ2V0RGlzdGFuY2VCZXR3ZWVuVG91Y2hlcyhlKX1yLiRzbGlkZUVsJiZyLiRzbGlkZUVsLmxlbmd0aHx8KHIuJHNsaWRlRWw9bShlLnRhcmdldCkuY2xvc2VzdChcIi5cIit0LnBhcmFtcy5zbGlkZUNsYXNzKSwwPT09ci4kc2xpZGVFbC5sZW5ndGgmJihyLiRzbGlkZUVsPXQuc2xpZGVzLmVxKHQuYWN0aXZlSW5kZXgpKSxyLiRpbWFnZUVsPXIuJHNsaWRlRWwuZmluZChcImltZywgc3ZnLCBjYW52YXMsIHBpY3R1cmUsIC5zd2lwZXItem9vbS10YXJnZXRcIiksci4kaW1hZ2VXcmFwRWw9ci4kaW1hZ2VFbC5wYXJlbnQoXCIuXCIraS5jb250YWluZXJDbGFzcyksci5tYXhSYXRpbz1yLiRpbWFnZVdyYXBFbC5hdHRyKFwiZGF0YS1zd2lwZXItem9vbVwiKXx8aS5tYXhSYXRpbywwIT09ci4kaW1hZ2VXcmFwRWwubGVuZ3RoKT8oci4kaW1hZ2VFbCYmci4kaW1hZ2VFbC50cmFuc2l0aW9uKDApLHQuem9vbS5pc1NjYWxpbmc9ITApOnIuJGltYWdlRWw9dm9pZCAwfSxvbkdlc3R1cmVDaGFuZ2U6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxhPXQuc3VwcG9ydCxpPXQucGFyYW1zLnpvb20scz10Lnpvb20scj1zLmdlc3R1cmU7aWYoIWEuZ2VzdHVyZXMpe2lmKFwidG91Y2htb3ZlXCIhPT1lLnR5cGV8fFwidG91Y2htb3ZlXCI9PT1lLnR5cGUmJmUudGFyZ2V0VG91Y2hlcy5sZW5ndGg8MilyZXR1cm47cy5mYWtlR2VzdHVyZU1vdmVkPSEwLHIuc2NhbGVNb3ZlPXRlLmdldERpc3RhbmNlQmV0d2VlblRvdWNoZXMoZSl9ci4kaW1hZ2VFbCYmMCE9PXIuJGltYWdlRWwubGVuZ3RoPyhhLmdlc3R1cmVzP3Muc2NhbGU9ZS5zY2FsZSpzLmN1cnJlbnRTY2FsZTpzLnNjYWxlPXIuc2NhbGVNb3ZlL3Iuc2NhbGVTdGFydCpzLmN1cnJlbnRTY2FsZSxzLnNjYWxlPnIubWF4UmF0aW8mJihzLnNjYWxlPXIubWF4UmF0aW8tMStNYXRoLnBvdyhzLnNjYWxlLXIubWF4UmF0aW8rMSwuNSkpLHMuc2NhbGU8aS5taW5SYXRpbyYmKHMuc2NhbGU9aS5taW5SYXRpbysxLU1hdGgucG93KGkubWluUmF0aW8tcy5zY2FsZSsxLC41KSksci4kaW1hZ2VFbC50cmFuc2Zvcm0oXCJ0cmFuc2xhdGUzZCgwLDAsMCkgc2NhbGUoXCIrcy5zY2FsZStcIilcIikpOlwiZ2VzdHVyZWNoYW5nZVwiPT09ZS50eXBlJiZzLm9uR2VzdHVyZVN0YXJ0KGUpfSxvbkdlc3R1cmVFbmQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxhPXQuZGV2aWNlLGk9dC5zdXBwb3J0LHM9dC5wYXJhbXMuem9vbSxyPXQuem9vbSxuPXIuZ2VzdHVyZTtpZighaS5nZXN0dXJlcyl7aWYoIXIuZmFrZUdlc3R1cmVUb3VjaGVkfHwhci5mYWtlR2VzdHVyZU1vdmVkKXJldHVybjtpZihcInRvdWNoZW5kXCIhPT1lLnR5cGV8fFwidG91Y2hlbmRcIj09PWUudHlwZSYmZS5jaGFuZ2VkVG91Y2hlcy5sZW5ndGg8MiYmIWEuYW5kcm9pZClyZXR1cm47ci5mYWtlR2VzdHVyZVRvdWNoZWQ9ITEsci5mYWtlR2VzdHVyZU1vdmVkPSExfW4uJGltYWdlRWwmJjAhPT1uLiRpbWFnZUVsLmxlbmd0aCYmKHIuc2NhbGU9TWF0aC5tYXgoTWF0aC5taW4oci5zY2FsZSxuLm1heFJhdGlvKSxzLm1pblJhdGlvKSxuLiRpbWFnZUVsLnRyYW5zaXRpb24odC5wYXJhbXMuc3BlZWQpLnRyYW5zZm9ybShcInRyYW5zbGF0ZTNkKDAsMCwwKSBzY2FsZShcIityLnNjYWxlK1wiKVwiKSxyLmN1cnJlbnRTY2FsZT1yLnNjYWxlLHIuaXNTY2FsaW5nPSExLDE9PT1yLnNjYWxlJiYobi4kc2xpZGVFbD12b2lkIDApKX0sb25Ub3VjaFN0YXJ0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZGV2aWNlLGE9dGhpcy56b29tLGk9YS5nZXN0dXJlLHM9YS5pbWFnZTtpLiRpbWFnZUVsJiYwIT09aS4kaW1hZ2VFbC5sZW5ndGgmJihzLmlzVG91Y2hlZHx8KHQuYW5kcm9pZCYmZS5jYW5jZWxhYmxlJiZlLnByZXZlbnREZWZhdWx0KCkscy5pc1RvdWNoZWQ9ITAscy50b3VjaGVzU3RhcnQueD1cInRvdWNoc3RhcnRcIj09PWUudHlwZT9lLnRhcmdldFRvdWNoZXNbMF0ucGFnZVg6ZS5wYWdlWCxzLnRvdWNoZXNTdGFydC55PVwidG91Y2hzdGFydFwiPT09ZS50eXBlP2UudGFyZ2V0VG91Y2hlc1swXS5wYWdlWTplLnBhZ2VZKSl9LG9uVG91Y2hNb3ZlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsYT10Lnpvb20saT1hLmdlc3R1cmUscz1hLmltYWdlLHI9YS52ZWxvY2l0eTtpZihpLiRpbWFnZUVsJiYwIT09aS4kaW1hZ2VFbC5sZW5ndGgmJih0LmFsbG93Q2xpY2s9ITEscy5pc1RvdWNoZWQmJmkuJHNsaWRlRWwpKXtzLmlzTW92ZWR8fChzLndpZHRoPWkuJGltYWdlRWxbMF0ub2Zmc2V0V2lkdGgscy5oZWlnaHQ9aS4kaW1hZ2VFbFswXS5vZmZzZXRIZWlnaHQscy5zdGFydFg9VChpLiRpbWFnZVdyYXBFbFswXSxcInhcIil8fDAscy5zdGFydFk9VChpLiRpbWFnZVdyYXBFbFswXSxcInlcIil8fDAsaS5zbGlkZVdpZHRoPWkuJHNsaWRlRWxbMF0ub2Zmc2V0V2lkdGgsaS5zbGlkZUhlaWdodD1pLiRzbGlkZUVsWzBdLm9mZnNldEhlaWdodCxpLiRpbWFnZVdyYXBFbC50cmFuc2l0aW9uKDApLHQucnRsJiYocy5zdGFydFg9LXMuc3RhcnRYLHMuc3RhcnRZPS1zLnN0YXJ0WSkpO3ZhciBuPXMud2lkdGgqYS5zY2FsZSxvPXMuaGVpZ2h0KmEuc2NhbGU7aWYoIShuPGkuc2xpZGVXaWR0aCYmbzxpLnNsaWRlSGVpZ2h0KSl7aWYocy5taW5YPU1hdGgubWluKGkuc2xpZGVXaWR0aC8yLW4vMiwwKSxzLm1heFg9LXMubWluWCxzLm1pblk9TWF0aC5taW4oaS5zbGlkZUhlaWdodC8yLW8vMiwwKSxzLm1heFk9LXMubWluWSxzLnRvdWNoZXNDdXJyZW50Lng9XCJ0b3VjaG1vdmVcIj09PWUudHlwZT9lLnRhcmdldFRvdWNoZXNbMF0ucGFnZVg6ZS5wYWdlWCxzLnRvdWNoZXNDdXJyZW50Lnk9XCJ0b3VjaG1vdmVcIj09PWUudHlwZT9lLnRhcmdldFRvdWNoZXNbMF0ucGFnZVk6ZS5wYWdlWSwhcy5pc01vdmVkJiYhYS5pc1NjYWxpbmcpe2lmKHQuaXNIb3Jpem9udGFsKCkmJihNYXRoLmZsb29yKHMubWluWCk9PT1NYXRoLmZsb29yKHMuc3RhcnRYKSYmcy50b3VjaGVzQ3VycmVudC54PHMudG91Y2hlc1N0YXJ0Lnh8fE1hdGguZmxvb3Iocy5tYXhYKT09PU1hdGguZmxvb3Iocy5zdGFydFgpJiZzLnRvdWNoZXNDdXJyZW50Lng+cy50b3VjaGVzU3RhcnQueCkpcmV0dXJuIHZvaWQocy5pc1RvdWNoZWQ9ITEpO2lmKCF0LmlzSG9yaXpvbnRhbCgpJiYoTWF0aC5mbG9vcihzLm1pblkpPT09TWF0aC5mbG9vcihzLnN0YXJ0WSkmJnMudG91Y2hlc0N1cnJlbnQueTxzLnRvdWNoZXNTdGFydC55fHxNYXRoLmZsb29yKHMubWF4WSk9PT1NYXRoLmZsb29yKHMuc3RhcnRZKSYmcy50b3VjaGVzQ3VycmVudC55PnMudG91Y2hlc1N0YXJ0LnkpKXJldHVybiB2b2lkKHMuaXNUb3VjaGVkPSExKX1lLmNhbmNlbGFibGUmJmUucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpLHMuaXNNb3ZlZD0hMCxzLmN1cnJlbnRYPXMudG91Y2hlc0N1cnJlbnQueC1zLnRvdWNoZXNTdGFydC54K3Muc3RhcnRYLHMuY3VycmVudFk9cy50b3VjaGVzQ3VycmVudC55LXMudG91Y2hlc1N0YXJ0Lnkrcy5zdGFydFkscy5jdXJyZW50WDxzLm1pblgmJihzLmN1cnJlbnRYPXMubWluWCsxLU1hdGgucG93KHMubWluWC1zLmN1cnJlbnRYKzEsLjgpKSxzLmN1cnJlbnRYPnMubWF4WCYmKHMuY3VycmVudFg9cy5tYXhYLTErTWF0aC5wb3cocy5jdXJyZW50WC1zLm1heFgrMSwuOCkpLHMuY3VycmVudFk8cy5taW5ZJiYocy5jdXJyZW50WT1zLm1pblkrMS1NYXRoLnBvdyhzLm1pblktcy5jdXJyZW50WSsxLC44KSkscy5jdXJyZW50WT5zLm1heFkmJihzLmN1cnJlbnRZPXMubWF4WS0xK01hdGgucG93KHMuY3VycmVudFktcy5tYXhZKzEsLjgpKSxyLnByZXZQb3NpdGlvblh8fChyLnByZXZQb3NpdGlvblg9cy50b3VjaGVzQ3VycmVudC54KSxyLnByZXZQb3NpdGlvbll8fChyLnByZXZQb3NpdGlvblk9cy50b3VjaGVzQ3VycmVudC55KSxyLnByZXZUaW1lfHwoci5wcmV2VGltZT1EYXRlLm5vdygpKSxyLng9KHMudG91Y2hlc0N1cnJlbnQueC1yLnByZXZQb3NpdGlvblgpLyhEYXRlLm5vdygpLXIucHJldlRpbWUpLzIsci55PShzLnRvdWNoZXNDdXJyZW50Lnktci5wcmV2UG9zaXRpb25ZKS8oRGF0ZS5ub3coKS1yLnByZXZUaW1lKS8yLE1hdGguYWJzKHMudG91Y2hlc0N1cnJlbnQueC1yLnByZXZQb3NpdGlvblgpPDImJihyLng9MCksTWF0aC5hYnMocy50b3VjaGVzQ3VycmVudC55LXIucHJldlBvc2l0aW9uWSk8MiYmKHIueT0wKSxyLnByZXZQb3NpdGlvblg9cy50b3VjaGVzQ3VycmVudC54LHIucHJldlBvc2l0aW9uWT1zLnRvdWNoZXNDdXJyZW50Lnksci5wcmV2VGltZT1EYXRlLm5vdygpLGkuJGltYWdlV3JhcEVsLnRyYW5zZm9ybShcInRyYW5zbGF0ZTNkKFwiK3MuY3VycmVudFgrXCJweCwgXCIrcy5jdXJyZW50WStcInB4LDApXCIpfX19LG9uVG91Y2hFbmQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnpvb20sdD1lLmdlc3R1cmUsYT1lLmltYWdlLGk9ZS52ZWxvY2l0eTtpZih0LiRpbWFnZUVsJiYwIT09dC4kaW1hZ2VFbC5sZW5ndGgpe2lmKCFhLmlzVG91Y2hlZHx8IWEuaXNNb3ZlZClyZXR1cm4gYS5pc1RvdWNoZWQ9ITEsdm9pZChhLmlzTW92ZWQ9ITEpO2EuaXNUb3VjaGVkPSExLGEuaXNNb3ZlZD0hMTt2YXIgcz0zMDAscj0zMDAsbj1pLngqcyxvPWEuY3VycmVudFgrbixsPWkueSpyLGQ9YS5jdXJyZW50WStsOzAhPT1pLngmJihzPU1hdGguYWJzKChvLWEuY3VycmVudFgpL2kueCkpLDAhPT1pLnkmJihyPU1hdGguYWJzKChkLWEuY3VycmVudFkpL2kueSkpO3ZhciBwPU1hdGgubWF4KHMscik7YS5jdXJyZW50WD1vLGEuY3VycmVudFk9ZDt2YXIgYz1hLndpZHRoKmUuc2NhbGUsdT1hLmhlaWdodCplLnNjYWxlO2EubWluWD1NYXRoLm1pbih0LnNsaWRlV2lkdGgvMi1jLzIsMCksYS5tYXhYPS1hLm1pblgsYS5taW5ZPU1hdGgubWluKHQuc2xpZGVIZWlnaHQvMi11LzIsMCksYS5tYXhZPS1hLm1pblksYS5jdXJyZW50WD1NYXRoLm1heChNYXRoLm1pbihhLmN1cnJlbnRYLGEubWF4WCksYS5taW5YKSxhLmN1cnJlbnRZPU1hdGgubWF4KE1hdGgubWluKGEuY3VycmVudFksYS5tYXhZKSxhLm1pblkpLHQuJGltYWdlV3JhcEVsLnRyYW5zaXRpb24ocCkudHJhbnNmb3JtKFwidHJhbnNsYXRlM2QoXCIrYS5jdXJyZW50WCtcInB4LCBcIithLmN1cnJlbnRZK1wicHgsMClcIil9fSxvblRyYW5zaXRpb25FbmQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9ZS56b29tLGE9dC5nZXN0dXJlO2EuJHNsaWRlRWwmJmUucHJldmlvdXNJbmRleCE9PWUuYWN0aXZlSW5kZXgmJihhLiRpbWFnZUVsJiZhLiRpbWFnZUVsLnRyYW5zZm9ybShcInRyYW5zbGF0ZTNkKDAsMCwwKSBzY2FsZSgxKVwiKSxhLiRpbWFnZVdyYXBFbCYmYS4kaW1hZ2VXcmFwRWwudHJhbnNmb3JtKFwidHJhbnNsYXRlM2QoMCwwLDApXCIpLHQuc2NhbGU9MSx0LmN1cnJlbnRTY2FsZT0xLGEuJHNsaWRlRWw9dm9pZCAwLGEuJGltYWdlRWw9dm9pZCAwLGEuJGltYWdlV3JhcEVsPXZvaWQgMCl9LHRvZ2dsZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnpvb207dC5zY2FsZSYmMSE9PXQuc2NhbGU/dC5vdXQoKTp0LmluKGUpfSxpbjpmdW5jdGlvbihlKXt2YXIgdCxhLGkscyxyLG4sbCxkLHAsYyx1LGgsdixmLG0sZyxiPXRoaXMsdz1vKCkseT1iLnpvb20sRT1iLnBhcmFtcy56b29tLHg9eS5nZXN0dXJlLFQ9eS5pbWFnZTsoeC4kc2xpZGVFbHx8KGIucGFyYW1zLnZpcnR1YWwmJmIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCYmYi52aXJ0dWFsP3guJHNsaWRlRWw9Yi4kd3JhcHBlckVsLmNoaWxkcmVuKFwiLlwiK2IucGFyYW1zLnNsaWRlQWN0aXZlQ2xhc3MpOnguJHNsaWRlRWw9Yi5zbGlkZXMuZXEoYi5hY3RpdmVJbmRleCkseC4kaW1hZ2VFbD14LiRzbGlkZUVsLmZpbmQoXCJpbWcsIHN2ZywgY2FudmFzLCBwaWN0dXJlLCAuc3dpcGVyLXpvb20tdGFyZ2V0XCIpLHguJGltYWdlV3JhcEVsPXguJGltYWdlRWwucGFyZW50KFwiLlwiK0UuY29udGFpbmVyQ2xhc3MpKSx4LiRpbWFnZUVsJiYwIT09eC4kaW1hZ2VFbC5sZW5ndGgpJiYoeC4kc2xpZGVFbC5hZGRDbGFzcyhcIlwiK0Uuem9vbWVkU2xpZGVDbGFzcyksdm9pZCAwPT09VC50b3VjaGVzU3RhcnQueCYmZT8odD1cInRvdWNoZW5kXCI9PT1lLnR5cGU/ZS5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWDplLnBhZ2VYLGE9XCJ0b3VjaGVuZFwiPT09ZS50eXBlP2UuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVk6ZS5wYWdlWSk6KHQ9VC50b3VjaGVzU3RhcnQueCxhPVQudG91Y2hlc1N0YXJ0LnkpLHkuc2NhbGU9eC4kaW1hZ2VXcmFwRWwuYXR0cihcImRhdGEtc3dpcGVyLXpvb21cIil8fEUubWF4UmF0aW8seS5jdXJyZW50U2NhbGU9eC4kaW1hZ2VXcmFwRWwuYXR0cihcImRhdGEtc3dpcGVyLXpvb21cIil8fEUubWF4UmF0aW8sZT8obT14LiRzbGlkZUVsWzBdLm9mZnNldFdpZHRoLGc9eC4kc2xpZGVFbFswXS5vZmZzZXRIZWlnaHQsaT14LiRzbGlkZUVsLm9mZnNldCgpLmxlZnQrdy5zY3JvbGxYK20vMi10LHM9eC4kc2xpZGVFbC5vZmZzZXQoKS50b3Ardy5zY3JvbGxZK2cvMi1hLGw9eC4kaW1hZ2VFbFswXS5vZmZzZXRXaWR0aCxkPXguJGltYWdlRWxbMF0ub2Zmc2V0SGVpZ2h0LHA9bCp5LnNjYWxlLGM9ZCp5LnNjYWxlLHY9LSh1PU1hdGgubWluKG0vMi1wLzIsMCkpLGY9LShoPU1hdGgubWluKGcvMi1jLzIsMCkpLChyPWkqeS5zY2FsZSk8dSYmKHI9dSkscj52JiYocj12KSwobj1zKnkuc2NhbGUpPGgmJihuPWgpLG4+ZiYmKG49ZikpOihyPTAsbj0wKSx4LiRpbWFnZVdyYXBFbC50cmFuc2l0aW9uKDMwMCkudHJhbnNmb3JtKFwidHJhbnNsYXRlM2QoXCIrcitcInB4LCBcIituK1wicHgsMClcIikseC4kaW1hZ2VFbC50cmFuc2l0aW9uKDMwMCkudHJhbnNmb3JtKFwidHJhbnNsYXRlM2QoMCwwLDApIHNjYWxlKFwiK3kuc2NhbGUrXCIpXCIpKX0sb3V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWUuem9vbSxhPWUucGFyYW1zLnpvb20saT10Lmdlc3R1cmU7aS4kc2xpZGVFbHx8KGUucGFyYW1zLnZpcnR1YWwmJmUucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCYmZS52aXJ0dWFsP2kuJHNsaWRlRWw9ZS4kd3JhcHBlckVsLmNoaWxkcmVuKFwiLlwiK2UucGFyYW1zLnNsaWRlQWN0aXZlQ2xhc3MpOmkuJHNsaWRlRWw9ZS5zbGlkZXMuZXEoZS5hY3RpdmVJbmRleCksaS4kaW1hZ2VFbD1pLiRzbGlkZUVsLmZpbmQoXCJpbWcsIHN2ZywgY2FudmFzLCBwaWN0dXJlLCAuc3dpcGVyLXpvb20tdGFyZ2V0XCIpLGkuJGltYWdlV3JhcEVsPWkuJGltYWdlRWwucGFyZW50KFwiLlwiK2EuY29udGFpbmVyQ2xhc3MpKSxpLiRpbWFnZUVsJiYwIT09aS4kaW1hZ2VFbC5sZW5ndGgmJih0LnNjYWxlPTEsdC5jdXJyZW50U2NhbGU9MSxpLiRpbWFnZVdyYXBFbC50cmFuc2l0aW9uKDMwMCkudHJhbnNmb3JtKFwidHJhbnNsYXRlM2QoMCwwLDApXCIpLGkuJGltYWdlRWwudHJhbnNpdGlvbigzMDApLnRyYW5zZm9ybShcInRyYW5zbGF0ZTNkKDAsMCwwKSBzY2FsZSgxKVwiKSxpLiRzbGlkZUVsLnJlbW92ZUNsYXNzKFwiXCIrYS56b29tZWRTbGlkZUNsYXNzKSxpLiRzbGlkZUVsPXZvaWQgMCl9LHRvZ2dsZUdlc3R1cmVzOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsYT10Lnpvb20saT1hLnNsaWRlU2VsZWN0b3Iscz1hLnBhc3NpdmVMaXN0ZW5lcjt0LiR3cmFwcGVyRWxbZV0oXCJnZXN0dXJlc3RhcnRcIixpLGEub25HZXN0dXJlU3RhcnQscyksdC4kd3JhcHBlckVsW2VdKFwiZ2VzdHVyZWNoYW5nZVwiLGksYS5vbkdlc3R1cmVDaGFuZ2UscyksdC4kd3JhcHBlckVsW2VdKFwiZ2VzdHVyZWVuZFwiLGksYS5vbkdlc3R1cmVFbmQscyl9LGVuYWJsZUdlc3R1cmVzOmZ1bmN0aW9uKCl7dGhpcy56b29tLmdlc3R1cmVzRW5hYmxlZHx8KHRoaXMuem9vbS5nZXN0dXJlc0VuYWJsZWQ9ITAsdGhpcy56b29tLnRvZ2dsZUdlc3R1cmVzKFwib25cIikpfSxkaXNhYmxlR2VzdHVyZXM6ZnVuY3Rpb24oKXt0aGlzLnpvb20uZ2VzdHVyZXNFbmFibGVkJiYodGhpcy56b29tLmdlc3R1cmVzRW5hYmxlZD0hMSx0aGlzLnpvb20udG9nZ2xlR2VzdHVyZXMoXCJvZmZcIikpfSxlbmFibGU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9ZS5zdXBwb3J0LGE9ZS56b29tO2lmKCFhLmVuYWJsZWQpe2EuZW5hYmxlZD0hMDt2YXIgaT0hKFwidG91Y2hzdGFydFwiIT09ZS50b3VjaEV2ZW50cy5zdGFydHx8IXQucGFzc2l2ZUxpc3RlbmVyfHwhZS5wYXJhbXMucGFzc2l2ZUxpc3RlbmVycykmJntwYXNzaXZlOiEwLGNhcHR1cmU6ITF9LHM9IXQucGFzc2l2ZUxpc3RlbmVyfHx7cGFzc2l2ZTohMSxjYXB0dXJlOiEwfSxyPVwiLlwiK2UucGFyYW1zLnNsaWRlQ2xhc3M7ZS56b29tLnBhc3NpdmVMaXN0ZW5lcj1pLGUuem9vbS5zbGlkZVNlbGVjdG9yPXIsdC5nZXN0dXJlcz8oZS4kd3JhcHBlckVsLm9uKGUudG91Y2hFdmVudHMuc3RhcnQsZS56b29tLmVuYWJsZUdlc3R1cmVzLGkpLGUuJHdyYXBwZXJFbC5vbihlLnRvdWNoRXZlbnRzLmVuZCxlLnpvb20uZGlzYWJsZUdlc3R1cmVzLGkpKTpcInRvdWNoc3RhcnRcIj09PWUudG91Y2hFdmVudHMuc3RhcnQmJihlLiR3cmFwcGVyRWwub24oZS50b3VjaEV2ZW50cy5zdGFydCxyLGEub25HZXN0dXJlU3RhcnQsaSksZS4kd3JhcHBlckVsLm9uKGUudG91Y2hFdmVudHMubW92ZSxyLGEub25HZXN0dXJlQ2hhbmdlLHMpLGUuJHdyYXBwZXJFbC5vbihlLnRvdWNoRXZlbnRzLmVuZCxyLGEub25HZXN0dXJlRW5kLGkpLGUudG91Y2hFdmVudHMuY2FuY2VsJiZlLiR3cmFwcGVyRWwub24oZS50b3VjaEV2ZW50cy5jYW5jZWwscixhLm9uR2VzdHVyZUVuZCxpKSksZS4kd3JhcHBlckVsLm9uKGUudG91Y2hFdmVudHMubW92ZSxcIi5cIitlLnBhcmFtcy56b29tLmNvbnRhaW5lckNsYXNzLGEub25Ub3VjaE1vdmUscyl9fSxkaXNhYmxlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWUuem9vbTtpZih0LmVuYWJsZWQpe3ZhciBhPWUuc3VwcG9ydDtlLnpvb20uZW5hYmxlZD0hMTt2YXIgaT0hKFwidG91Y2hzdGFydFwiIT09ZS50b3VjaEV2ZW50cy5zdGFydHx8IWEucGFzc2l2ZUxpc3RlbmVyfHwhZS5wYXJhbXMucGFzc2l2ZUxpc3RlbmVycykmJntwYXNzaXZlOiEwLGNhcHR1cmU6ITF9LHM9IWEucGFzc2l2ZUxpc3RlbmVyfHx7cGFzc2l2ZTohMSxjYXB0dXJlOiEwfSxyPVwiLlwiK2UucGFyYW1zLnNsaWRlQ2xhc3M7YS5nZXN0dXJlcz8oZS4kd3JhcHBlckVsLm9mZihlLnRvdWNoRXZlbnRzLnN0YXJ0LGUuem9vbS5lbmFibGVHZXN0dXJlcyxpKSxlLiR3cmFwcGVyRWwub2ZmKGUudG91Y2hFdmVudHMuZW5kLGUuem9vbS5kaXNhYmxlR2VzdHVyZXMsaSkpOlwidG91Y2hzdGFydFwiPT09ZS50b3VjaEV2ZW50cy5zdGFydCYmKGUuJHdyYXBwZXJFbC5vZmYoZS50b3VjaEV2ZW50cy5zdGFydCxyLHQub25HZXN0dXJlU3RhcnQsaSksZS4kd3JhcHBlckVsLm9mZihlLnRvdWNoRXZlbnRzLm1vdmUscix0Lm9uR2VzdHVyZUNoYW5nZSxzKSxlLiR3cmFwcGVyRWwub2ZmKGUudG91Y2hFdmVudHMuZW5kLHIsdC5vbkdlc3R1cmVFbmQsaSksZS50b3VjaEV2ZW50cy5jYW5jZWwmJmUuJHdyYXBwZXJFbC5vZmYoZS50b3VjaEV2ZW50cy5jYW5jZWwscix0Lm9uR2VzdHVyZUVuZCxpKSksZS4kd3JhcHBlckVsLm9mZihlLnRvdWNoRXZlbnRzLm1vdmUsXCIuXCIrZS5wYXJhbXMuem9vbS5jb250YWluZXJDbGFzcyx0Lm9uVG91Y2hNb3ZlLHMpfX19LGFlPXtsb2FkSW5TbGlkZTpmdW5jdGlvbihlLHQpe3ZvaWQgMD09PXQmJih0PSEwKTt2YXIgYT10aGlzLGk9YS5wYXJhbXMubGF6eTtpZih2b2lkIDAhPT1lJiYwIT09YS5zbGlkZXMubGVuZ3RoKXt2YXIgcz1hLnZpcnR1YWwmJmEucGFyYW1zLnZpcnR1YWwuZW5hYmxlZD9hLiR3cmFwcGVyRWwuY2hpbGRyZW4oXCIuXCIrYS5wYXJhbXMuc2xpZGVDbGFzcysnW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVwiJytlKydcIl0nKTphLnNsaWRlcy5lcShlKSxyPXMuZmluZChcIi5cIitpLmVsZW1lbnRDbGFzcytcIjpub3QoLlwiK2kubG9hZGVkQ2xhc3MrXCIpOm5vdCguXCIraS5sb2FkaW5nQ2xhc3MrXCIpXCIpOyFzLmhhc0NsYXNzKGkuZWxlbWVudENsYXNzKXx8cy5oYXNDbGFzcyhpLmxvYWRlZENsYXNzKXx8cy5oYXNDbGFzcyhpLmxvYWRpbmdDbGFzcyl8fHIucHVzaChzWzBdKSwwIT09ci5sZW5ndGgmJnIuZWFjaCgoZnVuY3Rpb24oZSl7dmFyIHI9bShlKTtyLmFkZENsYXNzKGkubG9hZGluZ0NsYXNzKTt2YXIgbj1yLmF0dHIoXCJkYXRhLWJhY2tncm91bmRcIiksbz1yLmF0dHIoXCJkYXRhLXNyY1wiKSxsPXIuYXR0cihcImRhdGEtc3Jjc2V0XCIpLGQ9ci5hdHRyKFwiZGF0YS1zaXplc1wiKSxwPXIucGFyZW50KFwicGljdHVyZVwiKTthLmxvYWRJbWFnZShyWzBdLG98fG4sbCxkLCExLChmdW5jdGlvbigpe2lmKG51bGwhPWEmJmEmJighYXx8YS5wYXJhbXMpJiYhYS5kZXN0cm95ZWQpe2lmKG4/KHIuY3NzKFwiYmFja2dyb3VuZC1pbWFnZVwiLCd1cmwoXCInK24rJ1wiKScpLHIucmVtb3ZlQXR0cihcImRhdGEtYmFja2dyb3VuZFwiKSk6KGwmJihyLmF0dHIoXCJzcmNzZXRcIixsKSxyLnJlbW92ZUF0dHIoXCJkYXRhLXNyY3NldFwiKSksZCYmKHIuYXR0cihcInNpemVzXCIsZCksci5yZW1vdmVBdHRyKFwiZGF0YS1zaXplc1wiKSkscC5sZW5ndGgmJnAuY2hpbGRyZW4oXCJzb3VyY2VcIikuZWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9bShlKTt0LmF0dHIoXCJkYXRhLXNyY3NldFwiKSYmKHQuYXR0cihcInNyY3NldFwiLHQuYXR0cihcImRhdGEtc3Jjc2V0XCIpKSx0LnJlbW92ZUF0dHIoXCJkYXRhLXNyY3NldFwiKSl9KSksbyYmKHIuYXR0cihcInNyY1wiLG8pLHIucmVtb3ZlQXR0cihcImRhdGEtc3JjXCIpKSksci5hZGRDbGFzcyhpLmxvYWRlZENsYXNzKS5yZW1vdmVDbGFzcyhpLmxvYWRpbmdDbGFzcykscy5maW5kKFwiLlwiK2kucHJlbG9hZGVyQ2xhc3MpLnJlbW92ZSgpLGEucGFyYW1zLmxvb3AmJnQpe3ZhciBlPXMuYXR0cihcImRhdGEtc3dpcGVyLXNsaWRlLWluZGV4XCIpO2lmKHMuaGFzQ2xhc3MoYS5wYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzcykpe3ZhciBjPWEuJHdyYXBwZXJFbC5jaGlsZHJlbignW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVwiJytlKydcIl06bm90KC4nK2EucGFyYW1zLnNsaWRlRHVwbGljYXRlQ2xhc3MrXCIpXCIpO2EubGF6eS5sb2FkSW5TbGlkZShjLmluZGV4KCksITEpfWVsc2V7dmFyIHU9YS4kd3JhcHBlckVsLmNoaWxkcmVuKFwiLlwiK2EucGFyYW1zLnNsaWRlRHVwbGljYXRlQ2xhc3MrJ1tkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cIicrZSsnXCJdJyk7YS5sYXp5LmxvYWRJblNsaWRlKHUuaW5kZXgoKSwhMSl9fWEuZW1pdChcImxhenlJbWFnZVJlYWR5XCIsc1swXSxyWzBdKSxhLnBhcmFtcy5hdXRvSGVpZ2h0JiZhLnVwZGF0ZUF1dG9IZWlnaHQoKX19KSksYS5lbWl0KFwibGF6eUltYWdlTG9hZFwiLHNbMF0sclswXSl9KSl9fSxsb2FkOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWUuJHdyYXBwZXJFbCxhPWUucGFyYW1zLGk9ZS5zbGlkZXMscz1lLmFjdGl2ZUluZGV4LHI9ZS52aXJ0dWFsJiZhLnZpcnR1YWwuZW5hYmxlZCxuPWEubGF6eSxvPWEuc2xpZGVzUGVyVmlldztmdW5jdGlvbiBsKGUpe2lmKHIpe2lmKHQuY2hpbGRyZW4oXCIuXCIrYS5zbGlkZUNsYXNzKydbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XCInK2UrJ1wiXScpLmxlbmd0aClyZXR1cm4hMH1lbHNlIGlmKGlbZV0pcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gZChlKXtyZXR1cm4gcj9tKGUpLmF0dHIoXCJkYXRhLXN3aXBlci1zbGlkZS1pbmRleFwiKTptKGUpLmluZGV4KCl9aWYoXCJhdXRvXCI9PT1vJiYobz0wKSxlLmxhenkuaW5pdGlhbEltYWdlTG9hZGVkfHwoZS5sYXp5LmluaXRpYWxJbWFnZUxvYWRlZD0hMCksZS5wYXJhbXMud2F0Y2hTbGlkZXNWaXNpYmlsaXR5KXQuY2hpbGRyZW4oXCIuXCIrYS5zbGlkZVZpc2libGVDbGFzcykuZWFjaCgoZnVuY3Rpb24odCl7dmFyIGE9cj9tKHQpLmF0dHIoXCJkYXRhLXN3aXBlci1zbGlkZS1pbmRleFwiKTptKHQpLmluZGV4KCk7ZS5sYXp5LmxvYWRJblNsaWRlKGEpfSkpO2Vsc2UgaWYobz4xKWZvcih2YXIgcD1zO3A8cytvO3ArPTEpbChwKSYmZS5sYXp5LmxvYWRJblNsaWRlKHApO2Vsc2UgZS5sYXp5LmxvYWRJblNsaWRlKHMpO2lmKG4ubG9hZFByZXZOZXh0KWlmKG8+MXx8bi5sb2FkUHJldk5leHRBbW91bnQmJm4ubG9hZFByZXZOZXh0QW1vdW50PjEpe2Zvcih2YXIgYz1uLmxvYWRQcmV2TmV4dEFtb3VudCx1PW8saD1NYXRoLm1pbihzK3UrTWF0aC5tYXgoYyx1KSxpLmxlbmd0aCksdj1NYXRoLm1heChzLU1hdGgubWF4KHUsYyksMCksZj1zK287ZjxoO2YrPTEpbChmKSYmZS5sYXp5LmxvYWRJblNsaWRlKGYpO2Zvcih2YXIgZz12O2c8cztnKz0xKWwoZykmJmUubGF6eS5sb2FkSW5TbGlkZShnKX1lbHNle3ZhciBiPXQuY2hpbGRyZW4oXCIuXCIrYS5zbGlkZU5leHRDbGFzcyk7Yi5sZW5ndGg+MCYmZS5sYXp5LmxvYWRJblNsaWRlKGQoYikpO3ZhciB3PXQuY2hpbGRyZW4oXCIuXCIrYS5zbGlkZVByZXZDbGFzcyk7dy5sZW5ndGg+MCYmZS5sYXp5LmxvYWRJblNsaWRlKGQodykpfX0sY2hlY2tJblZpZXdPbkxvYWQ6ZnVuY3Rpb24oKXt2YXIgZT1vKCksdD10aGlzO2lmKHQmJiF0LmRlc3Ryb3llZCl7dmFyIGE9dC5wYXJhbXMubGF6eS5zY3JvbGxpbmdFbGVtZW50P20odC5wYXJhbXMubGF6eS5zY3JvbGxpbmdFbGVtZW50KTptKGUpLGk9YVswXT09PWUscz1pP2UuaW5uZXJXaWR0aDphWzBdLm9mZnNldFdpZHRoLHI9aT9lLmlubmVySGVpZ2h0OmFbMF0ub2Zmc2V0SGVpZ2h0LG49dC4kZWwub2Zmc2V0KCksbD0hMTt0LnJ0bFRyYW5zbGF0ZSYmKG4ubGVmdC09dC4kZWxbMF0uc2Nyb2xsTGVmdCk7Zm9yKHZhciBkPVtbbi5sZWZ0LG4udG9wXSxbbi5sZWZ0K3Qud2lkdGgsbi50b3BdLFtuLmxlZnQsbi50b3ArdC5oZWlnaHRdLFtuLmxlZnQrdC53aWR0aCxuLnRvcCt0LmhlaWdodF1dLHA9MDtwPGQubGVuZ3RoO3ArPTEpe3ZhciBjPWRbcF07aWYoY1swXT49MCYmY1swXTw9cyYmY1sxXT49MCYmY1sxXTw9cil7aWYoMD09PWNbMF0mJjA9PT1jWzFdKWNvbnRpbnVlO2w9ITB9fWw/KHQubGF6eS5sb2FkKCksYS5vZmYoXCJzY3JvbGxcIix0LmxhenkuY2hlY2tJblZpZXdPbkxvYWQpKTp0Lmxhenkuc2Nyb2xsSGFuZGxlckF0dGFjaGVkfHwodC5sYXp5LnNjcm9sbEhhbmRsZXJBdHRhY2hlZD0hMCxhLm9uKFwic2Nyb2xsXCIsdC5sYXp5LmNoZWNrSW5WaWV3T25Mb2FkKSl9fX0saWU9e0xpbmVhclNwbGluZTpmdW5jdGlvbihlLHQpe3ZhciBhLGkscyxyLG4sbz1mdW5jdGlvbihlLHQpe2ZvcihpPS0xLGE9ZS5sZW5ndGg7YS1pPjE7KWVbcz1hK2k+PjFdPD10P2k9czphPXM7cmV0dXJuIGF9O3JldHVybiB0aGlzLng9ZSx0aGlzLnk9dCx0aGlzLmxhc3RJbmRleD1lLmxlbmd0aC0xLHRoaXMuaW50ZXJwb2xhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/KG49byh0aGlzLngsZSkscj1uLTEsKGUtdGhpcy54W3JdKSoodGhpcy55W25dLXRoaXMueVtyXSkvKHRoaXMueFtuXS10aGlzLnhbcl0pK3RoaXMueVtyXSk6MH0sdGhpc30sZ2V0SW50ZXJwb2xhdGVGdW5jdGlvbjpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuY29udHJvbGxlci5zcGxpbmV8fCh0LmNvbnRyb2xsZXIuc3BsaW5lPXQucGFyYW1zLmxvb3A/bmV3IGllLkxpbmVhclNwbGluZSh0LnNsaWRlc0dyaWQsZS5zbGlkZXNHcmlkKTpuZXcgaWUuTGluZWFyU3BsaW5lKHQuc25hcEdyaWQsZS5zbmFwR3JpZCkpfSxzZXRUcmFuc2xhdGU6ZnVuY3Rpb24oZSx0KXt2YXIgYSxpLHM9dGhpcyxyPXMuY29udHJvbGxlci5jb250cm9sLG49cy5jb25zdHJ1Y3RvcjtmdW5jdGlvbiBvKGUpe3ZhciB0PXMucnRsVHJhbnNsYXRlPy1zLnRyYW5zbGF0ZTpzLnRyYW5zbGF0ZTtcInNsaWRlXCI9PT1zLnBhcmFtcy5jb250cm9sbGVyLmJ5JiYocy5jb250cm9sbGVyLmdldEludGVycG9sYXRlRnVuY3Rpb24oZSksaT0tcy5jb250cm9sbGVyLnNwbGluZS5pbnRlcnBvbGF0ZSgtdCkpLGkmJlwiY29udGFpbmVyXCIhPT1zLnBhcmFtcy5jb250cm9sbGVyLmJ5fHwoYT0oZS5tYXhUcmFuc2xhdGUoKS1lLm1pblRyYW5zbGF0ZSgpKS8ocy5tYXhUcmFuc2xhdGUoKS1zLm1pblRyYW5zbGF0ZSgpKSxpPSh0LXMubWluVHJhbnNsYXRlKCkpKmErZS5taW5UcmFuc2xhdGUoKSkscy5wYXJhbXMuY29udHJvbGxlci5pbnZlcnNlJiYoaT1lLm1heFRyYW5zbGF0ZSgpLWkpLGUudXBkYXRlUHJvZ3Jlc3MoaSksZS5zZXRUcmFuc2xhdGUoaSxzKSxlLnVwZGF0ZUFjdGl2ZUluZGV4KCksZS51cGRhdGVTbGlkZXNDbGFzc2VzKCl9aWYoQXJyYXkuaXNBcnJheShyKSlmb3IodmFyIGw9MDtsPHIubGVuZ3RoO2wrPTEpcltsXSE9PXQmJnJbbF1pbnN0YW5jZW9mIG4mJm8ocltsXSk7ZWxzZSByIGluc3RhbmNlb2YgbiYmdCE9PXImJm8ocil9LHNldFRyYW5zaXRpb246ZnVuY3Rpb24oZSx0KXt2YXIgYSxpPXRoaXMscz1pLmNvbnN0cnVjdG9yLHI9aS5jb250cm9sbGVyLmNvbnRyb2w7ZnVuY3Rpb24gbih0KXt0LnNldFRyYW5zaXRpb24oZSxpKSwwIT09ZSYmKHQudHJhbnNpdGlvblN0YXJ0KCksdC5wYXJhbXMuYXV0b0hlaWdodCYmRSgoZnVuY3Rpb24oKXt0LnVwZGF0ZUF1dG9IZWlnaHQoKX0pKSx0LiR3cmFwcGVyRWwudHJhbnNpdGlvbkVuZCgoZnVuY3Rpb24oKXtyJiYodC5wYXJhbXMubG9vcCYmXCJzbGlkZVwiPT09aS5wYXJhbXMuY29udHJvbGxlci5ieSYmdC5sb29wRml4KCksdC50cmFuc2l0aW9uRW5kKCkpfSkpKX1pZihBcnJheS5pc0FycmF5KHIpKWZvcihhPTA7YTxyLmxlbmd0aDthKz0xKXJbYV0hPT10JiZyW2FdaW5zdGFuY2VvZiBzJiZuKHJbYV0pO2Vsc2UgciBpbnN0YW5jZW9mIHMmJnQhPT1yJiZuKHIpfX0sc2U9e2dldFJhbmRvbU51bWJlcjpmdW5jdGlvbihlKXt2b2lkIDA9PT1lJiYoZT0xNik7cmV0dXJuXCJ4XCIucmVwZWF0KGUpLnJlcGxhY2UoL3gvZywoZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5yb3VuZCgxNipNYXRoLnJhbmRvbSgpKS50b1N0cmluZygxNil9KSl9LG1ha2VFbEZvY3VzYWJsZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5hdHRyKFwidGFiSW5kZXhcIixcIjBcIiksZX0sbWFrZUVsTm90Rm9jdXNhYmxlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmF0dHIoXCJ0YWJJbmRleFwiLFwiLTFcIiksZX0sYWRkRWxSb2xlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuYXR0cihcInJvbGVcIix0KSxlfSxhZGRFbFJvbGVEZXNjcmlwdGlvbjpmdW5jdGlvbihlLHQpe3JldHVybiBlLmF0dHIoXCJhcmlhLXJvbGVkZXNjcmlwdGlvblwiLHQpLGV9LGFkZEVsQ29udHJvbHM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5hdHRyKFwiYXJpYS1jb250cm9sc1wiLHQpLGV9LGFkZEVsTGFiZWw6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5hdHRyKFwiYXJpYS1sYWJlbFwiLHQpLGV9LGFkZEVsSWQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5hdHRyKFwiaWRcIix0KSxlfSxhZGRFbExpdmU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5hdHRyKFwiYXJpYS1saXZlXCIsdCksZX0sZGlzYWJsZUVsOmZ1bmN0aW9uKGUpe3JldHVybiBlLmF0dHIoXCJhcmlhLWRpc2FibGVkXCIsITApLGV9LGVuYWJsZUVsOmZ1bmN0aW9uKGUpe3JldHVybiBlLmF0dHIoXCJhcmlhLWRpc2FibGVkXCIsITEpLGV9LG9uRW50ZXJPclNwYWNlS2V5OmZ1bmN0aW9uKGUpe2lmKDEzPT09ZS5rZXlDb2RlfHwzMj09PWUua2V5Q29kZSl7dmFyIHQ9dGhpcyxhPXQucGFyYW1zLmExMXksaT1tKGUudGFyZ2V0KTt0Lm5hdmlnYXRpb24mJnQubmF2aWdhdGlvbi4kbmV4dEVsJiZpLmlzKHQubmF2aWdhdGlvbi4kbmV4dEVsKSYmKHQuaXNFbmQmJiF0LnBhcmFtcy5sb29wfHx0LnNsaWRlTmV4dCgpLHQuaXNFbmQ/dC5hMTF5Lm5vdGlmeShhLmxhc3RTbGlkZU1lc3NhZ2UpOnQuYTExeS5ub3RpZnkoYS5uZXh0U2xpZGVNZXNzYWdlKSksdC5uYXZpZ2F0aW9uJiZ0Lm5hdmlnYXRpb24uJHByZXZFbCYmaS5pcyh0Lm5hdmlnYXRpb24uJHByZXZFbCkmJih0LmlzQmVnaW5uaW5nJiYhdC5wYXJhbXMubG9vcHx8dC5zbGlkZVByZXYoKSx0LmlzQmVnaW5uaW5nP3QuYTExeS5ub3RpZnkoYS5maXJzdFNsaWRlTWVzc2FnZSk6dC5hMTF5Lm5vdGlmeShhLnByZXZTbGlkZU1lc3NhZ2UpKSx0LnBhZ2luYXRpb24mJmkuaXMoeih0LnBhcmFtcy5wYWdpbmF0aW9uLmJ1bGxldENsYXNzKSkmJmlbMF0uY2xpY2soKX19LG5vdGlmeTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmExMXkubGl2ZVJlZ2lvbjswIT09dC5sZW5ndGgmJih0Lmh0bWwoXCJcIiksdC5odG1sKGUpKX0sdXBkYXRlTmF2aWdhdGlvbjpmdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYoIWUucGFyYW1zLmxvb3AmJmUubmF2aWdhdGlvbil7dmFyIHQ9ZS5uYXZpZ2F0aW9uLGE9dC4kbmV4dEVsLGk9dC4kcHJldkVsO2kmJmkubGVuZ3RoPjAmJihlLmlzQmVnaW5uaW5nPyhlLmExMXkuZGlzYWJsZUVsKGkpLGUuYTExeS5tYWtlRWxOb3RGb2N1c2FibGUoaSkpOihlLmExMXkuZW5hYmxlRWwoaSksZS5hMTF5Lm1ha2VFbEZvY3VzYWJsZShpKSkpLGEmJmEubGVuZ3RoPjAmJihlLmlzRW5kPyhlLmExMXkuZGlzYWJsZUVsKGEpLGUuYTExeS5tYWtlRWxOb3RGb2N1c2FibGUoYSkpOihlLmExMXkuZW5hYmxlRWwoYSksZS5hMTF5Lm1ha2VFbEZvY3VzYWJsZShhKSkpfX0sdXBkYXRlUGFnaW5hdGlvbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1lLnBhcmFtcy5hMTF5O2UucGFnaW5hdGlvbiYmZS5wYXJhbXMucGFnaW5hdGlvbi5jbGlja2FibGUmJmUucGFnaW5hdGlvbi5idWxsZXRzJiZlLnBhZ2luYXRpb24uYnVsbGV0cy5sZW5ndGgmJmUucGFnaW5hdGlvbi5idWxsZXRzLmVhY2goKGZ1bmN0aW9uKGEpe3ZhciBpPW0oYSk7ZS5hMTF5Lm1ha2VFbEZvY3VzYWJsZShpKSxlLnBhcmFtcy5wYWdpbmF0aW9uLnJlbmRlckJ1bGxldHx8KGUuYTExeS5hZGRFbFJvbGUoaSxcImJ1dHRvblwiKSxlLmExMXkuYWRkRWxMYWJlbChpLHQucGFnaW5hdGlvbkJ1bGxldE1lc3NhZ2UucmVwbGFjZSgvXFx7XFx7aW5kZXhcXH1cXH0vLGkuaW5kZXgoKSsxKSkpfSkpfSxpbml0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWUucGFyYW1zLmExMXk7ZS4kZWwuYXBwZW5kKGUuYTExeS5saXZlUmVnaW9uKTt2YXIgYT1lLiRlbDt0LmNvbnRhaW5lclJvbGVEZXNjcmlwdGlvbk1lc3NhZ2UmJmUuYTExeS5hZGRFbFJvbGVEZXNjcmlwdGlvbihhLHQuY29udGFpbmVyUm9sZURlc2NyaXB0aW9uTWVzc2FnZSksdC5jb250YWluZXJNZXNzYWdlJiZlLmExMXkuYWRkRWxMYWJlbChhLHQuY29udGFpbmVyTWVzc2FnZSk7dmFyIGkscyxyPWUuJHdyYXBwZXJFbCxuPXIuYXR0cihcImlkXCIpfHxcInN3aXBlci13cmFwcGVyLVwiK2UuYTExeS5nZXRSYW5kb21OdW1iZXIoMTYpLG89ZS5wYXJhbXMuYXV0b3BsYXkmJmUucGFyYW1zLmF1dG9wbGF5LmVuYWJsZWQ/XCJvZmZcIjpcInBvbGl0ZVwiO2UuYTExeS5hZGRFbElkKHIsbiksZS5hMTF5LmFkZEVsTGl2ZShyLG8pLHQuaXRlbVJvbGVEZXNjcmlwdGlvbk1lc3NhZ2UmJmUuYTExeS5hZGRFbFJvbGVEZXNjcmlwdGlvbihtKGUuc2xpZGVzKSx0Lml0ZW1Sb2xlRGVzY3JpcHRpb25NZXNzYWdlKSxlLmExMXkuYWRkRWxSb2xlKG0oZS5zbGlkZXMpLHQuc2xpZGVSb2xlKSxlLnNsaWRlcy5lYWNoKChmdW5jdGlvbihhKXt2YXIgaT1tKGEpLHM9dC5zbGlkZUxhYmVsTWVzc2FnZS5yZXBsYWNlKC9cXHtcXHtpbmRleFxcfVxcfS8saS5pbmRleCgpKzEpLnJlcGxhY2UoL1xce1xce3NsaWRlc0xlbmd0aFxcfVxcfS8sZS5zbGlkZXMubGVuZ3RoKTtlLmExMXkuYWRkRWxMYWJlbChpLHMpfSkpLGUubmF2aWdhdGlvbiYmZS5uYXZpZ2F0aW9uLiRuZXh0RWwmJihpPWUubmF2aWdhdGlvbi4kbmV4dEVsKSxlLm5hdmlnYXRpb24mJmUubmF2aWdhdGlvbi4kcHJldkVsJiYocz1lLm5hdmlnYXRpb24uJHByZXZFbCksaSYmaS5sZW5ndGgmJihlLmExMXkubWFrZUVsRm9jdXNhYmxlKGkpLFwiQlVUVE9OXCIhPT1pWzBdLnRhZ05hbWUmJihlLmExMXkuYWRkRWxSb2xlKGksXCJidXR0b25cIiksaS5vbihcImtleWRvd25cIixlLmExMXkub25FbnRlck9yU3BhY2VLZXkpKSxlLmExMXkuYWRkRWxMYWJlbChpLHQubmV4dFNsaWRlTWVzc2FnZSksZS5hMTF5LmFkZEVsQ29udHJvbHMoaSxuKSkscyYmcy5sZW5ndGgmJihlLmExMXkubWFrZUVsRm9jdXNhYmxlKHMpLFwiQlVUVE9OXCIhPT1zWzBdLnRhZ05hbWUmJihlLmExMXkuYWRkRWxSb2xlKHMsXCJidXR0b25cIikscy5vbihcImtleWRvd25cIixlLmExMXkub25FbnRlck9yU3BhY2VLZXkpKSxlLmExMXkuYWRkRWxMYWJlbChzLHQucHJldlNsaWRlTWVzc2FnZSksZS5hMTF5LmFkZEVsQ29udHJvbHMocyxuKSksZS5wYWdpbmF0aW9uJiZlLnBhcmFtcy5wYWdpbmF0aW9uLmNsaWNrYWJsZSYmZS5wYWdpbmF0aW9uLmJ1bGxldHMmJmUucGFnaW5hdGlvbi5idWxsZXRzLmxlbmd0aCYmZS5wYWdpbmF0aW9uLiRlbC5vbihcImtleWRvd25cIix6KGUucGFyYW1zLnBhZ2luYXRpb24uYnVsbGV0Q2xhc3MpLGUuYTExeS5vbkVudGVyT3JTcGFjZUtleSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgZSx0LGE9dGhpczthLmExMXkubGl2ZVJlZ2lvbiYmYS5hMTF5LmxpdmVSZWdpb24ubGVuZ3RoPjAmJmEuYTExeS5saXZlUmVnaW9uLnJlbW92ZSgpLGEubmF2aWdhdGlvbiYmYS5uYXZpZ2F0aW9uLiRuZXh0RWwmJihlPWEubmF2aWdhdGlvbi4kbmV4dEVsKSxhLm5hdmlnYXRpb24mJmEubmF2aWdhdGlvbi4kcHJldkVsJiYodD1hLm5hdmlnYXRpb24uJHByZXZFbCksZSYmZS5vZmYoXCJrZXlkb3duXCIsYS5hMTF5Lm9uRW50ZXJPclNwYWNlS2V5KSx0JiZ0Lm9mZihcImtleWRvd25cIixhLmExMXkub25FbnRlck9yU3BhY2VLZXkpLGEucGFnaW5hdGlvbiYmYS5wYXJhbXMucGFnaW5hdGlvbi5jbGlja2FibGUmJmEucGFnaW5hdGlvbi5idWxsZXRzJiZhLnBhZ2luYXRpb24uYnVsbGV0cy5sZW5ndGgmJmEucGFnaW5hdGlvbi4kZWwub2ZmKFwia2V5ZG93blwiLHooYS5wYXJhbXMucGFnaW5hdGlvbi5idWxsZXRDbGFzcyksYS5hMTF5Lm9uRW50ZXJPclNwYWNlS2V5KX19LHJlPXtpbml0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PW8oKTtpZihlLnBhcmFtcy5oaXN0b3J5KXtpZighdC5oaXN0b3J5fHwhdC5oaXN0b3J5LnB1c2hTdGF0ZSlyZXR1cm4gZS5wYXJhbXMuaGlzdG9yeS5lbmFibGVkPSExLHZvaWQoZS5wYXJhbXMuaGFzaE5hdmlnYXRpb24uZW5hYmxlZD0hMCk7dmFyIGE9ZS5oaXN0b3J5O2EuaW5pdGlhbGl6ZWQ9ITAsYS5wYXRocz1yZS5nZXRQYXRoVmFsdWVzKGUucGFyYW1zLnVybCksKGEucGF0aHMua2V5fHxhLnBhdGhzLnZhbHVlKSYmKGEuc2Nyb2xsVG9TbGlkZSgwLGEucGF0aHMudmFsdWUsZS5wYXJhbXMucnVuQ2FsbGJhY2tzT25Jbml0KSxlLnBhcmFtcy5oaXN0b3J5LnJlcGxhY2VTdGF0ZXx8dC5hZGRFdmVudExpc3RlbmVyKFwicG9wc3RhdGVcIixlLmhpc3Rvcnkuc2V0SGlzdG9yeVBvcFN0YXRlKSl9fSxkZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGU9bygpO3RoaXMucGFyYW1zLmhpc3RvcnkucmVwbGFjZVN0YXRlfHxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb3BzdGF0ZVwiLHRoaXMuaGlzdG9yeS5zZXRIaXN0b3J5UG9wU3RhdGUpfSxzZXRIaXN0b3J5UG9wU3RhdGU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuaGlzdG9yeS5wYXRocz1yZS5nZXRQYXRoVmFsdWVzKGUucGFyYW1zLnVybCksZS5oaXN0b3J5LnNjcm9sbFRvU2xpZGUoZS5wYXJhbXMuc3BlZWQsZS5oaXN0b3J5LnBhdGhzLnZhbHVlLCExKX0sZ2V0UGF0aFZhbHVlczpmdW5jdGlvbihlKXt2YXIgdD1vKCksYT0oZT9uZXcgVVJMKGUpOnQubG9jYXRpb24pLnBhdGhuYW1lLnNsaWNlKDEpLnNwbGl0KFwiL1wiKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVyblwiXCIhPT1lfSkpLGk9YS5sZW5ndGg7cmV0dXJue2tleTphW2ktMl0sdmFsdWU6YVtpLTFdfX0sc2V0SGlzdG9yeTpmdW5jdGlvbihlLHQpe3ZhciBhPXRoaXMsaT1vKCk7aWYoYS5oaXN0b3J5LmluaXRpYWxpemVkJiZhLnBhcmFtcy5oaXN0b3J5LmVuYWJsZWQpe3ZhciBzO3M9YS5wYXJhbXMudXJsP25ldyBVUkwoYS5wYXJhbXMudXJsKTppLmxvY2F0aW9uO3ZhciByPWEuc2xpZGVzLmVxKHQpLG49cmUuc2x1Z2lmeShyLmF0dHIoXCJkYXRhLWhpc3RvcnlcIikpO2lmKGEucGFyYW1zLmhpc3Rvcnkucm9vdC5sZW5ndGg+MCl7dmFyIGw9YS5wYXJhbXMuaGlzdG9yeS5yb290O1wiL1wiPT09bFtsLmxlbmd0aC0xXSYmKGw9bC5zbGljZSgwLGwubGVuZ3RoLTEpKSxuPWwrXCIvXCIrZStcIi9cIitufWVsc2Ugcy5wYXRobmFtZS5pbmNsdWRlcyhlKXx8KG49ZStcIi9cIituKTt2YXIgZD1pLmhpc3Rvcnkuc3RhdGU7ZCYmZC52YWx1ZT09PW58fChhLnBhcmFtcy5oaXN0b3J5LnJlcGxhY2VTdGF0ZT9pLmhpc3RvcnkucmVwbGFjZVN0YXRlKHt2YWx1ZTpufSxudWxsLG4pOmkuaGlzdG9yeS5wdXNoU3RhdGUoe3ZhbHVlOm59LG51bGwsbikpfX0sc2x1Z2lmeTpmdW5jdGlvbihlKXtyZXR1cm4gZS50b1N0cmluZygpLnJlcGxhY2UoL1xccysvZyxcIi1cIikucmVwbGFjZSgvW15cXHctXSsvZyxcIlwiKS5yZXBsYWNlKC8tLSsvZyxcIi1cIikucmVwbGFjZSgvXi0rLyxcIlwiKS5yZXBsYWNlKC8tKyQvLFwiXCIpfSxzY3JvbGxUb1NsaWRlOmZ1bmN0aW9uKGUsdCxhKXt2YXIgaT10aGlzO2lmKHQpZm9yKHZhciBzPTAscj1pLnNsaWRlcy5sZW5ndGg7czxyO3MrPTEpe3ZhciBuPWkuc2xpZGVzLmVxKHMpO2lmKHJlLnNsdWdpZnkobi5hdHRyKFwiZGF0YS1oaXN0b3J5XCIpKT09PXQmJiFuLmhhc0NsYXNzKGkucGFyYW1zLnNsaWRlRHVwbGljYXRlQ2xhc3MpKXt2YXIgbz1uLmluZGV4KCk7aS5zbGlkZVRvKG8sZSxhKX19ZWxzZSBpLnNsaWRlVG8oMCxlLGEpfX0sbmU9e29uSGFzaENhbmdlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXIoKTtlLmVtaXQoXCJoYXNoQ2hhbmdlXCIpO3ZhciBhPXQubG9jYXRpb24uaGFzaC5yZXBsYWNlKFwiI1wiLFwiXCIpO2lmKGEhPT1lLnNsaWRlcy5lcShlLmFjdGl2ZUluZGV4KS5hdHRyKFwiZGF0YS1oYXNoXCIpKXt2YXIgaT1lLiR3cmFwcGVyRWwuY2hpbGRyZW4oXCIuXCIrZS5wYXJhbXMuc2xpZGVDbGFzcysnW2RhdGEtaGFzaD1cIicrYSsnXCJdJykuaW5kZXgoKTtpZih2b2lkIDA9PT1pKXJldHVybjtlLnNsaWRlVG8oaSl9fSxzZXRIYXNoOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PW8oKSxhPXIoKTtpZihlLmhhc2hOYXZpZ2F0aW9uLmluaXRpYWxpemVkJiZlLnBhcmFtcy5oYXNoTmF2aWdhdGlvbi5lbmFibGVkKWlmKGUucGFyYW1zLmhhc2hOYXZpZ2F0aW9uLnJlcGxhY2VTdGF0ZSYmdC5oaXN0b3J5JiZ0Lmhpc3RvcnkucmVwbGFjZVN0YXRlKXQuaGlzdG9yeS5yZXBsYWNlU3RhdGUobnVsbCxudWxsLFwiI1wiK2Uuc2xpZGVzLmVxKGUuYWN0aXZlSW5kZXgpLmF0dHIoXCJkYXRhLWhhc2hcIil8fFwiXCIpLGUuZW1pdChcImhhc2hTZXRcIik7ZWxzZXt2YXIgaT1lLnNsaWRlcy5lcShlLmFjdGl2ZUluZGV4KSxzPWkuYXR0cihcImRhdGEtaGFzaFwiKXx8aS5hdHRyKFwiZGF0YS1oaXN0b3J5XCIpO2EubG9jYXRpb24uaGFzaD1zfHxcIlwiLGUuZW1pdChcImhhc2hTZXRcIil9fSxpbml0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXIoKSxhPW8oKTtpZighKCFlLnBhcmFtcy5oYXNoTmF2aWdhdGlvbi5lbmFibGVkfHxlLnBhcmFtcy5oaXN0b3J5JiZlLnBhcmFtcy5oaXN0b3J5LmVuYWJsZWQpKXtlLmhhc2hOYXZpZ2F0aW9uLmluaXRpYWxpemVkPSEwO3ZhciBpPXQubG9jYXRpb24uaGFzaC5yZXBsYWNlKFwiI1wiLFwiXCIpO2lmKGkpZm9yKHZhciBzPTAsbj1lLnNsaWRlcy5sZW5ndGg7czxuO3MrPTEpe3ZhciBsPWUuc2xpZGVzLmVxKHMpO2lmKChsLmF0dHIoXCJkYXRhLWhhc2hcIil8fGwuYXR0cihcImRhdGEtaGlzdG9yeVwiKSk9PT1pJiYhbC5oYXNDbGFzcyhlLnBhcmFtcy5zbGlkZUR1cGxpY2F0ZUNsYXNzKSl7dmFyIGQ9bC5pbmRleCgpO2Uuc2xpZGVUbyhkLDAsZS5wYXJhbXMucnVuQ2FsbGJhY2tzT25Jbml0LCEwKX19ZS5wYXJhbXMuaGFzaE5hdmlnYXRpb24ud2F0Y2hTdGF0ZSYmbShhKS5vbihcImhhc2hjaGFuZ2VcIixlLmhhc2hOYXZpZ2F0aW9uLm9uSGFzaENhbmdlKX19LGRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgZT1vKCk7dGhpcy5wYXJhbXMuaGFzaE5hdmlnYXRpb24ud2F0Y2hTdGF0ZSYmbShlKS5vZmYoXCJoYXNoY2hhbmdlXCIsdGhpcy5oYXNoTmF2aWdhdGlvbi5vbkhhc2hDYW5nZSl9fSxvZT17cnVuOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWUuc2xpZGVzLmVxKGUuYWN0aXZlSW5kZXgpLGE9ZS5wYXJhbXMuYXV0b3BsYXkuZGVsYXk7dC5hdHRyKFwiZGF0YS1zd2lwZXItYXV0b3BsYXlcIikmJihhPXQuYXR0cihcImRhdGEtc3dpcGVyLWF1dG9wbGF5XCIpfHxlLnBhcmFtcy5hdXRvcGxheS5kZWxheSksY2xlYXJUaW1lb3V0KGUuYXV0b3BsYXkudGltZW91dCksZS5hdXRvcGxheS50aW1lb3V0PUUoKGZ1bmN0aW9uKCl7dmFyIHQ7ZS5wYXJhbXMuYXV0b3BsYXkucmV2ZXJzZURpcmVjdGlvbj9lLnBhcmFtcy5sb29wPyhlLmxvb3BGaXgoKSx0PWUuc2xpZGVQcmV2KGUucGFyYW1zLnNwZWVkLCEwLCEwKSxlLmVtaXQoXCJhdXRvcGxheVwiKSk6ZS5pc0JlZ2lubmluZz9lLnBhcmFtcy5hdXRvcGxheS5zdG9wT25MYXN0U2xpZGU/ZS5hdXRvcGxheS5zdG9wKCk6KHQ9ZS5zbGlkZVRvKGUuc2xpZGVzLmxlbmd0aC0xLGUucGFyYW1zLnNwZWVkLCEwLCEwKSxlLmVtaXQoXCJhdXRvcGxheVwiKSk6KHQ9ZS5zbGlkZVByZXYoZS5wYXJhbXMuc3BlZWQsITAsITApLGUuZW1pdChcImF1dG9wbGF5XCIpKTplLnBhcmFtcy5sb29wPyhlLmxvb3BGaXgoKSx0PWUuc2xpZGVOZXh0KGUucGFyYW1zLnNwZWVkLCEwLCEwKSxlLmVtaXQoXCJhdXRvcGxheVwiKSk6ZS5pc0VuZD9lLnBhcmFtcy5hdXRvcGxheS5zdG9wT25MYXN0U2xpZGU/ZS5hdXRvcGxheS5zdG9wKCk6KHQ9ZS5zbGlkZVRvKDAsZS5wYXJhbXMuc3BlZWQsITAsITApLGUuZW1pdChcImF1dG9wbGF5XCIpKToodD1lLnNsaWRlTmV4dChlLnBhcmFtcy5zcGVlZCwhMCwhMCksZS5lbWl0KFwiYXV0b3BsYXlcIikpLChlLnBhcmFtcy5jc3NNb2RlJiZlLmF1dG9wbGF5LnJ1bm5pbmd8fCExPT09dCkmJmUuYXV0b3BsYXkucnVuKCl9KSxhKX0sc3RhcnQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiB2b2lkIDA9PT1lLmF1dG9wbGF5LnRpbWVvdXQmJighZS5hdXRvcGxheS5ydW5uaW5nJiYoZS5hdXRvcGxheS5ydW5uaW5nPSEwLGUuZW1pdChcImF1dG9wbGF5U3RhcnRcIiksZS5hdXRvcGxheS5ydW4oKSwhMCkpfSxzdG9wOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4hIWUuYXV0b3BsYXkucnVubmluZyYmKHZvaWQgMCE9PWUuYXV0b3BsYXkudGltZW91dCYmKGUuYXV0b3BsYXkudGltZW91dCYmKGNsZWFyVGltZW91dChlLmF1dG9wbGF5LnRpbWVvdXQpLGUuYXV0b3BsYXkudGltZW91dD12b2lkIDApLGUuYXV0b3BsYXkucnVubmluZz0hMSxlLmVtaXQoXCJhdXRvcGxheVN0b3BcIiksITApKX0scGF1c2U6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0LmF1dG9wbGF5LnJ1bm5pbmcmJih0LmF1dG9wbGF5LnBhdXNlZHx8KHQuYXV0b3BsYXkudGltZW91dCYmY2xlYXJUaW1lb3V0KHQuYXV0b3BsYXkudGltZW91dCksdC5hdXRvcGxheS5wYXVzZWQ9ITAsMCE9PWUmJnQucGFyYW1zLmF1dG9wbGF5LndhaXRGb3JUcmFuc2l0aW9uPyh0LiR3cmFwcGVyRWxbMF0uYWRkRXZlbnRMaXN0ZW5lcihcInRyYW5zaXRpb25lbmRcIix0LmF1dG9wbGF5Lm9uVHJhbnNpdGlvbkVuZCksdC4kd3JhcHBlckVsWzBdLmFkZEV2ZW50TGlzdGVuZXIoXCJ3ZWJraXRUcmFuc2l0aW9uRW5kXCIsdC5hdXRvcGxheS5vblRyYW5zaXRpb25FbmQpKToodC5hdXRvcGxheS5wYXVzZWQ9ITEsdC5hdXRvcGxheS5ydW4oKSkpKX0sb25WaXNpYmlsaXR5Q2hhbmdlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXIoKTtcImhpZGRlblwiPT09dC52aXNpYmlsaXR5U3RhdGUmJmUuYXV0b3BsYXkucnVubmluZyYmZS5hdXRvcGxheS5wYXVzZSgpLFwidmlzaWJsZVwiPT09dC52aXNpYmlsaXR5U3RhdGUmJmUuYXV0b3BsYXkucGF1c2VkJiYoZS5hdXRvcGxheS5ydW4oKSxlLmF1dG9wbGF5LnBhdXNlZD0hMSl9LG9uVHJhbnNpdGlvbkVuZDpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QmJiF0LmRlc3Ryb3llZCYmdC4kd3JhcHBlckVsJiZlLnRhcmdldD09PXQuJHdyYXBwZXJFbFswXSYmKHQuJHdyYXBwZXJFbFswXS5yZW1vdmVFdmVudExpc3RlbmVyKFwidHJhbnNpdGlvbmVuZFwiLHQuYXV0b3BsYXkub25UcmFuc2l0aW9uRW5kKSx0LiR3cmFwcGVyRWxbMF0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIndlYmtpdFRyYW5zaXRpb25FbmRcIix0LmF1dG9wbGF5Lm9uVHJhbnNpdGlvbkVuZCksdC5hdXRvcGxheS5wYXVzZWQ9ITEsdC5hdXRvcGxheS5ydW5uaW5nP3QuYXV0b3BsYXkucnVuKCk6dC5hdXRvcGxheS5zdG9wKCkpfX0sbGU9e3NldFRyYW5zbGF0ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLHQ9ZS5zbGlkZXMsYT0wO2E8dC5sZW5ndGg7YSs9MSl7dmFyIGk9ZS5zbGlkZXMuZXEoYSkscz0taVswXS5zd2lwZXJTbGlkZU9mZnNldDtlLnBhcmFtcy52aXJ0dWFsVHJhbnNsYXRlfHwocy09ZS50cmFuc2xhdGUpO3ZhciByPTA7ZS5pc0hvcml6b250YWwoKXx8KHI9cyxzPTApO3ZhciBuPWUucGFyYW1zLmZhZGVFZmZlY3QuY3Jvc3NGYWRlP01hdGgubWF4KDEtTWF0aC5hYnMoaVswXS5wcm9ncmVzcyksMCk6MStNYXRoLm1pbihNYXRoLm1heChpWzBdLnByb2dyZXNzLC0xKSwwKTtpLmNzcyh7b3BhY2l0eTpufSkudHJhbnNmb3JtKFwidHJhbnNsYXRlM2QoXCIrcytcInB4LCBcIityK1wicHgsIDBweClcIil9fSxzZXRUcmFuc2l0aW9uOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsYT10LnNsaWRlcyxpPXQuJHdyYXBwZXJFbDtpZihhLnRyYW5zaXRpb24oZSksdC5wYXJhbXMudmlydHVhbFRyYW5zbGF0ZSYmMCE9PWUpe3ZhciBzPSExO2EudHJhbnNpdGlvbkVuZCgoZnVuY3Rpb24oKXtpZighcyYmdCYmIXQuZGVzdHJveWVkKXtzPSEwLHQuYW5pbWF0aW5nPSExO2Zvcih2YXIgZT1bXCJ3ZWJraXRUcmFuc2l0aW9uRW5kXCIsXCJ0cmFuc2l0aW9uZW5kXCJdLGE9MDthPGUubGVuZ3RoO2ErPTEpaS50cmlnZ2VyKGVbYV0pfX0pKX19fSxkZT17c2V0VHJhbnNsYXRlOmZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLGE9dC4kZWwsaT10LiR3cmFwcGVyRWwscz10LnNsaWRlcyxyPXQud2lkdGgsbj10LmhlaWdodCxvPXQucnRsVHJhbnNsYXRlLGw9dC5zaXplLGQ9dC5icm93c2VyLHA9dC5wYXJhbXMuY3ViZUVmZmVjdCxjPXQuaXNIb3Jpem9udGFsKCksdT10LnZpcnR1YWwmJnQucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCxoPTA7cC5zaGFkb3cmJihjPygwPT09KGU9aS5maW5kKFwiLnN3aXBlci1jdWJlLXNoYWRvd1wiKSkubGVuZ3RoJiYoZT1tKCc8ZGl2IGNsYXNzPVwic3dpcGVyLWN1YmUtc2hhZG93XCI+PC9kaXY+JyksaS5hcHBlbmQoZSkpLGUuY3NzKHtoZWlnaHQ6citcInB4XCJ9KSk6MD09PShlPWEuZmluZChcIi5zd2lwZXItY3ViZS1zaGFkb3dcIikpLmxlbmd0aCYmKGU9bSgnPGRpdiBjbGFzcz1cInN3aXBlci1jdWJlLXNoYWRvd1wiPjwvZGl2PicpLGEuYXBwZW5kKGUpKSk7Zm9yKHZhciB2PTA7djxzLmxlbmd0aDt2Kz0xKXt2YXIgZj1zLmVxKHYpLGc9djt1JiYoZz1wYXJzZUludChmLmF0dHIoXCJkYXRhLXN3aXBlci1zbGlkZS1pbmRleFwiKSwxMCkpO3ZhciBiPTkwKmcsdz1NYXRoLmZsb29yKGIvMzYwKTtvJiYoYj0tYix3PU1hdGguZmxvb3IoLWIvMzYwKSk7dmFyIHk9TWF0aC5tYXgoTWF0aC5taW4oZlswXS5wcm9ncmVzcywxKSwtMSksRT0wLHg9MCxUPTA7ZyU0PT0wPyhFPTQqLXcqbCxUPTApOihnLTEpJTQ9PTA/KEU9MCxUPTQqLXcqbCk6KGctMiklND09MD8oRT1sKzQqdypsLFQ9bCk6KGctMyklND09MCYmKEU9LWwsVD0zKmwrNCpsKncpLG8mJihFPS1FKSxjfHwoeD1FLEU9MCk7dmFyIFM9XCJyb3RhdGVYKFwiKyhjPzA6LWIpK1wiZGVnKSByb3RhdGVZKFwiKyhjP2I6MCkrXCJkZWcpIHRyYW5zbGF0ZTNkKFwiK0UrXCJweCwgXCIreCtcInB4LCBcIitUK1wicHgpXCI7aWYoeTw9MSYmeT4tMSYmKGg9OTAqZys5MCp5LG8mJihoPTkwKi1nLTkwKnkpKSxmLnRyYW5zZm9ybShTKSxwLnNsaWRlU2hhZG93cyl7dmFyIEM9Yz9mLmZpbmQoXCIuc3dpcGVyLXNsaWRlLXNoYWRvdy1sZWZ0XCIpOmYuZmluZChcIi5zd2lwZXItc2xpZGUtc2hhZG93LXRvcFwiKSxNPWM/Zi5maW5kKFwiLnN3aXBlci1zbGlkZS1zaGFkb3ctcmlnaHRcIik6Zi5maW5kKFwiLnN3aXBlci1zbGlkZS1zaGFkb3ctYm90dG9tXCIpOzA9PT1DLmxlbmd0aCYmKEM9bSgnPGRpdiBjbGFzcz1cInN3aXBlci1zbGlkZS1zaGFkb3ctJysoYz9cImxlZnRcIjpcInRvcFwiKSsnXCI+PC9kaXY+JyksZi5hcHBlbmQoQykpLDA9PT1NLmxlbmd0aCYmKE09bSgnPGRpdiBjbGFzcz1cInN3aXBlci1zbGlkZS1zaGFkb3ctJysoYz9cInJpZ2h0XCI6XCJib3R0b21cIikrJ1wiPjwvZGl2PicpLGYuYXBwZW5kKE0pKSxDLmxlbmd0aCYmKENbMF0uc3R5bGUub3BhY2l0eT1NYXRoLm1heCgteSwwKSksTS5sZW5ndGgmJihNWzBdLnN0eWxlLm9wYWNpdHk9TWF0aC5tYXgoeSwwKSl9fWlmKGkuY3NzKHtcIi13ZWJraXQtdHJhbnNmb3JtLW9yaWdpblwiOlwiNTAlIDUwJSAtXCIrbC8yK1wicHhcIixcIi1tb3otdHJhbnNmb3JtLW9yaWdpblwiOlwiNTAlIDUwJSAtXCIrbC8yK1wicHhcIixcIi1tcy10cmFuc2Zvcm0tb3JpZ2luXCI6XCI1MCUgNTAlIC1cIitsLzIrXCJweFwiLFwidHJhbnNmb3JtLW9yaWdpblwiOlwiNTAlIDUwJSAtXCIrbC8yK1wicHhcIn0pLHAuc2hhZG93KWlmKGMpZS50cmFuc2Zvcm0oXCJ0cmFuc2xhdGUzZCgwcHgsIFwiKyhyLzIrcC5zaGFkb3dPZmZzZXQpK1wicHgsIFwiKy1yLzIrXCJweCkgcm90YXRlWCg5MGRlZykgcm90YXRlWigwZGVnKSBzY2FsZShcIitwLnNoYWRvd1NjYWxlK1wiKVwiKTtlbHNle3ZhciB6PU1hdGguYWJzKGgpLTkwKk1hdGguZmxvb3IoTWF0aC5hYnMoaCkvOTApLFA9MS41LShNYXRoLnNpbigyKnoqTWF0aC5QSS8zNjApLzIrTWF0aC5jb3MoMip6Kk1hdGguUEkvMzYwKS8yKSxrPXAuc2hhZG93U2NhbGUsTD1wLnNoYWRvd1NjYWxlL1AsJD1wLnNoYWRvd09mZnNldDtlLnRyYW5zZm9ybShcInNjYWxlM2QoXCIraytcIiwgMSwgXCIrTCtcIikgdHJhbnNsYXRlM2QoMHB4LCBcIisobi8yKyQpK1wicHgsIFwiKy1uLzIvTCtcInB4KSByb3RhdGVYKC05MGRlZylcIil9dmFyIEk9ZC5pc1NhZmFyaXx8ZC5pc1dlYlZpZXc/LWwvMjowO2kudHJhbnNmb3JtKFwidHJhbnNsYXRlM2QoMHB4LDAsXCIrSStcInB4KSByb3RhdGVYKFwiKyh0LmlzSG9yaXpvbnRhbCgpPzA6aCkrXCJkZWcpIHJvdGF0ZVkoXCIrKHQuaXNIb3Jpem9udGFsKCk/LWg6MCkrXCJkZWcpXCIpfSxzZXRUcmFuc2l0aW9uOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsYT10LiRlbDt0LnNsaWRlcy50cmFuc2l0aW9uKGUpLmZpbmQoXCIuc3dpcGVyLXNsaWRlLXNoYWRvdy10b3AsIC5zd2lwZXItc2xpZGUtc2hhZG93LXJpZ2h0LCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1ib3R0b20sIC5zd2lwZXItc2xpZGUtc2hhZG93LWxlZnRcIikudHJhbnNpdGlvbihlKSx0LnBhcmFtcy5jdWJlRWZmZWN0LnNoYWRvdyYmIXQuaXNIb3Jpem9udGFsKCkmJmEuZmluZChcIi5zd2lwZXItY3ViZS1zaGFkb3dcIikudHJhbnNpdGlvbihlKX19LHBlPXtzZXRUcmFuc2xhdGU6ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcyx0PWUuc2xpZGVzLGE9ZS5ydGxUcmFuc2xhdGUsaT0wO2k8dC5sZW5ndGg7aSs9MSl7dmFyIHM9dC5lcShpKSxyPXNbMF0ucHJvZ3Jlc3M7ZS5wYXJhbXMuZmxpcEVmZmVjdC5saW1pdFJvdGF0aW9uJiYocj1NYXRoLm1heChNYXRoLm1pbihzWzBdLnByb2dyZXNzLDEpLC0xKSk7dmFyIG49LTE4MCpyLG89MCxsPS1zWzBdLnN3aXBlclNsaWRlT2Zmc2V0LGQ9MDtpZihlLmlzSG9yaXpvbnRhbCgpP2EmJihuPS1uKTooZD1sLGw9MCxvPS1uLG49MCksc1swXS5zdHlsZS56SW5kZXg9LU1hdGguYWJzKE1hdGgucm91bmQocikpK3QubGVuZ3RoLGUucGFyYW1zLmZsaXBFZmZlY3Quc2xpZGVTaGFkb3dzKXt2YXIgcD1lLmlzSG9yaXpvbnRhbCgpP3MuZmluZChcIi5zd2lwZXItc2xpZGUtc2hhZG93LWxlZnRcIik6cy5maW5kKFwiLnN3aXBlci1zbGlkZS1zaGFkb3ctdG9wXCIpLGM9ZS5pc0hvcml6b250YWwoKT9zLmZpbmQoXCIuc3dpcGVyLXNsaWRlLXNoYWRvdy1yaWdodFwiKTpzLmZpbmQoXCIuc3dpcGVyLXNsaWRlLXNoYWRvdy1ib3R0b21cIik7MD09PXAubGVuZ3RoJiYocD1tKCc8ZGl2IGNsYXNzPVwic3dpcGVyLXNsaWRlLXNoYWRvdy0nKyhlLmlzSG9yaXpvbnRhbCgpP1wibGVmdFwiOlwidG9wXCIpKydcIj48L2Rpdj4nKSxzLmFwcGVuZChwKSksMD09PWMubGVuZ3RoJiYoYz1tKCc8ZGl2IGNsYXNzPVwic3dpcGVyLXNsaWRlLXNoYWRvdy0nKyhlLmlzSG9yaXpvbnRhbCgpP1wicmlnaHRcIjpcImJvdHRvbVwiKSsnXCI+PC9kaXY+Jykscy5hcHBlbmQoYykpLHAubGVuZ3RoJiYocFswXS5zdHlsZS5vcGFjaXR5PU1hdGgubWF4KC1yLDApKSxjLmxlbmd0aCYmKGNbMF0uc3R5bGUub3BhY2l0eT1NYXRoLm1heChyLDApKX1zLnRyYW5zZm9ybShcInRyYW5zbGF0ZTNkKFwiK2wrXCJweCwgXCIrZCtcInB4LCAwcHgpIHJvdGF0ZVgoXCIrbytcImRlZykgcm90YXRlWShcIituK1wiZGVnKVwiKX19LHNldFRyYW5zaXRpb246ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxhPXQuc2xpZGVzLGk9dC5hY3RpdmVJbmRleCxzPXQuJHdyYXBwZXJFbDtpZihhLnRyYW5zaXRpb24oZSkuZmluZChcIi5zd2lwZXItc2xpZGUtc2hhZG93LXRvcCwgLnN3aXBlci1zbGlkZS1zaGFkb3ctcmlnaHQsIC5zd2lwZXItc2xpZGUtc2hhZG93LWJvdHRvbSwgLnN3aXBlci1zbGlkZS1zaGFkb3ctbGVmdFwiKS50cmFuc2l0aW9uKGUpLHQucGFyYW1zLnZpcnR1YWxUcmFuc2xhdGUmJjAhPT1lKXt2YXIgcj0hMTthLmVxKGkpLnRyYW5zaXRpb25FbmQoKGZ1bmN0aW9uKCl7aWYoIXImJnQmJiF0LmRlc3Ryb3llZCl7cj0hMCx0LmFuaW1hdGluZz0hMTtmb3IodmFyIGU9W1wid2Via2l0VHJhbnNpdGlvbkVuZFwiLFwidHJhbnNpdGlvbmVuZFwiXSxhPTA7YTxlLmxlbmd0aDthKz0xKXMudHJpZ2dlcihlW2FdKX19KSl9fX0sY2U9e3NldFRyYW5zbGF0ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLHQ9ZS53aWR0aCxhPWUuaGVpZ2h0LGk9ZS5zbGlkZXMscz1lLnNsaWRlc1NpemVzR3JpZCxyPWUucGFyYW1zLmNvdmVyZmxvd0VmZmVjdCxuPWUuaXNIb3Jpem9udGFsKCksbz1lLnRyYW5zbGF0ZSxsPW4/dC8yLW86YS8yLW8sZD1uP3Iucm90YXRlOi1yLnJvdGF0ZSxwPXIuZGVwdGgsYz0wLHU9aS5sZW5ndGg7Yzx1O2MrPTEpe3ZhciBoPWkuZXEoYyksdj1zW2NdLGY9KGwtaFswXS5zd2lwZXJTbGlkZU9mZnNldC12LzIpL3Yqci5tb2RpZmllcixnPW4/ZCpmOjAsYj1uPzA6ZCpmLHc9LXAqTWF0aC5hYnMoZikseT1yLnN0cmV0Y2g7XCJzdHJpbmdcIj09dHlwZW9mIHkmJi0xIT09eS5pbmRleE9mKFwiJVwiKSYmKHk9cGFyc2VGbG9hdChyLnN0cmV0Y2gpLzEwMCp2KTt2YXIgRT1uPzA6eSpmLHg9bj95KmY6MCxUPTEtKDEtci5zY2FsZSkqTWF0aC5hYnMoZik7TWF0aC5hYnMoeCk8LjAwMSYmKHg9MCksTWF0aC5hYnMoRSk8LjAwMSYmKEU9MCksTWF0aC5hYnModyk8LjAwMSYmKHc9MCksTWF0aC5hYnMoZyk8LjAwMSYmKGc9MCksTWF0aC5hYnMoYik8LjAwMSYmKGI9MCksTWF0aC5hYnMoVCk8LjAwMSYmKFQ9MCk7dmFyIFM9XCJ0cmFuc2xhdGUzZChcIit4K1wicHgsXCIrRStcInB4LFwiK3crXCJweCkgIHJvdGF0ZVgoXCIrYitcImRlZykgcm90YXRlWShcIitnK1wiZGVnKSBzY2FsZShcIitUK1wiKVwiO2lmKGgudHJhbnNmb3JtKFMpLGhbMF0uc3R5bGUuekluZGV4PTEtTWF0aC5hYnMoTWF0aC5yb3VuZChmKSksci5zbGlkZVNoYWRvd3Mpe3ZhciBDPW4/aC5maW5kKFwiLnN3aXBlci1zbGlkZS1zaGFkb3ctbGVmdFwiKTpoLmZpbmQoXCIuc3dpcGVyLXNsaWRlLXNoYWRvdy10b3BcIiksTT1uP2guZmluZChcIi5zd2lwZXItc2xpZGUtc2hhZG93LXJpZ2h0XCIpOmguZmluZChcIi5zd2lwZXItc2xpZGUtc2hhZG93LWJvdHRvbVwiKTswPT09Qy5sZW5ndGgmJihDPW0oJzxkaXYgY2xhc3M9XCJzd2lwZXItc2xpZGUtc2hhZG93LScrKG4/XCJsZWZ0XCI6XCJ0b3BcIikrJ1wiPjwvZGl2PicpLGguYXBwZW5kKEMpKSwwPT09TS5sZW5ndGgmJihNPW0oJzxkaXYgY2xhc3M9XCJzd2lwZXItc2xpZGUtc2hhZG93LScrKG4/XCJyaWdodFwiOlwiYm90dG9tXCIpKydcIj48L2Rpdj4nKSxoLmFwcGVuZChNKSksQy5sZW5ndGgmJihDWzBdLnN0eWxlLm9wYWNpdHk9Zj4wP2Y6MCksTS5sZW5ndGgmJihNWzBdLnN0eWxlLm9wYWNpdHk9LWY+MD8tZjowKX19fSxzZXRUcmFuc2l0aW9uOmZ1bmN0aW9uKGUpe3RoaXMuc2xpZGVzLnRyYW5zaXRpb24oZSkuZmluZChcIi5zd2lwZXItc2xpZGUtc2hhZG93LXRvcCwgLnN3aXBlci1zbGlkZS1zaGFkb3ctcmlnaHQsIC5zd2lwZXItc2xpZGUtc2hhZG93LWJvdHRvbSwgLnN3aXBlci1zbGlkZS1zaGFkb3ctbGVmdFwiKS50cmFuc2l0aW9uKGUpfX0sdWU9e2luaXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9ZS5wYXJhbXMudGh1bWJzO2lmKGUudGh1bWJzLmluaXRpYWxpemVkKXJldHVybiExO2UudGh1bWJzLmluaXRpYWxpemVkPSEwO3ZhciBhPWUuY29uc3RydWN0b3I7cmV0dXJuIHQuc3dpcGVyIGluc3RhbmNlb2YgYT8oZS50aHVtYnMuc3dpcGVyPXQuc3dpcGVyLEMoZS50aHVtYnMuc3dpcGVyLm9yaWdpbmFsUGFyYW1zLHt3YXRjaFNsaWRlc1Byb2dyZXNzOiEwLHNsaWRlVG9DbGlja2VkU2xpZGU6ITF9KSxDKGUudGh1bWJzLnN3aXBlci5wYXJhbXMse3dhdGNoU2xpZGVzUHJvZ3Jlc3M6ITAsc2xpZGVUb0NsaWNrZWRTbGlkZTohMX0pKTpTKHQuc3dpcGVyKSYmKGUudGh1bWJzLnN3aXBlcj1uZXcgYShDKHt9LHQuc3dpcGVyLHt3YXRjaFNsaWRlc1Zpc2liaWxpdHk6ITAsd2F0Y2hTbGlkZXNQcm9ncmVzczohMCxzbGlkZVRvQ2xpY2tlZFNsaWRlOiExfSkpLGUudGh1bWJzLnN3aXBlckNyZWF0ZWQ9ITApLGUudGh1bWJzLnN3aXBlci4kZWwuYWRkQ2xhc3MoZS5wYXJhbXMudGh1bWJzLnRodW1ic0NvbnRhaW5lckNsYXNzKSxlLnRodW1icy5zd2lwZXIub24oXCJ0YXBcIixlLnRodW1icy5vblRodW1iQ2xpY2spLCEwfSxvblRodW1iQ2xpY2s6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9ZS50aHVtYnMuc3dpcGVyO2lmKHQpe3ZhciBhPXQuY2xpY2tlZEluZGV4LGk9dC5jbGlja2VkU2xpZGU7aWYoIShpJiZtKGkpLmhhc0NsYXNzKGUucGFyYW1zLnRodW1icy5zbGlkZVRodW1iQWN0aXZlQ2xhc3MpfHxudWxsPT1hKSl7dmFyIHM7aWYocz10LnBhcmFtcy5sb29wP3BhcnNlSW50KG0odC5jbGlja2VkU2xpZGUpLmF0dHIoXCJkYXRhLXN3aXBlci1zbGlkZS1pbmRleFwiKSwxMCk6YSxlLnBhcmFtcy5sb29wKXt2YXIgcj1lLmFjdGl2ZUluZGV4O2Uuc2xpZGVzLmVxKHIpLmhhc0NsYXNzKGUucGFyYW1zLnNsaWRlRHVwbGljYXRlQ2xhc3MpJiYoZS5sb29wRml4KCksZS5fY2xpZW50TGVmdD1lLiR3cmFwcGVyRWxbMF0uY2xpZW50TGVmdCxyPWUuYWN0aXZlSW5kZXgpO3ZhciBuPWUuc2xpZGVzLmVxKHIpLnByZXZBbGwoJ1tkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cIicrcysnXCJdJykuZXEoMCkuaW5kZXgoKSxvPWUuc2xpZGVzLmVxKHIpLm5leHRBbGwoJ1tkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cIicrcysnXCJdJykuZXEoMCkuaW5kZXgoKTtzPXZvaWQgMD09PW4/bzp2b2lkIDA9PT1vP246by1yPHItbj9vOm59ZS5zbGlkZVRvKHMpfX19LHVwZGF0ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLGE9dC50aHVtYnMuc3dpcGVyO2lmKGEpe3ZhciBpPVwiYXV0b1wiPT09YS5wYXJhbXMuc2xpZGVzUGVyVmlldz9hLnNsaWRlc1BlclZpZXdEeW5hbWljKCk6YS5wYXJhbXMuc2xpZGVzUGVyVmlldyxzPXQucGFyYW1zLnRodW1icy5hdXRvU2Nyb2xsT2Zmc2V0LHI9cyYmIWEucGFyYW1zLmxvb3A7aWYodC5yZWFsSW5kZXghPT1hLnJlYWxJbmRleHx8cil7dmFyIG4sbyxsPWEuYWN0aXZlSW5kZXg7aWYoYS5wYXJhbXMubG9vcCl7YS5zbGlkZXMuZXEobCkuaGFzQ2xhc3MoYS5wYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzcykmJihhLmxvb3BGaXgoKSxhLl9jbGllbnRMZWZ0PWEuJHdyYXBwZXJFbFswXS5jbGllbnRMZWZ0LGw9YS5hY3RpdmVJbmRleCk7dmFyIGQ9YS5zbGlkZXMuZXEobCkucHJldkFsbCgnW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVwiJyt0LnJlYWxJbmRleCsnXCJdJykuZXEoMCkuaW5kZXgoKSxwPWEuc2xpZGVzLmVxKGwpLm5leHRBbGwoJ1tkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cIicrdC5yZWFsSW5kZXgrJ1wiXScpLmVxKDApLmluZGV4KCk7bj12b2lkIDA9PT1kP3A6dm9pZCAwPT09cD9kOnAtbD09bC1kP2w6cC1sPGwtZD9wOmQsbz10LmFjdGl2ZUluZGV4PnQucHJldmlvdXNJbmRleD9cIm5leHRcIjpcInByZXZcIn1lbHNlIG89KG49dC5yZWFsSW5kZXgpPnQucHJldmlvdXNJbmRleD9cIm5leHRcIjpcInByZXZcIjtyJiYobis9XCJuZXh0XCI9PT1vP3M6LTEqcyksYS52aXNpYmxlU2xpZGVzSW5kZXhlcyYmYS52aXNpYmxlU2xpZGVzSW5kZXhlcy5pbmRleE9mKG4pPDAmJihhLnBhcmFtcy5jZW50ZXJlZFNsaWRlcz9uPW4+bD9uLU1hdGguZmxvb3IoaS8yKSsxOm4rTWF0aC5mbG9vcihpLzIpLTE6bj5sJiYobj1uLWkrMSksYS5zbGlkZVRvKG4sZT8wOnZvaWQgMCkpfXZhciBjPTEsdT10LnBhcmFtcy50aHVtYnMuc2xpZGVUaHVtYkFjdGl2ZUNsYXNzO2lmKHQucGFyYW1zLnNsaWRlc1BlclZpZXc+MSYmIXQucGFyYW1zLmNlbnRlcmVkU2xpZGVzJiYoYz10LnBhcmFtcy5zbGlkZXNQZXJWaWV3KSx0LnBhcmFtcy50aHVtYnMubXVsdGlwbGVBY3RpdmVUaHVtYnN8fChjPTEpLGM9TWF0aC5mbG9vcihjKSxhLnNsaWRlcy5yZW1vdmVDbGFzcyh1KSxhLnBhcmFtcy5sb29wfHxhLnBhcmFtcy52aXJ0dWFsJiZhLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQpZm9yKHZhciBoPTA7aDxjO2grPTEpYS4kd3JhcHBlckVsLmNoaWxkcmVuKCdbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XCInKyh0LnJlYWxJbmRleCtoKSsnXCJdJykuYWRkQ2xhc3ModSk7ZWxzZSBmb3IodmFyIHY9MDt2PGM7dis9MSlhLnNsaWRlcy5lcSh0LnJlYWxJbmRleCt2KS5hZGRDbGFzcyh1KX19fSxoZT1bcSxVLHtuYW1lOlwibW91c2V3aGVlbFwiLHBhcmFtczp7bW91c2V3aGVlbDp7ZW5hYmxlZDohMSxyZWxlYXNlT25FZGdlczohMSxpbnZlcnQ6ITEsZm9yY2VUb0F4aXM6ITEsc2Vuc2l0aXZpdHk6MSxldmVudHNUYXJnZXQ6XCJjb250YWluZXJcIix0aHJlc2hvbGREZWx0YTpudWxsLHRocmVzaG9sZFRpbWU6bnVsbH19LGNyZWF0ZTpmdW5jdGlvbigpe00odGhpcyx7bW91c2V3aGVlbDp7ZW5hYmxlZDohMSxsYXN0U2Nyb2xsVGltZTp4KCksbGFzdEV2ZW50QmVmb3JlU25hcDp2b2lkIDAscmVjZW50V2hlZWxFdmVudHM6W10sZW5hYmxlOksuZW5hYmxlLGRpc2FibGU6Sy5kaXNhYmxlLGhhbmRsZTpLLmhhbmRsZSxoYW5kbGVNb3VzZUVudGVyOksuaGFuZGxlTW91c2VFbnRlcixoYW5kbGVNb3VzZUxlYXZlOksuaGFuZGxlTW91c2VMZWF2ZSxhbmltYXRlU2xpZGVyOksuYW5pbWF0ZVNsaWRlcixyZWxlYXNlU2Nyb2xsOksucmVsZWFzZVNjcm9sbH19KX0sb246e2luaXQ6ZnVuY3Rpb24oZSl7IWUucGFyYW1zLm1vdXNld2hlZWwuZW5hYmxlZCYmZS5wYXJhbXMuY3NzTW9kZSYmZS5tb3VzZXdoZWVsLmRpc2FibGUoKSxlLnBhcmFtcy5tb3VzZXdoZWVsLmVuYWJsZWQmJmUubW91c2V3aGVlbC5lbmFibGUoKX0sZGVzdHJveTpmdW5jdGlvbihlKXtlLnBhcmFtcy5jc3NNb2RlJiZlLm1vdXNld2hlZWwuZW5hYmxlKCksZS5tb3VzZXdoZWVsLmVuYWJsZWQmJmUubW91c2V3aGVlbC5kaXNhYmxlKCl9fX0se25hbWU6XCJuYXZpZ2F0aW9uXCIscGFyYW1zOntuYXZpZ2F0aW9uOntuZXh0RWw6bnVsbCxwcmV2RWw6bnVsbCxoaWRlT25DbGljazohMSxkaXNhYmxlZENsYXNzOlwic3dpcGVyLWJ1dHRvbi1kaXNhYmxlZFwiLGhpZGRlbkNsYXNzOlwic3dpcGVyLWJ1dHRvbi1oaWRkZW5cIixsb2NrQ2xhc3M6XCJzd2lwZXItYnV0dG9uLWxvY2tcIn19LGNyZWF0ZTpmdW5jdGlvbigpe00odGhpcyx7bmF2aWdhdGlvbjp0KHt9LFopfSl9LG9uOntpbml0OmZ1bmN0aW9uKGUpe2UubmF2aWdhdGlvbi5pbml0KCksZS5uYXZpZ2F0aW9uLnVwZGF0ZSgpfSx0b0VkZ2U6ZnVuY3Rpb24oZSl7ZS5uYXZpZ2F0aW9uLnVwZGF0ZSgpfSxmcm9tRWRnZTpmdW5jdGlvbihlKXtlLm5hdmlnYXRpb24udXBkYXRlKCl9LGRlc3Ryb3k6ZnVuY3Rpb24oZSl7ZS5uYXZpZ2F0aW9uLmRlc3Ryb3koKX0sY2xpY2s6ZnVuY3Rpb24oZSx0KXt2YXIgYT1lLm5hdmlnYXRpb24saT1hLiRuZXh0RWwscz1hLiRwcmV2RWwscj10LnRhcmdldDtpZihlLnBhcmFtcy5uYXZpZ2F0aW9uLmhpZGVPbkNsaWNrJiYhbShyKS5pcyhzKSYmIW0ocikuaXMoaSkpe2lmKGUucGFnaW5hdGlvbiYmZS5wYXJhbXMucGFnaW5hdGlvbiYmZS5wYXJhbXMucGFnaW5hdGlvbi5jbGlja2FibGUmJihlLnBhZ2luYXRpb24uZWw9PT1yfHxlLnBhZ2luYXRpb24uZWwuY29udGFpbnMocikpKXJldHVybjt2YXIgbjtpP249aS5oYXNDbGFzcyhlLnBhcmFtcy5uYXZpZ2F0aW9uLmhpZGRlbkNsYXNzKTpzJiYobj1zLmhhc0NsYXNzKGUucGFyYW1zLm5hdmlnYXRpb24uaGlkZGVuQ2xhc3MpKSwhMD09PW4/ZS5lbWl0KFwibmF2aWdhdGlvblNob3dcIik6ZS5lbWl0KFwibmF2aWdhdGlvbkhpZGVcIiksaSYmaS50b2dnbGVDbGFzcyhlLnBhcmFtcy5uYXZpZ2F0aW9uLmhpZGRlbkNsYXNzKSxzJiZzLnRvZ2dsZUNsYXNzKGUucGFyYW1zLm5hdmlnYXRpb24uaGlkZGVuQ2xhc3MpfX19fSx7bmFtZTpcInBhZ2luYXRpb25cIixwYXJhbXM6e3BhZ2luYXRpb246e2VsOm51bGwsYnVsbGV0RWxlbWVudDpcInNwYW5cIixjbGlja2FibGU6ITEsaGlkZU9uQ2xpY2s6ITEscmVuZGVyQnVsbGV0Om51bGwscmVuZGVyUHJvZ3Jlc3NiYXI6bnVsbCxyZW5kZXJGcmFjdGlvbjpudWxsLHJlbmRlckN1c3RvbTpudWxsLHByb2dyZXNzYmFyT3Bwb3NpdGU6ITEsdHlwZTpcImJ1bGxldHNcIixkeW5hbWljQnVsbGV0czohMSxkeW5hbWljTWFpbkJ1bGxldHM6MSxmb3JtYXRGcmFjdGlvbkN1cnJlbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LGZvcm1hdEZyYWN0aW9uVG90YWw6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LGJ1bGxldENsYXNzOlwic3dpcGVyLXBhZ2luYXRpb24tYnVsbGV0XCIsYnVsbGV0QWN0aXZlQ2xhc3M6XCJzd2lwZXItcGFnaW5hdGlvbi1idWxsZXQtYWN0aXZlXCIsbW9kaWZpZXJDbGFzczpcInN3aXBlci1wYWdpbmF0aW9uLVwiLGN1cnJlbnRDbGFzczpcInN3aXBlci1wYWdpbmF0aW9uLWN1cnJlbnRcIix0b3RhbENsYXNzOlwic3dpcGVyLXBhZ2luYXRpb24tdG90YWxcIixoaWRkZW5DbGFzczpcInN3aXBlci1wYWdpbmF0aW9uLWhpZGRlblwiLHByb2dyZXNzYmFyRmlsbENsYXNzOlwic3dpcGVyLXBhZ2luYXRpb24tcHJvZ3Jlc3NiYXItZmlsbFwiLHByb2dyZXNzYmFyT3Bwb3NpdGVDbGFzczpcInN3aXBlci1wYWdpbmF0aW9uLXByb2dyZXNzYmFyLW9wcG9zaXRlXCIsY2xpY2thYmxlQ2xhc3M6XCJzd2lwZXItcGFnaW5hdGlvbi1jbGlja2FibGVcIixsb2NrQ2xhc3M6XCJzd2lwZXItcGFnaW5hdGlvbi1sb2NrXCJ9fSxjcmVhdGU6ZnVuY3Rpb24oKXtNKHRoaXMse3BhZ2luYXRpb246dCh7ZHluYW1pY0J1bGxldEluZGV4OjB9LEopfSl9LG9uOntpbml0OmZ1bmN0aW9uKGUpe2UucGFnaW5hdGlvbi5pbml0KCksZS5wYWdpbmF0aW9uLnJlbmRlcigpLGUucGFnaW5hdGlvbi51cGRhdGUoKX0sYWN0aXZlSW5kZXhDaGFuZ2U6ZnVuY3Rpb24oZSl7KGUucGFyYW1zLmxvb3B8fHZvaWQgMD09PWUuc25hcEluZGV4KSYmZS5wYWdpbmF0aW9uLnVwZGF0ZSgpfSxzbmFwSW5kZXhDaGFuZ2U6ZnVuY3Rpb24oZSl7ZS5wYXJhbXMubG9vcHx8ZS5wYWdpbmF0aW9uLnVwZGF0ZSgpfSxzbGlkZXNMZW5ndGhDaGFuZ2U6ZnVuY3Rpb24oZSl7ZS5wYXJhbXMubG9vcCYmKGUucGFnaW5hdGlvbi5yZW5kZXIoKSxlLnBhZ2luYXRpb24udXBkYXRlKCkpfSxzbmFwR3JpZExlbmd0aENoYW5nZTpmdW5jdGlvbihlKXtlLnBhcmFtcy5sb29wfHwoZS5wYWdpbmF0aW9uLnJlbmRlcigpLGUucGFnaW5hdGlvbi51cGRhdGUoKSl9LGRlc3Ryb3k6ZnVuY3Rpb24oZSl7ZS5wYWdpbmF0aW9uLmRlc3Ryb3koKX0sY2xpY2s6ZnVuY3Rpb24oZSx0KXt2YXIgYT10LnRhcmdldDtpZihlLnBhcmFtcy5wYWdpbmF0aW9uLmVsJiZlLnBhcmFtcy5wYWdpbmF0aW9uLmhpZGVPbkNsaWNrJiZlLnBhZ2luYXRpb24uJGVsLmxlbmd0aD4wJiYhbShhKS5oYXNDbGFzcyhlLnBhcmFtcy5wYWdpbmF0aW9uLmJ1bGxldENsYXNzKSl7aWYoZS5uYXZpZ2F0aW9uJiYoZS5uYXZpZ2F0aW9uLm5leHRFbCYmYT09PWUubmF2aWdhdGlvbi5uZXh0RWx8fGUubmF2aWdhdGlvbi5wcmV2RWwmJmE9PT1lLm5hdmlnYXRpb24ucHJldkVsKSlyZXR1cm47ITA9PT1lLnBhZ2luYXRpb24uJGVsLmhhc0NsYXNzKGUucGFyYW1zLnBhZ2luYXRpb24uaGlkZGVuQ2xhc3MpP2UuZW1pdChcInBhZ2luYXRpb25TaG93XCIpOmUuZW1pdChcInBhZ2luYXRpb25IaWRlXCIpLGUucGFnaW5hdGlvbi4kZWwudG9nZ2xlQ2xhc3MoZS5wYXJhbXMucGFnaW5hdGlvbi5oaWRkZW5DbGFzcyl9fX19LHtuYW1lOlwic2Nyb2xsYmFyXCIscGFyYW1zOntzY3JvbGxiYXI6e2VsOm51bGwsZHJhZ1NpemU6XCJhdXRvXCIsaGlkZTohMSxkcmFnZ2FibGU6ITEsc25hcE9uUmVsZWFzZTohMCxsb2NrQ2xhc3M6XCJzd2lwZXItc2Nyb2xsYmFyLWxvY2tcIixkcmFnQ2xhc3M6XCJzd2lwZXItc2Nyb2xsYmFyLWRyYWdcIn19LGNyZWF0ZTpmdW5jdGlvbigpe00odGhpcyx7c2Nyb2xsYmFyOnQoe2lzVG91Y2hlZDohMSx0aW1lb3V0Om51bGwsZHJhZ1RpbWVvdXQ6bnVsbH0sUSl9KX0sb246e2luaXQ6ZnVuY3Rpb24oZSl7ZS5zY3JvbGxiYXIuaW5pdCgpLGUuc2Nyb2xsYmFyLnVwZGF0ZVNpemUoKSxlLnNjcm9sbGJhci5zZXRUcmFuc2xhdGUoKX0sdXBkYXRlOmZ1bmN0aW9uKGUpe2Uuc2Nyb2xsYmFyLnVwZGF0ZVNpemUoKX0scmVzaXplOmZ1bmN0aW9uKGUpe2Uuc2Nyb2xsYmFyLnVwZGF0ZVNpemUoKX0sb2JzZXJ2ZXJVcGRhdGU6ZnVuY3Rpb24oZSl7ZS5zY3JvbGxiYXIudXBkYXRlU2l6ZSgpfSxzZXRUcmFuc2xhdGU6ZnVuY3Rpb24oZSl7ZS5zY3JvbGxiYXIuc2V0VHJhbnNsYXRlKCl9LHNldFRyYW5zaXRpb246ZnVuY3Rpb24oZSx0KXtlLnNjcm9sbGJhci5zZXRUcmFuc2l0aW9uKHQpfSxkZXN0cm95OmZ1bmN0aW9uKGUpe2Uuc2Nyb2xsYmFyLmRlc3Ryb3koKX19fSx7bmFtZTpcInBhcmFsbGF4XCIscGFyYW1zOntwYXJhbGxheDp7ZW5hYmxlZDohMX19LGNyZWF0ZTpmdW5jdGlvbigpe00odGhpcyx7cGFyYWxsYXg6dCh7fSxlZSl9KX0sb246e2JlZm9yZUluaXQ6ZnVuY3Rpb24oZSl7ZS5wYXJhbXMucGFyYWxsYXguZW5hYmxlZCYmKGUucGFyYW1zLndhdGNoU2xpZGVzUHJvZ3Jlc3M9ITAsZS5vcmlnaW5hbFBhcmFtcy53YXRjaFNsaWRlc1Byb2dyZXNzPSEwKX0saW5pdDpmdW5jdGlvbihlKXtlLnBhcmFtcy5wYXJhbGxheC5lbmFibGVkJiZlLnBhcmFsbGF4LnNldFRyYW5zbGF0ZSgpfSxzZXRUcmFuc2xhdGU6ZnVuY3Rpb24oZSl7ZS5wYXJhbXMucGFyYWxsYXguZW5hYmxlZCYmZS5wYXJhbGxheC5zZXRUcmFuc2xhdGUoKX0sc2V0VHJhbnNpdGlvbjpmdW5jdGlvbihlLHQpe2UucGFyYW1zLnBhcmFsbGF4LmVuYWJsZWQmJmUucGFyYWxsYXguc2V0VHJhbnNpdGlvbih0KX19fSx7bmFtZTpcInpvb21cIixwYXJhbXM6e3pvb206e2VuYWJsZWQ6ITEsbWF4UmF0aW86MyxtaW5SYXRpbzoxLHRvZ2dsZTohMCxjb250YWluZXJDbGFzczpcInN3aXBlci16b29tLWNvbnRhaW5lclwiLHpvb21lZFNsaWRlQ2xhc3M6XCJzd2lwZXItc2xpZGUtem9vbWVkXCJ9fSxjcmVhdGU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO00oZSx7em9vbTp0KHtlbmFibGVkOiExLHNjYWxlOjEsY3VycmVudFNjYWxlOjEsaXNTY2FsaW5nOiExLGdlc3R1cmU6eyRzbGlkZUVsOnZvaWQgMCxzbGlkZVdpZHRoOnZvaWQgMCxzbGlkZUhlaWdodDp2b2lkIDAsJGltYWdlRWw6dm9pZCAwLCRpbWFnZVdyYXBFbDp2b2lkIDAsbWF4UmF0aW86M30saW1hZ2U6e2lzVG91Y2hlZDp2b2lkIDAsaXNNb3ZlZDp2b2lkIDAsY3VycmVudFg6dm9pZCAwLGN1cnJlbnRZOnZvaWQgMCxtaW5YOnZvaWQgMCxtaW5ZOnZvaWQgMCxtYXhYOnZvaWQgMCxtYXhZOnZvaWQgMCx3aWR0aDp2b2lkIDAsaGVpZ2h0OnZvaWQgMCxzdGFydFg6dm9pZCAwLHN0YXJ0WTp2b2lkIDAsdG91Y2hlc1N0YXJ0Ont9LHRvdWNoZXNDdXJyZW50Ont9fSx2ZWxvY2l0eTp7eDp2b2lkIDAseTp2b2lkIDAscHJldlBvc2l0aW9uWDp2b2lkIDAscHJldlBvc2l0aW9uWTp2b2lkIDAscHJldlRpbWU6dm9pZCAwfX0sdGUpfSk7dmFyIGE9MTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZS56b29tLFwic2NhbGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGF9LHNldDpmdW5jdGlvbih0KXtpZihhIT09dCl7dmFyIGk9ZS56b29tLmdlc3R1cmUuJGltYWdlRWw/ZS56b29tLmdlc3R1cmUuJGltYWdlRWxbMF06dm9pZCAwLHM9ZS56b29tLmdlc3R1cmUuJHNsaWRlRWw/ZS56b29tLmdlc3R1cmUuJHNsaWRlRWxbMF06dm9pZCAwO2UuZW1pdChcInpvb21DaGFuZ2VcIix0LGkscyl9YT10fX0pfSxvbjp7aW5pdDpmdW5jdGlvbihlKXtlLnBhcmFtcy56b29tLmVuYWJsZWQmJmUuem9vbS5lbmFibGUoKX0sZGVzdHJveTpmdW5jdGlvbihlKXtlLnpvb20uZGlzYWJsZSgpfSx0b3VjaFN0YXJ0OmZ1bmN0aW9uKGUsdCl7ZS56b29tLmVuYWJsZWQmJmUuem9vbS5vblRvdWNoU3RhcnQodCl9LHRvdWNoRW5kOmZ1bmN0aW9uKGUsdCl7ZS56b29tLmVuYWJsZWQmJmUuem9vbS5vblRvdWNoRW5kKHQpfSxkb3VibGVUYXA6ZnVuY3Rpb24oZSx0KXshZS5hbmltYXRpbmcmJmUucGFyYW1zLnpvb20uZW5hYmxlZCYmZS56b29tLmVuYWJsZWQmJmUucGFyYW1zLnpvb20udG9nZ2xlJiZlLnpvb20udG9nZ2xlKHQpfSx0cmFuc2l0aW9uRW5kOmZ1bmN0aW9uKGUpe2Uuem9vbS5lbmFibGVkJiZlLnBhcmFtcy56b29tLmVuYWJsZWQmJmUuem9vbS5vblRyYW5zaXRpb25FbmQoKX0sc2xpZGVDaGFuZ2U6ZnVuY3Rpb24oZSl7ZS56b29tLmVuYWJsZWQmJmUucGFyYW1zLnpvb20uZW5hYmxlZCYmZS5wYXJhbXMuY3NzTW9kZSYmZS56b29tLm9uVHJhbnNpdGlvbkVuZCgpfX19LHtuYW1lOlwibGF6eVwiLHBhcmFtczp7bGF6eTp7Y2hlY2tJblZpZXc6ITEsZW5hYmxlZDohMSxsb2FkUHJldk5leHQ6ITEsbG9hZFByZXZOZXh0QW1vdW50OjEsbG9hZE9uVHJhbnNpdGlvblN0YXJ0OiExLHNjcm9sbGluZ0VsZW1lbnQ6XCJcIixlbGVtZW50Q2xhc3M6XCJzd2lwZXItbGF6eVwiLGxvYWRpbmdDbGFzczpcInN3aXBlci1sYXp5LWxvYWRpbmdcIixsb2FkZWRDbGFzczpcInN3aXBlci1sYXp5LWxvYWRlZFwiLHByZWxvYWRlckNsYXNzOlwic3dpcGVyLWxhenktcHJlbG9hZGVyXCJ9fSxjcmVhdGU6ZnVuY3Rpb24oKXtNKHRoaXMse2xhenk6dCh7aW5pdGlhbEltYWdlTG9hZGVkOiExfSxhZSl9KX0sb246e2JlZm9yZUluaXQ6ZnVuY3Rpb24oZSl7ZS5wYXJhbXMubGF6eS5lbmFibGVkJiZlLnBhcmFtcy5wcmVsb2FkSW1hZ2VzJiYoZS5wYXJhbXMucHJlbG9hZEltYWdlcz0hMSl9LGluaXQ6ZnVuY3Rpb24oZSl7ZS5wYXJhbXMubGF6eS5lbmFibGVkJiYhZS5wYXJhbXMubG9vcCYmMD09PWUucGFyYW1zLmluaXRpYWxTbGlkZSYmKGUucGFyYW1zLmxhenkuY2hlY2tJblZpZXc/ZS5sYXp5LmNoZWNrSW5WaWV3T25Mb2FkKCk6ZS5sYXp5LmxvYWQoKSl9LHNjcm9sbDpmdW5jdGlvbihlKXtlLnBhcmFtcy5mcmVlTW9kZSYmIWUucGFyYW1zLmZyZWVNb2RlU3RpY2t5JiZlLmxhenkubG9hZCgpfSxcInNjcm9sbGJhckRyYWdNb3ZlIHJlc2l6ZSBfZnJlZU1vZGVOb01vbWVudHVtUmVsZWFzZVwiOmZ1bmN0aW9uKGUpe2UucGFyYW1zLmxhenkuZW5hYmxlZCYmZS5sYXp5LmxvYWQoKX0sdHJhbnNpdGlvblN0YXJ0OmZ1bmN0aW9uKGUpe2UucGFyYW1zLmxhenkuZW5hYmxlZCYmKGUucGFyYW1zLmxhenkubG9hZE9uVHJhbnNpdGlvblN0YXJ0fHwhZS5wYXJhbXMubGF6eS5sb2FkT25UcmFuc2l0aW9uU3RhcnQmJiFlLmxhenkuaW5pdGlhbEltYWdlTG9hZGVkKSYmZS5sYXp5LmxvYWQoKX0sdHJhbnNpdGlvbkVuZDpmdW5jdGlvbihlKXtlLnBhcmFtcy5sYXp5LmVuYWJsZWQmJiFlLnBhcmFtcy5sYXp5LmxvYWRPblRyYW5zaXRpb25TdGFydCYmZS5sYXp5LmxvYWQoKX0sc2xpZGVDaGFuZ2U6ZnVuY3Rpb24oZSl7ZS5wYXJhbXMubGF6eS5lbmFibGVkJiZlLnBhcmFtcy5jc3NNb2RlJiZlLmxhenkubG9hZCgpfX19LHtuYW1lOlwiY29udHJvbGxlclwiLHBhcmFtczp7Y29udHJvbGxlcjp7Y29udHJvbDp2b2lkIDAsaW52ZXJzZTohMSxieTpcInNsaWRlXCJ9fSxjcmVhdGU6ZnVuY3Rpb24oKXtNKHRoaXMse2NvbnRyb2xsZXI6dCh7Y29udHJvbDp0aGlzLnBhcmFtcy5jb250cm9sbGVyLmNvbnRyb2x9LGllKX0pfSxvbjp7dXBkYXRlOmZ1bmN0aW9uKGUpe2UuY29udHJvbGxlci5jb250cm9sJiZlLmNvbnRyb2xsZXIuc3BsaW5lJiYoZS5jb250cm9sbGVyLnNwbGluZT12b2lkIDAsZGVsZXRlIGUuY29udHJvbGxlci5zcGxpbmUpfSxyZXNpemU6ZnVuY3Rpb24oZSl7ZS5jb250cm9sbGVyLmNvbnRyb2wmJmUuY29udHJvbGxlci5zcGxpbmUmJihlLmNvbnRyb2xsZXIuc3BsaW5lPXZvaWQgMCxkZWxldGUgZS5jb250cm9sbGVyLnNwbGluZSl9LG9ic2VydmVyVXBkYXRlOmZ1bmN0aW9uKGUpe2UuY29udHJvbGxlci5jb250cm9sJiZlLmNvbnRyb2xsZXIuc3BsaW5lJiYoZS5jb250cm9sbGVyLnNwbGluZT12b2lkIDAsZGVsZXRlIGUuY29udHJvbGxlci5zcGxpbmUpfSxzZXRUcmFuc2xhdGU6ZnVuY3Rpb24oZSx0LGEpe2UuY29udHJvbGxlci5jb250cm9sJiZlLmNvbnRyb2xsZXIuc2V0VHJhbnNsYXRlKHQsYSl9LHNldFRyYW5zaXRpb246ZnVuY3Rpb24oZSx0LGEpe2UuY29udHJvbGxlci5jb250cm9sJiZlLmNvbnRyb2xsZXIuc2V0VHJhbnNpdGlvbih0LGEpfX19LHtuYW1lOlwiYTExeVwiLHBhcmFtczp7YTExeTp7ZW5hYmxlZDohMCxub3RpZmljYXRpb25DbGFzczpcInN3aXBlci1ub3RpZmljYXRpb25cIixwcmV2U2xpZGVNZXNzYWdlOlwiUHJldmlvdXMgc2xpZGVcIixuZXh0U2xpZGVNZXNzYWdlOlwiTmV4dCBzbGlkZVwiLGZpcnN0U2xpZGVNZXNzYWdlOlwiVGhpcyBpcyB0aGUgZmlyc3Qgc2xpZGVcIixsYXN0U2xpZGVNZXNzYWdlOlwiVGhpcyBpcyB0aGUgbGFzdCBzbGlkZVwiLHBhZ2luYXRpb25CdWxsZXRNZXNzYWdlOlwiR28gdG8gc2xpZGUge3tpbmRleH19XCIsc2xpZGVMYWJlbE1lc3NhZ2U6XCJ7e2luZGV4fX0gLyB7e3NsaWRlc0xlbmd0aH19XCIsY29udGFpbmVyTWVzc2FnZTpudWxsLGNvbnRhaW5lclJvbGVEZXNjcmlwdGlvbk1lc3NhZ2U6bnVsbCxpdGVtUm9sZURlc2NyaXB0aW9uTWVzc2FnZTpudWxsLHNsaWRlUm9sZTpcImdyb3VwXCJ9fSxjcmVhdGU6ZnVuY3Rpb24oKXtNKHRoaXMse2ExMXk6dCh7fSxzZSx7bGl2ZVJlZ2lvbjptKCc8c3BhbiBjbGFzcz1cIicrdGhpcy5wYXJhbXMuYTExeS5ub3RpZmljYXRpb25DbGFzcysnXCIgYXJpYS1saXZlPVwiYXNzZXJ0aXZlXCIgYXJpYS1hdG9taWM9XCJ0cnVlXCI+PC9zcGFuPicpfSl9KX0sb246e2FmdGVySW5pdDpmdW5jdGlvbihlKXtlLnBhcmFtcy5hMTF5LmVuYWJsZWQmJihlLmExMXkuaW5pdCgpLGUuYTExeS51cGRhdGVOYXZpZ2F0aW9uKCkpfSx0b0VkZ2U6ZnVuY3Rpb24oZSl7ZS5wYXJhbXMuYTExeS5lbmFibGVkJiZlLmExMXkudXBkYXRlTmF2aWdhdGlvbigpfSxmcm9tRWRnZTpmdW5jdGlvbihlKXtlLnBhcmFtcy5hMTF5LmVuYWJsZWQmJmUuYTExeS51cGRhdGVOYXZpZ2F0aW9uKCl9LHBhZ2luYXRpb25VcGRhdGU6ZnVuY3Rpb24oZSl7ZS5wYXJhbXMuYTExeS5lbmFibGVkJiZlLmExMXkudXBkYXRlUGFnaW5hdGlvbigpfSxkZXN0cm95OmZ1bmN0aW9uKGUpe2UucGFyYW1zLmExMXkuZW5hYmxlZCYmZS5hMTF5LmRlc3Ryb3koKX19fSx7bmFtZTpcImhpc3RvcnlcIixwYXJhbXM6e2hpc3Rvcnk6e2VuYWJsZWQ6ITEscm9vdDpcIlwiLHJlcGxhY2VTdGF0ZTohMSxrZXk6XCJzbGlkZXNcIn19LGNyZWF0ZTpmdW5jdGlvbigpe00odGhpcyx7aGlzdG9yeTp0KHt9LHJlKX0pfSxvbjp7aW5pdDpmdW5jdGlvbihlKXtlLnBhcmFtcy5oaXN0b3J5LmVuYWJsZWQmJmUuaGlzdG9yeS5pbml0KCl9LGRlc3Ryb3k6ZnVuY3Rpb24oZSl7ZS5wYXJhbXMuaGlzdG9yeS5lbmFibGVkJiZlLmhpc3RvcnkuZGVzdHJveSgpfSxcInRyYW5zaXRpb25FbmQgX2ZyZWVNb2RlTm9Nb21lbnR1bVJlbGVhc2VcIjpmdW5jdGlvbihlKXtlLmhpc3RvcnkuaW5pdGlhbGl6ZWQmJmUuaGlzdG9yeS5zZXRIaXN0b3J5KGUucGFyYW1zLmhpc3Rvcnkua2V5LGUuYWN0aXZlSW5kZXgpfSxzbGlkZUNoYW5nZTpmdW5jdGlvbihlKXtlLmhpc3RvcnkuaW5pdGlhbGl6ZWQmJmUucGFyYW1zLmNzc01vZGUmJmUuaGlzdG9yeS5zZXRIaXN0b3J5KGUucGFyYW1zLmhpc3Rvcnkua2V5LGUuYWN0aXZlSW5kZXgpfX19LHtuYW1lOlwiaGFzaC1uYXZpZ2F0aW9uXCIscGFyYW1zOntoYXNoTmF2aWdhdGlvbjp7ZW5hYmxlZDohMSxyZXBsYWNlU3RhdGU6ITEsd2F0Y2hTdGF0ZTohMX19LGNyZWF0ZTpmdW5jdGlvbigpe00odGhpcyx7aGFzaE5hdmlnYXRpb246dCh7aW5pdGlhbGl6ZWQ6ITF9LG5lKX0pfSxvbjp7aW5pdDpmdW5jdGlvbihlKXtlLnBhcmFtcy5oYXNoTmF2aWdhdGlvbi5lbmFibGVkJiZlLmhhc2hOYXZpZ2F0aW9uLmluaXQoKX0sZGVzdHJveTpmdW5jdGlvbihlKXtlLnBhcmFtcy5oYXNoTmF2aWdhdGlvbi5lbmFibGVkJiZlLmhhc2hOYXZpZ2F0aW9uLmRlc3Ryb3koKX0sXCJ0cmFuc2l0aW9uRW5kIF9mcmVlTW9kZU5vTW9tZW50dW1SZWxlYXNlXCI6ZnVuY3Rpb24oZSl7ZS5oYXNoTmF2aWdhdGlvbi5pbml0aWFsaXplZCYmZS5oYXNoTmF2aWdhdGlvbi5zZXRIYXNoKCl9LHNsaWRlQ2hhbmdlOmZ1bmN0aW9uKGUpe2UuaGFzaE5hdmlnYXRpb24uaW5pdGlhbGl6ZWQmJmUucGFyYW1zLmNzc01vZGUmJmUuaGFzaE5hdmlnYXRpb24uc2V0SGFzaCgpfX19LHtuYW1lOlwiYXV0b3BsYXlcIixwYXJhbXM6e2F1dG9wbGF5OntlbmFibGVkOiExLGRlbGF5OjNlMyx3YWl0Rm9yVHJhbnNpdGlvbjohMCxkaXNhYmxlT25JbnRlcmFjdGlvbjohMCxzdG9wT25MYXN0U2xpZGU6ITEscmV2ZXJzZURpcmVjdGlvbjohMX19LGNyZWF0ZTpmdW5jdGlvbigpe00odGhpcyx7YXV0b3BsYXk6dCh7fSxvZSx7cnVubmluZzohMSxwYXVzZWQ6ITF9KX0pfSxvbjp7aW5pdDpmdW5jdGlvbihlKXtlLnBhcmFtcy5hdXRvcGxheS5lbmFibGVkJiYoZS5hdXRvcGxheS5zdGFydCgpLHIoKS5hZGRFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLGUuYXV0b3BsYXkub25WaXNpYmlsaXR5Q2hhbmdlKSl9LGJlZm9yZVRyYW5zaXRpb25TdGFydDpmdW5jdGlvbihlLHQsYSl7ZS5hdXRvcGxheS5ydW5uaW5nJiYoYXx8IWUucGFyYW1zLmF1dG9wbGF5LmRpc2FibGVPbkludGVyYWN0aW9uP2UuYXV0b3BsYXkucGF1c2UodCk6ZS5hdXRvcGxheS5zdG9wKCkpfSxzbGlkZXJGaXJzdE1vdmU6ZnVuY3Rpb24oZSl7ZS5hdXRvcGxheS5ydW5uaW5nJiYoZS5wYXJhbXMuYXV0b3BsYXkuZGlzYWJsZU9uSW50ZXJhY3Rpb24/ZS5hdXRvcGxheS5zdG9wKCk6ZS5hdXRvcGxheS5wYXVzZSgpKX0sdG91Y2hFbmQ6ZnVuY3Rpb24oZSl7ZS5wYXJhbXMuY3NzTW9kZSYmZS5hdXRvcGxheS5wYXVzZWQmJiFlLnBhcmFtcy5hdXRvcGxheS5kaXNhYmxlT25JbnRlcmFjdGlvbiYmZS5hdXRvcGxheS5ydW4oKX0sZGVzdHJveTpmdW5jdGlvbihlKXtlLmF1dG9wbGF5LnJ1bm5pbmcmJmUuYXV0b3BsYXkuc3RvcCgpLHIoKS5yZW1vdmVFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLGUuYXV0b3BsYXkub25WaXNpYmlsaXR5Q2hhbmdlKX19fSx7bmFtZTpcImVmZmVjdC1mYWRlXCIscGFyYW1zOntmYWRlRWZmZWN0Ontjcm9zc0ZhZGU6ITF9fSxjcmVhdGU6ZnVuY3Rpb24oKXtNKHRoaXMse2ZhZGVFZmZlY3Q6dCh7fSxsZSl9KX0sb246e2JlZm9yZUluaXQ6ZnVuY3Rpb24oZSl7aWYoXCJmYWRlXCI9PT1lLnBhcmFtcy5lZmZlY3Qpe2UuY2xhc3NOYW1lcy5wdXNoKGUucGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3MrXCJmYWRlXCIpO3ZhciB0PXtzbGlkZXNQZXJWaWV3OjEsc2xpZGVzUGVyQ29sdW1uOjEsc2xpZGVzUGVyR3JvdXA6MSx3YXRjaFNsaWRlc1Byb2dyZXNzOiEwLHNwYWNlQmV0d2VlbjowLHZpcnR1YWxUcmFuc2xhdGU6ITB9O0MoZS5wYXJhbXMsdCksQyhlLm9yaWdpbmFsUGFyYW1zLHQpfX0sc2V0VHJhbnNsYXRlOmZ1bmN0aW9uKGUpe1wiZmFkZVwiPT09ZS5wYXJhbXMuZWZmZWN0JiZlLmZhZGVFZmZlY3Quc2V0VHJhbnNsYXRlKCl9LHNldFRyYW5zaXRpb246ZnVuY3Rpb24oZSx0KXtcImZhZGVcIj09PWUucGFyYW1zLmVmZmVjdCYmZS5mYWRlRWZmZWN0LnNldFRyYW5zaXRpb24odCl9fX0se25hbWU6XCJlZmZlY3QtY3ViZVwiLHBhcmFtczp7Y3ViZUVmZmVjdDp7c2xpZGVTaGFkb3dzOiEwLHNoYWRvdzohMCxzaGFkb3dPZmZzZXQ6MjAsc2hhZG93U2NhbGU6Ljk0fX0sY3JlYXRlOmZ1bmN0aW9uKCl7TSh0aGlzLHtjdWJlRWZmZWN0OnQoe30sZGUpfSl9LG9uOntiZWZvcmVJbml0OmZ1bmN0aW9uKGUpe2lmKFwiY3ViZVwiPT09ZS5wYXJhbXMuZWZmZWN0KXtlLmNsYXNzTmFtZXMucHVzaChlLnBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzK1wiY3ViZVwiKSxlLmNsYXNzTmFtZXMucHVzaChlLnBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzK1wiM2RcIik7dmFyIHQ9e3NsaWRlc1BlclZpZXc6MSxzbGlkZXNQZXJDb2x1bW46MSxzbGlkZXNQZXJHcm91cDoxLHdhdGNoU2xpZGVzUHJvZ3Jlc3M6ITAscmVzaXN0YW5jZVJhdGlvOjAsc3BhY2VCZXR3ZWVuOjAsY2VudGVyZWRTbGlkZXM6ITEsdmlydHVhbFRyYW5zbGF0ZTohMH07QyhlLnBhcmFtcyx0KSxDKGUub3JpZ2luYWxQYXJhbXMsdCl9fSxzZXRUcmFuc2xhdGU6ZnVuY3Rpb24oZSl7XCJjdWJlXCI9PT1lLnBhcmFtcy5lZmZlY3QmJmUuY3ViZUVmZmVjdC5zZXRUcmFuc2xhdGUoKX0sc2V0VHJhbnNpdGlvbjpmdW5jdGlvbihlLHQpe1wiY3ViZVwiPT09ZS5wYXJhbXMuZWZmZWN0JiZlLmN1YmVFZmZlY3Quc2V0VHJhbnNpdGlvbih0KX19fSx7bmFtZTpcImVmZmVjdC1mbGlwXCIscGFyYW1zOntmbGlwRWZmZWN0OntzbGlkZVNoYWRvd3M6ITAsbGltaXRSb3RhdGlvbjohMH19LGNyZWF0ZTpmdW5jdGlvbigpe00odGhpcyx7ZmxpcEVmZmVjdDp0KHt9LHBlKX0pfSxvbjp7YmVmb3JlSW5pdDpmdW5jdGlvbihlKXtpZihcImZsaXBcIj09PWUucGFyYW1zLmVmZmVjdCl7ZS5jbGFzc05hbWVzLnB1c2goZS5wYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzcytcImZsaXBcIiksZS5jbGFzc05hbWVzLnB1c2goZS5wYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzcytcIjNkXCIpO3ZhciB0PXtzbGlkZXNQZXJWaWV3OjEsc2xpZGVzUGVyQ29sdW1uOjEsc2xpZGVzUGVyR3JvdXA6MSx3YXRjaFNsaWRlc1Byb2dyZXNzOiEwLHNwYWNlQmV0d2VlbjowLHZpcnR1YWxUcmFuc2xhdGU6ITB9O0MoZS5wYXJhbXMsdCksQyhlLm9yaWdpbmFsUGFyYW1zLHQpfX0sc2V0VHJhbnNsYXRlOmZ1bmN0aW9uKGUpe1wiZmxpcFwiPT09ZS5wYXJhbXMuZWZmZWN0JiZlLmZsaXBFZmZlY3Quc2V0VHJhbnNsYXRlKCl9LHNldFRyYW5zaXRpb246ZnVuY3Rpb24oZSx0KXtcImZsaXBcIj09PWUucGFyYW1zLmVmZmVjdCYmZS5mbGlwRWZmZWN0LnNldFRyYW5zaXRpb24odCl9fX0se25hbWU6XCJlZmZlY3QtY292ZXJmbG93XCIscGFyYW1zOntjb3ZlcmZsb3dFZmZlY3Q6e3JvdGF0ZTo1MCxzdHJldGNoOjAsZGVwdGg6MTAwLHNjYWxlOjEsbW9kaWZpZXI6MSxzbGlkZVNoYWRvd3M6ITB9fSxjcmVhdGU6ZnVuY3Rpb24oKXtNKHRoaXMse2NvdmVyZmxvd0VmZmVjdDp0KHt9LGNlKX0pfSxvbjp7YmVmb3JlSW5pdDpmdW5jdGlvbihlKXtcImNvdmVyZmxvd1wiPT09ZS5wYXJhbXMuZWZmZWN0JiYoZS5jbGFzc05hbWVzLnB1c2goZS5wYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzcytcImNvdmVyZmxvd1wiKSxlLmNsYXNzTmFtZXMucHVzaChlLnBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzK1wiM2RcIiksZS5wYXJhbXMud2F0Y2hTbGlkZXNQcm9ncmVzcz0hMCxlLm9yaWdpbmFsUGFyYW1zLndhdGNoU2xpZGVzUHJvZ3Jlc3M9ITApfSxzZXRUcmFuc2xhdGU6ZnVuY3Rpb24oZSl7XCJjb3ZlcmZsb3dcIj09PWUucGFyYW1zLmVmZmVjdCYmZS5jb3ZlcmZsb3dFZmZlY3Quc2V0VHJhbnNsYXRlKCl9LHNldFRyYW5zaXRpb246ZnVuY3Rpb24oZSx0KXtcImNvdmVyZmxvd1wiPT09ZS5wYXJhbXMuZWZmZWN0JiZlLmNvdmVyZmxvd0VmZmVjdC5zZXRUcmFuc2l0aW9uKHQpfX19LHtuYW1lOlwidGh1bWJzXCIscGFyYW1zOnt0aHVtYnM6e3N3aXBlcjpudWxsLG11bHRpcGxlQWN0aXZlVGh1bWJzOiEwLGF1dG9TY3JvbGxPZmZzZXQ6MCxzbGlkZVRodW1iQWN0aXZlQ2xhc3M6XCJzd2lwZXItc2xpZGUtdGh1bWItYWN0aXZlXCIsdGh1bWJzQ29udGFpbmVyQ2xhc3M6XCJzd2lwZXItY29udGFpbmVyLXRodW1ic1wifX0sY3JlYXRlOmZ1bmN0aW9uKCl7TSh0aGlzLHt0aHVtYnM6dCh7c3dpcGVyOm51bGwsaW5pdGlhbGl6ZWQ6ITF9LHVlKX0pfSxvbjp7YmVmb3JlSW5pdDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmFtcy50aHVtYnM7dCYmdC5zd2lwZXImJihlLnRodW1icy5pbml0KCksZS50aHVtYnMudXBkYXRlKCEwKSl9LHNsaWRlQ2hhbmdlOmZ1bmN0aW9uKGUpe2UudGh1bWJzLnN3aXBlciYmZS50aHVtYnMudXBkYXRlKCl9LHVwZGF0ZTpmdW5jdGlvbihlKXtlLnRodW1icy5zd2lwZXImJmUudGh1bWJzLnVwZGF0ZSgpfSxyZXNpemU6ZnVuY3Rpb24oZSl7ZS50aHVtYnMuc3dpcGVyJiZlLnRodW1icy51cGRhdGUoKX0sb2JzZXJ2ZXJVcGRhdGU6ZnVuY3Rpb24oZSl7ZS50aHVtYnMuc3dpcGVyJiZlLnRodW1icy51cGRhdGUoKX0sc2V0VHJhbnNpdGlvbjpmdW5jdGlvbihlLHQpe3ZhciBhPWUudGh1bWJzLnN3aXBlcjthJiZhLnNldFRyYW5zaXRpb24odCl9LGJlZm9yZURlc3Ryb3k6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50aHVtYnMuc3dpcGVyO3QmJmUudGh1bWJzLnN3aXBlckNyZWF0ZWQmJnQmJnQuZGVzdHJveSgpfX19XTtyZXR1cm4gRi51c2UoaGUpLEZ9KSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN3aXBlci1idW5kbGUubWluLmpzLm1hcFxyXG4hZnVuY3Rpb24oaSl7XCJ1c2Ugc3RyaWN0XCI7XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJqcXVlcnlcIl0saSk6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9aShyZXF1aXJlKFwianF1ZXJ5XCIpKTppKGpRdWVyeSl9KGZ1bmN0aW9uKGkpe1widXNlIHN0cmljdFwiO3ZhciBlPXdpbmRvdy5TbGlja3x8e307KGU9ZnVuY3Rpb24oKXt2YXIgZT0wO3JldHVybiBmdW5jdGlvbih0LG8pe3ZhciBzLG49dGhpcztuLmRlZmF1bHRzPXthY2Nlc3NpYmlsaXR5OiEwLGFkYXB0aXZlSGVpZ2h0OiExLGFwcGVuZEFycm93czppKHQpLGFwcGVuZERvdHM6aSh0KSxhcnJvd3M6ITAsYXNOYXZGb3I6bnVsbCxwcmV2QXJyb3c6JzxidXR0b24gY2xhc3M9XCJzbGljay1wcmV2XCIgYXJpYS1sYWJlbD1cIlByZXZpb3VzXCIgdHlwZT1cImJ1dHRvblwiPlByZXZpb3VzPC9idXR0b24+JyxuZXh0QXJyb3c6JzxidXR0b24gY2xhc3M9XCJzbGljay1uZXh0XCIgYXJpYS1sYWJlbD1cIk5leHRcIiB0eXBlPVwiYnV0dG9uXCI+TmV4dDwvYnV0dG9uPicsYXV0b3BsYXk6ITEsYXV0b3BsYXlTcGVlZDozZTMsY2VudGVyTW9kZTohMSxjZW50ZXJQYWRkaW5nOlwiNTBweFwiLGNzc0Vhc2U6XCJlYXNlXCIsY3VzdG9tUGFnaW5nOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkoJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIC8+JykudGV4dCh0KzEpfSxkb3RzOiExLGRvdHNDbGFzczpcInNsaWNrLWRvdHNcIixkcmFnZ2FibGU6ITAsZWFzaW5nOlwibGluZWFyXCIsZWRnZUZyaWN0aW9uOi4zNSxmYWRlOiExLGZvY3VzT25TZWxlY3Q6ITEsZm9jdXNPbkNoYW5nZTohMSxpbmZpbml0ZTohMCxpbml0aWFsU2xpZGU6MCxsYXp5TG9hZDpcIm9uZGVtYW5kXCIsbW9iaWxlRmlyc3Q6ITEscGF1c2VPbkhvdmVyOiEwLHBhdXNlT25Gb2N1czohMCxwYXVzZU9uRG90c0hvdmVyOiExLHJlc3BvbmRUbzpcIndpbmRvd1wiLHJlc3BvbnNpdmU6bnVsbCxyb3dzOjEscnRsOiExLHNsaWRlOlwiXCIsc2xpZGVzUGVyUm93OjEsc2xpZGVzVG9TaG93OjEsc2xpZGVzVG9TY3JvbGw6MSxzcGVlZDo1MDAsc3dpcGU6ITAsc3dpcGVUb1NsaWRlOiExLHRvdWNoTW92ZTohMCx0b3VjaFRocmVzaG9sZDo1LHVzZUNTUzohMCx1c2VUcmFuc2Zvcm06ITAsdmFyaWFibGVXaWR0aDohMSx2ZXJ0aWNhbDohMSx2ZXJ0aWNhbFN3aXBpbmc6ITEsd2FpdEZvckFuaW1hdGU6ITAsekluZGV4OjFlM30sbi5pbml0aWFscz17YW5pbWF0aW5nOiExLGRyYWdnaW5nOiExLGF1dG9QbGF5VGltZXI6bnVsbCxjdXJyZW50RGlyZWN0aW9uOjAsY3VycmVudExlZnQ6bnVsbCxjdXJyZW50U2xpZGU6MCxkaXJlY3Rpb246MSwkZG90czpudWxsLGxpc3RXaWR0aDpudWxsLGxpc3RIZWlnaHQ6bnVsbCxsb2FkSW5kZXg6MCwkbmV4dEFycm93Om51bGwsJHByZXZBcnJvdzpudWxsLHNjcm9sbGluZzohMSxzbGlkZUNvdW50Om51bGwsc2xpZGVXaWR0aDpudWxsLCRzbGlkZVRyYWNrOm51bGwsJHNsaWRlczpudWxsLHNsaWRpbmc6ITEsc2xpZGVPZmZzZXQ6MCxzd2lwZUxlZnQ6bnVsbCxzd2lwaW5nOiExLCRsaXN0Om51bGwsdG91Y2hPYmplY3Q6e30sdHJhbnNmb3Jtc0VuYWJsZWQ6ITEsdW5zbGlja2VkOiExfSxpLmV4dGVuZChuLG4uaW5pdGlhbHMpLG4uYWN0aXZlQnJlYWtwb2ludD1udWxsLG4uYW5pbVR5cGU9bnVsbCxuLmFuaW1Qcm9wPW51bGwsbi5icmVha3BvaW50cz1bXSxuLmJyZWFrcG9pbnRTZXR0aW5ncz1bXSxuLmNzc1RyYW5zaXRpb25zPSExLG4uZm9jdXNzZWQ9ITEsbi5pbnRlcnJ1cHRlZD0hMSxuLmhpZGRlbj1cImhpZGRlblwiLG4ucGF1c2VkPSEwLG4ucG9zaXRpb25Qcm9wPW51bGwsbi5yZXNwb25kVG89bnVsbCxuLnJvd0NvdW50PTEsbi5zaG91bGRDbGljaz0hMCxuLiRzbGlkZXI9aSh0KSxuLiRzbGlkZXNDYWNoZT1udWxsLG4udHJhbnNmb3JtVHlwZT1udWxsLG4udHJhbnNpdGlvblR5cGU9bnVsbCxuLnZpc2liaWxpdHlDaGFuZ2U9XCJ2aXNpYmlsaXR5Y2hhbmdlXCIsbi53aW5kb3dXaWR0aD0wLG4ud2luZG93VGltZXI9bnVsbCxzPWkodCkuZGF0YShcInNsaWNrXCIpfHx7fSxuLm9wdGlvbnM9aS5leHRlbmQoe30sbi5kZWZhdWx0cyxvLHMpLG4uY3VycmVudFNsaWRlPW4ub3B0aW9ucy5pbml0aWFsU2xpZGUsbi5vcmlnaW5hbFNldHRpbmdzPW4ub3B0aW9ucyx2b2lkIDAhPT1kb2N1bWVudC5tb3pIaWRkZW4/KG4uaGlkZGVuPVwibW96SGlkZGVuXCIsbi52aXNpYmlsaXR5Q2hhbmdlPVwibW96dmlzaWJpbGl0eWNoYW5nZVwiKTp2b2lkIDAhPT1kb2N1bWVudC53ZWJraXRIaWRkZW4mJihuLmhpZGRlbj1cIndlYmtpdEhpZGRlblwiLG4udmlzaWJpbGl0eUNoYW5nZT1cIndlYmtpdHZpc2liaWxpdHljaGFuZ2VcIiksbi5hdXRvUGxheT1pLnByb3h5KG4uYXV0b1BsYXksbiksbi5hdXRvUGxheUNsZWFyPWkucHJveHkobi5hdXRvUGxheUNsZWFyLG4pLG4uYXV0b1BsYXlJdGVyYXRvcj1pLnByb3h5KG4uYXV0b1BsYXlJdGVyYXRvcixuKSxuLmNoYW5nZVNsaWRlPWkucHJveHkobi5jaGFuZ2VTbGlkZSxuKSxuLmNsaWNrSGFuZGxlcj1pLnByb3h5KG4uY2xpY2tIYW5kbGVyLG4pLG4uc2VsZWN0SGFuZGxlcj1pLnByb3h5KG4uc2VsZWN0SGFuZGxlcixuKSxuLnNldFBvc2l0aW9uPWkucHJveHkobi5zZXRQb3NpdGlvbixuKSxuLnN3aXBlSGFuZGxlcj1pLnByb3h5KG4uc3dpcGVIYW5kbGVyLG4pLG4uZHJhZ0hhbmRsZXI9aS5wcm94eShuLmRyYWdIYW5kbGVyLG4pLG4ua2V5SGFuZGxlcj1pLnByb3h5KG4ua2V5SGFuZGxlcixuKSxuLmluc3RhbmNlVWlkPWUrKyxuLmh0bWxFeHByPS9eKD86XFxzKig8W1xcd1xcV10rPilbXj5dKikkLyxuLnJlZ2lzdGVyQnJlYWtwb2ludHMoKSxuLmluaXQoITApfX0oKSkucHJvdG90eXBlLmFjdGl2YXRlQURBPWZ1bmN0aW9uKCl7dGhpcy4kc2xpZGVUcmFjay5maW5kKFwiLnNsaWNrLWFjdGl2ZVwiKS5hdHRyKHtcImFyaWEtaGlkZGVuXCI6XCJmYWxzZVwifSkuZmluZChcImEsIGlucHV0LCBidXR0b24sIHNlbGVjdFwiKS5hdHRyKHt0YWJpbmRleDpcIjBcIn0pfSxlLnByb3RvdHlwZS5hZGRTbGlkZT1lLnByb3RvdHlwZS5zbGlja0FkZD1mdW5jdGlvbihlLHQsbyl7dmFyIHM9dGhpcztpZihcImJvb2xlYW5cIj09dHlwZW9mIHQpbz10LHQ9bnVsbDtlbHNlIGlmKHQ8MHx8dD49cy5zbGlkZUNvdW50KXJldHVybiExO3MudW5sb2FkKCksXCJudW1iZXJcIj09dHlwZW9mIHQ/MD09PXQmJjA9PT1zLiRzbGlkZXMubGVuZ3RoP2koZSkuYXBwZW5kVG8ocy4kc2xpZGVUcmFjayk6bz9pKGUpLmluc2VydEJlZm9yZShzLiRzbGlkZXMuZXEodCkpOmkoZSkuaW5zZXJ0QWZ0ZXIocy4kc2xpZGVzLmVxKHQpKTohMD09PW8/aShlKS5wcmVwZW5kVG8ocy4kc2xpZGVUcmFjayk6aShlKS5hcHBlbmRUbyhzLiRzbGlkZVRyYWNrKSxzLiRzbGlkZXM9cy4kc2xpZGVUcmFjay5jaGlsZHJlbih0aGlzLm9wdGlvbnMuc2xpZGUpLHMuJHNsaWRlVHJhY2suY2hpbGRyZW4odGhpcy5vcHRpb25zLnNsaWRlKS5kZXRhY2goKSxzLiRzbGlkZVRyYWNrLmFwcGVuZChzLiRzbGlkZXMpLHMuJHNsaWRlcy5lYWNoKGZ1bmN0aW9uKGUsdCl7aSh0KS5hdHRyKFwiZGF0YS1zbGljay1pbmRleFwiLGUpfSkscy4kc2xpZGVzQ2FjaGU9cy4kc2xpZGVzLHMucmVpbml0KCl9LGUucHJvdG90eXBlLmFuaW1hdGVIZWlnaHQ9ZnVuY3Rpb24oKXt2YXIgaT10aGlzO2lmKDE9PT1pLm9wdGlvbnMuc2xpZGVzVG9TaG93JiYhMD09PWkub3B0aW9ucy5hZGFwdGl2ZUhlaWdodCYmITE9PT1pLm9wdGlvbnMudmVydGljYWwpe3ZhciBlPWkuJHNsaWRlcy5lcShpLmN1cnJlbnRTbGlkZSkub3V0ZXJIZWlnaHQoITApO2kuJGxpc3QuYW5pbWF0ZSh7aGVpZ2h0OmV9LGkub3B0aW9ucy5zcGVlZCl9fSxlLnByb3RvdHlwZS5hbmltYXRlU2xpZGU9ZnVuY3Rpb24oZSx0KXt2YXIgbz17fSxzPXRoaXM7cy5hbmltYXRlSGVpZ2h0KCksITA9PT1zLm9wdGlvbnMucnRsJiYhMT09PXMub3B0aW9ucy52ZXJ0aWNhbCYmKGU9LWUpLCExPT09cy50cmFuc2Zvcm1zRW5hYmxlZD8hMT09PXMub3B0aW9ucy52ZXJ0aWNhbD9zLiRzbGlkZVRyYWNrLmFuaW1hdGUoe2xlZnQ6ZX0scy5vcHRpb25zLnNwZWVkLHMub3B0aW9ucy5lYXNpbmcsdCk6cy4kc2xpZGVUcmFjay5hbmltYXRlKHt0b3A6ZX0scy5vcHRpb25zLnNwZWVkLHMub3B0aW9ucy5lYXNpbmcsdCk6ITE9PT1zLmNzc1RyYW5zaXRpb25zPyghMD09PXMub3B0aW9ucy5ydGwmJihzLmN1cnJlbnRMZWZ0PS1zLmN1cnJlbnRMZWZ0KSxpKHthbmltU3RhcnQ6cy5jdXJyZW50TGVmdH0pLmFuaW1hdGUoe2FuaW1TdGFydDplfSx7ZHVyYXRpb246cy5vcHRpb25zLnNwZWVkLGVhc2luZzpzLm9wdGlvbnMuZWFzaW5nLHN0ZXA6ZnVuY3Rpb24oaSl7aT1NYXRoLmNlaWwoaSksITE9PT1zLm9wdGlvbnMudmVydGljYWw/KG9bcy5hbmltVHlwZV09XCJ0cmFuc2xhdGUoXCIraStcInB4LCAwcHgpXCIscy4kc2xpZGVUcmFjay5jc3MobykpOihvW3MuYW5pbVR5cGVdPVwidHJhbnNsYXRlKDBweCxcIitpK1wicHgpXCIscy4kc2xpZGVUcmFjay5jc3MobykpfSxjb21wbGV0ZTpmdW5jdGlvbigpe3QmJnQuY2FsbCgpfX0pKToocy5hcHBseVRyYW5zaXRpb24oKSxlPU1hdGguY2VpbChlKSwhMT09PXMub3B0aW9ucy52ZXJ0aWNhbD9vW3MuYW5pbVR5cGVdPVwidHJhbnNsYXRlM2QoXCIrZStcInB4LCAwcHgsIDBweClcIjpvW3MuYW5pbVR5cGVdPVwidHJhbnNsYXRlM2QoMHB4LFwiK2UrXCJweCwgMHB4KVwiLHMuJHNsaWRlVHJhY2suY3NzKG8pLHQmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtzLmRpc2FibGVUcmFuc2l0aW9uKCksdC5jYWxsKCl9LHMub3B0aW9ucy5zcGVlZCkpfSxlLnByb3RvdHlwZS5nZXROYXZUYXJnZXQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9ZS5vcHRpb25zLmFzTmF2Rm9yO3JldHVybiB0JiZudWxsIT09dCYmKHQ9aSh0KS5ub3QoZS4kc2xpZGVyKSksdH0sZS5wcm90b3R5cGUuYXNOYXZGb3I9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXROYXZUYXJnZXQoKTtudWxsIT09dCYmXCJvYmplY3RcIj09dHlwZW9mIHQmJnQuZWFjaChmdW5jdGlvbigpe3ZhciB0PWkodGhpcykuc2xpY2soXCJnZXRTbGlja1wiKTt0LnVuc2xpY2tlZHx8dC5zbGlkZUhhbmRsZXIoZSwhMCl9KX0sZS5wcm90b3R5cGUuYXBwbHlUcmFuc2l0aW9uPWZ1bmN0aW9uKGkpe3ZhciBlPXRoaXMsdD17fTshMT09PWUub3B0aW9ucy5mYWRlP3RbZS50cmFuc2l0aW9uVHlwZV09ZS50cmFuc2Zvcm1UeXBlK1wiIFwiK2Uub3B0aW9ucy5zcGVlZCtcIm1zIFwiK2Uub3B0aW9ucy5jc3NFYXNlOnRbZS50cmFuc2l0aW9uVHlwZV09XCJvcGFjaXR5IFwiK2Uub3B0aW9ucy5zcGVlZCtcIm1zIFwiK2Uub3B0aW9ucy5jc3NFYXNlLCExPT09ZS5vcHRpb25zLmZhZGU/ZS4kc2xpZGVUcmFjay5jc3ModCk6ZS4kc2xpZGVzLmVxKGkpLmNzcyh0KX0sZS5wcm90b3R5cGUuYXV0b1BsYXk9ZnVuY3Rpb24oKXt2YXIgaT10aGlzO2kuYXV0b1BsYXlDbGVhcigpLGkuc2xpZGVDb3VudD5pLm9wdGlvbnMuc2xpZGVzVG9TaG93JiYoaS5hdXRvUGxheVRpbWVyPXNldEludGVydmFsKGkuYXV0b1BsYXlJdGVyYXRvcixpLm9wdGlvbnMuYXV0b3BsYXlTcGVlZCkpfSxlLnByb3RvdHlwZS5hdXRvUGxheUNsZWFyPWZ1bmN0aW9uKCl7dmFyIGk9dGhpcztpLmF1dG9QbGF5VGltZXImJmNsZWFySW50ZXJ2YWwoaS5hdXRvUGxheVRpbWVyKX0sZS5wcm90b3R5cGUuYXV0b1BsYXlJdGVyYXRvcj1mdW5jdGlvbigpe3ZhciBpPXRoaXMsZT1pLmN1cnJlbnRTbGlkZStpLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGw7aS5wYXVzZWR8fGkuaW50ZXJydXB0ZWR8fGkuZm9jdXNzZWR8fCghMT09PWkub3B0aW9ucy5pbmZpbml0ZSYmKDE9PT1pLmRpcmVjdGlvbiYmaS5jdXJyZW50U2xpZGUrMT09PWkuc2xpZGVDb3VudC0xP2kuZGlyZWN0aW9uPTA6MD09PWkuZGlyZWN0aW9uJiYoZT1pLmN1cnJlbnRTbGlkZS1pLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwsaS5jdXJyZW50U2xpZGUtMT09MCYmKGkuZGlyZWN0aW9uPTEpKSksaS5zbGlkZUhhbmRsZXIoZSkpfSxlLnByb3RvdHlwZS5idWlsZEFycm93cz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7ITA9PT1lLm9wdGlvbnMuYXJyb3dzJiYoZS4kcHJldkFycm93PWkoZS5vcHRpb25zLnByZXZBcnJvdykuYWRkQ2xhc3MoXCJzbGljay1hcnJvd1wiKSxlLiRuZXh0QXJyb3c9aShlLm9wdGlvbnMubmV4dEFycm93KS5hZGRDbGFzcyhcInNsaWNrLWFycm93XCIpLGUuc2xpZGVDb3VudD5lLm9wdGlvbnMuc2xpZGVzVG9TaG93PyhlLiRwcmV2QXJyb3cucmVtb3ZlQ2xhc3MoXCJzbGljay1oaWRkZW5cIikucmVtb3ZlQXR0cihcImFyaWEtaGlkZGVuIHRhYmluZGV4XCIpLGUuJG5leHRBcnJvdy5yZW1vdmVDbGFzcyhcInNsaWNrLWhpZGRlblwiKS5yZW1vdmVBdHRyKFwiYXJpYS1oaWRkZW4gdGFiaW5kZXhcIiksZS5odG1sRXhwci50ZXN0KGUub3B0aW9ucy5wcmV2QXJyb3cpJiZlLiRwcmV2QXJyb3cucHJlcGVuZFRvKGUub3B0aW9ucy5hcHBlbmRBcnJvd3MpLGUuaHRtbEV4cHIudGVzdChlLm9wdGlvbnMubmV4dEFycm93KSYmZS4kbmV4dEFycm93LmFwcGVuZFRvKGUub3B0aW9ucy5hcHBlbmRBcnJvd3MpLCEwIT09ZS5vcHRpb25zLmluZmluaXRlJiZlLiRwcmV2QXJyb3cuYWRkQ2xhc3MoXCJzbGljay1kaXNhYmxlZFwiKS5hdHRyKFwiYXJpYS1kaXNhYmxlZFwiLFwidHJ1ZVwiKSk6ZS4kcHJldkFycm93LmFkZChlLiRuZXh0QXJyb3cpLmFkZENsYXNzKFwic2xpY2staGlkZGVuXCIpLmF0dHIoe1wiYXJpYS1kaXNhYmxlZFwiOlwidHJ1ZVwiLHRhYmluZGV4OlwiLTFcIn0pKX0sZS5wcm90b3R5cGUuYnVpbGREb3RzPWZ1bmN0aW9uKCl7dmFyIGUsdCxvPXRoaXM7aWYoITA9PT1vLm9wdGlvbnMuZG90cyl7Zm9yKG8uJHNsaWRlci5hZGRDbGFzcyhcInNsaWNrLWRvdHRlZFwiKSx0PWkoXCI8dWwgLz5cIikuYWRkQ2xhc3Moby5vcHRpb25zLmRvdHNDbGFzcyksZT0wO2U8PW8uZ2V0RG90Q291bnQoKTtlKz0xKXQuYXBwZW5kKGkoXCI8bGkgLz5cIikuYXBwZW5kKG8ub3B0aW9ucy5jdXN0b21QYWdpbmcuY2FsbCh0aGlzLG8sZSkpKTtvLiRkb3RzPXQuYXBwZW5kVG8oby5vcHRpb25zLmFwcGVuZERvdHMpLG8uJGRvdHMuZmluZChcImxpXCIpLmZpcnN0KCkuYWRkQ2xhc3MoXCJzbGljay1hY3RpdmVcIil9fSxlLnByb3RvdHlwZS5idWlsZE91dD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS4kc2xpZGVzPWUuJHNsaWRlci5jaGlsZHJlbihlLm9wdGlvbnMuc2xpZGUrXCI6bm90KC5zbGljay1jbG9uZWQpXCIpLmFkZENsYXNzKFwic2xpY2stc2xpZGVcIiksZS5zbGlkZUNvdW50PWUuJHNsaWRlcy5sZW5ndGgsZS4kc2xpZGVzLmVhY2goZnVuY3Rpb24oZSx0KXtpKHQpLmF0dHIoXCJkYXRhLXNsaWNrLWluZGV4XCIsZSkuZGF0YShcIm9yaWdpbmFsU3R5bGluZ1wiLGkodCkuYXR0cihcInN0eWxlXCIpfHxcIlwiKX0pLGUuJHNsaWRlci5hZGRDbGFzcyhcInNsaWNrLXNsaWRlclwiKSxlLiRzbGlkZVRyYWNrPTA9PT1lLnNsaWRlQ291bnQ/aSgnPGRpdiBjbGFzcz1cInNsaWNrLXRyYWNrXCIvPicpLmFwcGVuZFRvKGUuJHNsaWRlcik6ZS4kc2xpZGVzLndyYXBBbGwoJzxkaXYgY2xhc3M9XCJzbGljay10cmFja1wiLz4nKS5wYXJlbnQoKSxlLiRsaXN0PWUuJHNsaWRlVHJhY2sud3JhcCgnPGRpdiBjbGFzcz1cInNsaWNrLWxpc3RcIi8+JykucGFyZW50KCksZS4kc2xpZGVUcmFjay5jc3MoXCJvcGFjaXR5XCIsMCksITAhPT1lLm9wdGlvbnMuY2VudGVyTW9kZSYmITAhPT1lLm9wdGlvbnMuc3dpcGVUb1NsaWRlfHwoZS5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsPTEpLGkoXCJpbWdbZGF0YS1sYXp5XVwiLGUuJHNsaWRlcikubm90KFwiW3NyY11cIikuYWRkQ2xhc3MoXCJzbGljay1sb2FkaW5nXCIpLGUuc2V0dXBJbmZpbml0ZSgpLGUuYnVpbGRBcnJvd3MoKSxlLmJ1aWxkRG90cygpLGUudXBkYXRlRG90cygpLGUuc2V0U2xpZGVDbGFzc2VzKFwibnVtYmVyXCI9PXR5cGVvZiBlLmN1cnJlbnRTbGlkZT9lLmN1cnJlbnRTbGlkZTowKSwhMD09PWUub3B0aW9ucy5kcmFnZ2FibGUmJmUuJGxpc3QuYWRkQ2xhc3MoXCJkcmFnZ2FibGVcIil9LGUucHJvdG90eXBlLmJ1aWxkUm93cz1mdW5jdGlvbigpe3ZhciBpLGUsdCxvLHMsbixyLGw9dGhpcztpZihvPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxuPWwuJHNsaWRlci5jaGlsZHJlbigpLGwub3B0aW9ucy5yb3dzPjEpe2ZvcihyPWwub3B0aW9ucy5zbGlkZXNQZXJSb3cqbC5vcHRpb25zLnJvd3Mscz1NYXRoLmNlaWwobi5sZW5ndGgvciksaT0wO2k8cztpKyspe3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Zm9yKGU9MDtlPGwub3B0aW9ucy5yb3dzO2UrKyl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtmb3IodD0wO3Q8bC5vcHRpb25zLnNsaWRlc1BlclJvdzt0Kyspe3ZhciBjPWkqcisoZSpsLm9wdGlvbnMuc2xpZGVzUGVyUm93K3QpO24uZ2V0KGMpJiZhLmFwcGVuZENoaWxkKG4uZ2V0KGMpKX1kLmFwcGVuZENoaWxkKGEpfW8uYXBwZW5kQ2hpbGQoZCl9bC4kc2xpZGVyLmVtcHR5KCkuYXBwZW5kKG8pLGwuJHNsaWRlci5jaGlsZHJlbigpLmNoaWxkcmVuKCkuY2hpbGRyZW4oKS5jc3Moe3dpZHRoOjEwMC9sLm9wdGlvbnMuc2xpZGVzUGVyUm93K1wiJVwiLGRpc3BsYXk6XCJpbmxpbmUtYmxvY2tcIn0pfX0sZS5wcm90b3R5cGUuY2hlY2tSZXNwb25zaXZlPWZ1bmN0aW9uKGUsdCl7dmFyIG8scyxuLHI9dGhpcyxsPSExLGQ9ci4kc2xpZGVyLndpZHRoKCksYT13aW5kb3cuaW5uZXJXaWR0aHx8aSh3aW5kb3cpLndpZHRoKCk7aWYoXCJ3aW5kb3dcIj09PXIucmVzcG9uZFRvP249YTpcInNsaWRlclwiPT09ci5yZXNwb25kVG8/bj1kOlwibWluXCI9PT1yLnJlc3BvbmRUbyYmKG49TWF0aC5taW4oYSxkKSksci5vcHRpb25zLnJlc3BvbnNpdmUmJnIub3B0aW9ucy5yZXNwb25zaXZlLmxlbmd0aCYmbnVsbCE9PXIub3B0aW9ucy5yZXNwb25zaXZlKXtzPW51bGw7Zm9yKG8gaW4gci5icmVha3BvaW50cylyLmJyZWFrcG9pbnRzLmhhc093blByb3BlcnR5KG8pJiYoITE9PT1yLm9yaWdpbmFsU2V0dGluZ3MubW9iaWxlRmlyc3Q/bjxyLmJyZWFrcG9pbnRzW29dJiYocz1yLmJyZWFrcG9pbnRzW29dKTpuPnIuYnJlYWtwb2ludHNbb10mJihzPXIuYnJlYWtwb2ludHNbb10pKTtudWxsIT09cz9udWxsIT09ci5hY3RpdmVCcmVha3BvaW50PyhzIT09ci5hY3RpdmVCcmVha3BvaW50fHx0KSYmKHIuYWN0aXZlQnJlYWtwb2ludD1zLFwidW5zbGlja1wiPT09ci5icmVha3BvaW50U2V0dGluZ3Nbc10/ci51bnNsaWNrKHMpOihyLm9wdGlvbnM9aS5leHRlbmQoe30sci5vcmlnaW5hbFNldHRpbmdzLHIuYnJlYWtwb2ludFNldHRpbmdzW3NdKSwhMD09PWUmJihyLmN1cnJlbnRTbGlkZT1yLm9wdGlvbnMuaW5pdGlhbFNsaWRlKSxyLnJlZnJlc2goZSkpLGw9cyk6KHIuYWN0aXZlQnJlYWtwb2ludD1zLFwidW5zbGlja1wiPT09ci5icmVha3BvaW50U2V0dGluZ3Nbc10/ci51bnNsaWNrKHMpOihyLm9wdGlvbnM9aS5leHRlbmQoe30sci5vcmlnaW5hbFNldHRpbmdzLHIuYnJlYWtwb2ludFNldHRpbmdzW3NdKSwhMD09PWUmJihyLmN1cnJlbnRTbGlkZT1yLm9wdGlvbnMuaW5pdGlhbFNsaWRlKSxyLnJlZnJlc2goZSkpLGw9cyk6bnVsbCE9PXIuYWN0aXZlQnJlYWtwb2ludCYmKHIuYWN0aXZlQnJlYWtwb2ludD1udWxsLHIub3B0aW9ucz1yLm9yaWdpbmFsU2V0dGluZ3MsITA9PT1lJiYoci5jdXJyZW50U2xpZGU9ci5vcHRpb25zLmluaXRpYWxTbGlkZSksci5yZWZyZXNoKGUpLGw9cyksZXx8ITE9PT1sfHxyLiRzbGlkZXIudHJpZ2dlcihcImJyZWFrcG9pbnRcIixbcixsXSl9fSxlLnByb3RvdHlwZS5jaGFuZ2VTbGlkZT1mdW5jdGlvbihlLHQpe3ZhciBvLHMsbixyPXRoaXMsbD1pKGUuY3VycmVudFRhcmdldCk7c3dpdGNoKGwuaXMoXCJhXCIpJiZlLnByZXZlbnREZWZhdWx0KCksbC5pcyhcImxpXCIpfHwobD1sLmNsb3Nlc3QoXCJsaVwiKSksbj1yLnNsaWRlQ291bnQlci5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsIT0wLG89bj8wOihyLnNsaWRlQ291bnQtci5jdXJyZW50U2xpZGUpJXIub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCxlLmRhdGEubWVzc2FnZSl7Y2FzZVwicHJldmlvdXNcIjpzPTA9PT1vP3Iub3B0aW9ucy5zbGlkZXNUb1Njcm9sbDpyLm9wdGlvbnMuc2xpZGVzVG9TaG93LW8sci5zbGlkZUNvdW50PnIub3B0aW9ucy5zbGlkZXNUb1Nob3cmJnIuc2xpZGVIYW5kbGVyKHIuY3VycmVudFNsaWRlLXMsITEsdCk7YnJlYWs7Y2FzZVwibmV4dFwiOnM9MD09PW8/ci5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsOm8sci5zbGlkZUNvdW50PnIub3B0aW9ucy5zbGlkZXNUb1Nob3cmJnIuc2xpZGVIYW5kbGVyKHIuY3VycmVudFNsaWRlK3MsITEsdCk7YnJlYWs7Y2FzZVwiaW5kZXhcIjp2YXIgZD0wPT09ZS5kYXRhLmluZGV4PzA6ZS5kYXRhLmluZGV4fHxsLmluZGV4KCkqci5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsO3Iuc2xpZGVIYW5kbGVyKHIuY2hlY2tOYXZpZ2FibGUoZCksITEsdCksbC5jaGlsZHJlbigpLnRyaWdnZXIoXCJmb2N1c1wiKTticmVhaztkZWZhdWx0OnJldHVybn19LGUucHJvdG90eXBlLmNoZWNrTmF2aWdhYmxlPWZ1bmN0aW9uKGkpe3ZhciBlLHQ7aWYoZT10aGlzLmdldE5hdmlnYWJsZUluZGV4ZXMoKSx0PTAsaT5lW2UubGVuZ3RoLTFdKWk9ZVtlLmxlbmd0aC0xXTtlbHNlIGZvcih2YXIgbyBpbiBlKXtpZihpPGVbb10pe2k9dDticmVha310PWVbb119cmV0dXJuIGl9LGUucHJvdG90eXBlLmNsZWFuVXBFdmVudHM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2Uub3B0aW9ucy5kb3RzJiZudWxsIT09ZS4kZG90cyYmKGkoXCJsaVwiLGUuJGRvdHMpLm9mZihcImNsaWNrLnNsaWNrXCIsZS5jaGFuZ2VTbGlkZSkub2ZmKFwibW91c2VlbnRlci5zbGlja1wiLGkucHJveHkoZS5pbnRlcnJ1cHQsZSwhMCkpLm9mZihcIm1vdXNlbGVhdmUuc2xpY2tcIixpLnByb3h5KGUuaW50ZXJydXB0LGUsITEpKSwhMD09PWUub3B0aW9ucy5hY2Nlc3NpYmlsaXR5JiZlLiRkb3RzLm9mZihcImtleWRvd24uc2xpY2tcIixlLmtleUhhbmRsZXIpKSxlLiRzbGlkZXIub2ZmKFwiZm9jdXMuc2xpY2sgYmx1ci5zbGlja1wiKSwhMD09PWUub3B0aW9ucy5hcnJvd3MmJmUuc2xpZGVDb3VudD5lLm9wdGlvbnMuc2xpZGVzVG9TaG93JiYoZS4kcHJldkFycm93JiZlLiRwcmV2QXJyb3cub2ZmKFwiY2xpY2suc2xpY2tcIixlLmNoYW5nZVNsaWRlKSxlLiRuZXh0QXJyb3cmJmUuJG5leHRBcnJvdy5vZmYoXCJjbGljay5zbGlja1wiLGUuY2hhbmdlU2xpZGUpLCEwPT09ZS5vcHRpb25zLmFjY2Vzc2liaWxpdHkmJihlLiRwcmV2QXJyb3cmJmUuJHByZXZBcnJvdy5vZmYoXCJrZXlkb3duLnNsaWNrXCIsZS5rZXlIYW5kbGVyKSxlLiRuZXh0QXJyb3cmJmUuJG5leHRBcnJvdy5vZmYoXCJrZXlkb3duLnNsaWNrXCIsZS5rZXlIYW5kbGVyKSkpLGUuJGxpc3Qub2ZmKFwidG91Y2hzdGFydC5zbGljayBtb3VzZWRvd24uc2xpY2tcIixlLnN3aXBlSGFuZGxlciksZS4kbGlzdC5vZmYoXCJ0b3VjaG1vdmUuc2xpY2sgbW91c2Vtb3ZlLnNsaWNrXCIsZS5zd2lwZUhhbmRsZXIpLGUuJGxpc3Qub2ZmKFwidG91Y2hlbmQuc2xpY2sgbW91c2V1cC5zbGlja1wiLGUuc3dpcGVIYW5kbGVyKSxlLiRsaXN0Lm9mZihcInRvdWNoY2FuY2VsLnNsaWNrIG1vdXNlbGVhdmUuc2xpY2tcIixlLnN3aXBlSGFuZGxlciksZS4kbGlzdC5vZmYoXCJjbGljay5zbGlja1wiLGUuY2xpY2tIYW5kbGVyKSxpKGRvY3VtZW50KS5vZmYoZS52aXNpYmlsaXR5Q2hhbmdlLGUudmlzaWJpbGl0eSksZS5jbGVhblVwU2xpZGVFdmVudHMoKSwhMD09PWUub3B0aW9ucy5hY2Nlc3NpYmlsaXR5JiZlLiRsaXN0Lm9mZihcImtleWRvd24uc2xpY2tcIixlLmtleUhhbmRsZXIpLCEwPT09ZS5vcHRpb25zLmZvY3VzT25TZWxlY3QmJmkoZS4kc2xpZGVUcmFjaykuY2hpbGRyZW4oKS5vZmYoXCJjbGljay5zbGlja1wiLGUuc2VsZWN0SGFuZGxlciksaSh3aW5kb3cpLm9mZihcIm9yaWVudGF0aW9uY2hhbmdlLnNsaWNrLnNsaWNrLVwiK2UuaW5zdGFuY2VVaWQsZS5vcmllbnRhdGlvbkNoYW5nZSksaSh3aW5kb3cpLm9mZihcInJlc2l6ZS5zbGljay5zbGljay1cIitlLmluc3RhbmNlVWlkLGUucmVzaXplKSxpKFwiW2RyYWdnYWJsZSE9dHJ1ZV1cIixlLiRzbGlkZVRyYWNrKS5vZmYoXCJkcmFnc3RhcnRcIixlLnByZXZlbnREZWZhdWx0KSxpKHdpbmRvdykub2ZmKFwibG9hZC5zbGljay5zbGljay1cIitlLmluc3RhbmNlVWlkLGUuc2V0UG9zaXRpb24pfSxlLnByb3RvdHlwZS5jbGVhblVwU2xpZGVFdmVudHM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuJGxpc3Qub2ZmKFwibW91c2VlbnRlci5zbGlja1wiLGkucHJveHkoZS5pbnRlcnJ1cHQsZSwhMCkpLGUuJGxpc3Qub2ZmKFwibW91c2VsZWF2ZS5zbGlja1wiLGkucHJveHkoZS5pbnRlcnJ1cHQsZSwhMSkpfSxlLnByb3RvdHlwZS5jbGVhblVwUm93cz1mdW5jdGlvbigpe3ZhciBpLGU9dGhpcztlLm9wdGlvbnMucm93cz4xJiYoKGk9ZS4kc2xpZGVzLmNoaWxkcmVuKCkuY2hpbGRyZW4oKSkucmVtb3ZlQXR0cihcInN0eWxlXCIpLGUuJHNsaWRlci5lbXB0eSgpLmFwcGVuZChpKSl9LGUucHJvdG90eXBlLmNsaWNrSGFuZGxlcj1mdW5jdGlvbihpKXshMT09PXRoaXMuc2hvdWxkQ2xpY2smJihpLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLGkuc3RvcFByb3BhZ2F0aW9uKCksaS5wcmV2ZW50RGVmYXVsdCgpKX0sZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuYXV0b1BsYXlDbGVhcigpLHQudG91Y2hPYmplY3Q9e30sdC5jbGVhblVwRXZlbnRzKCksaShcIi5zbGljay1jbG9uZWRcIix0LiRzbGlkZXIpLmRldGFjaCgpLHQuJGRvdHMmJnQuJGRvdHMucmVtb3ZlKCksdC4kcHJldkFycm93JiZ0LiRwcmV2QXJyb3cubGVuZ3RoJiYodC4kcHJldkFycm93LnJlbW92ZUNsYXNzKFwic2xpY2stZGlzYWJsZWQgc2xpY2stYXJyb3cgc2xpY2staGlkZGVuXCIpLnJlbW92ZUF0dHIoXCJhcmlhLWhpZGRlbiBhcmlhLWRpc2FibGVkIHRhYmluZGV4XCIpLmNzcyhcImRpc3BsYXlcIixcIlwiKSx0Lmh0bWxFeHByLnRlc3QodC5vcHRpb25zLnByZXZBcnJvdykmJnQuJHByZXZBcnJvdy5yZW1vdmUoKSksdC4kbmV4dEFycm93JiZ0LiRuZXh0QXJyb3cubGVuZ3RoJiYodC4kbmV4dEFycm93LnJlbW92ZUNsYXNzKFwic2xpY2stZGlzYWJsZWQgc2xpY2stYXJyb3cgc2xpY2staGlkZGVuXCIpLnJlbW92ZUF0dHIoXCJhcmlhLWhpZGRlbiBhcmlhLWRpc2FibGVkIHRhYmluZGV4XCIpLmNzcyhcImRpc3BsYXlcIixcIlwiKSx0Lmh0bWxFeHByLnRlc3QodC5vcHRpb25zLm5leHRBcnJvdykmJnQuJG5leHRBcnJvdy5yZW1vdmUoKSksdC4kc2xpZGVzJiYodC4kc2xpZGVzLnJlbW92ZUNsYXNzKFwic2xpY2stc2xpZGUgc2xpY2stYWN0aXZlIHNsaWNrLWNlbnRlciBzbGljay12aXNpYmxlIHNsaWNrLWN1cnJlbnRcIikucmVtb3ZlQXR0cihcImFyaWEtaGlkZGVuXCIpLnJlbW92ZUF0dHIoXCJkYXRhLXNsaWNrLWluZGV4XCIpLmVhY2goZnVuY3Rpb24oKXtpKHRoaXMpLmF0dHIoXCJzdHlsZVwiLGkodGhpcykuZGF0YShcIm9yaWdpbmFsU3R5bGluZ1wiKSl9KSx0LiRzbGlkZVRyYWNrLmNoaWxkcmVuKHRoaXMub3B0aW9ucy5zbGlkZSkuZGV0YWNoKCksdC4kc2xpZGVUcmFjay5kZXRhY2goKSx0LiRsaXN0LmRldGFjaCgpLHQuJHNsaWRlci5hcHBlbmQodC4kc2xpZGVzKSksdC5jbGVhblVwUm93cygpLHQuJHNsaWRlci5yZW1vdmVDbGFzcyhcInNsaWNrLXNsaWRlclwiKSx0LiRzbGlkZXIucmVtb3ZlQ2xhc3MoXCJzbGljay1pbml0aWFsaXplZFwiKSx0LiRzbGlkZXIucmVtb3ZlQ2xhc3MoXCJzbGljay1kb3R0ZWRcIiksdC51bnNsaWNrZWQ9ITAsZXx8dC4kc2xpZGVyLnRyaWdnZXIoXCJkZXN0cm95XCIsW3RdKX0sZS5wcm90b3R5cGUuZGlzYWJsZVRyYW5zaXRpb249ZnVuY3Rpb24oaSl7dmFyIGU9dGhpcyx0PXt9O3RbZS50cmFuc2l0aW9uVHlwZV09XCJcIiwhMT09PWUub3B0aW9ucy5mYWRlP2UuJHNsaWRlVHJhY2suY3NzKHQpOmUuJHNsaWRlcy5lcShpKS5jc3ModCl9LGUucHJvdG90eXBlLmZhZGVTbGlkZT1mdW5jdGlvbihpLGUpe3ZhciB0PXRoaXM7ITE9PT10LmNzc1RyYW5zaXRpb25zPyh0LiRzbGlkZXMuZXEoaSkuY3NzKHt6SW5kZXg6dC5vcHRpb25zLnpJbmRleH0pLHQuJHNsaWRlcy5lcShpKS5hbmltYXRlKHtvcGFjaXR5OjF9LHQub3B0aW9ucy5zcGVlZCx0Lm9wdGlvbnMuZWFzaW5nLGUpKToodC5hcHBseVRyYW5zaXRpb24oaSksdC4kc2xpZGVzLmVxKGkpLmNzcyh7b3BhY2l0eToxLHpJbmRleDp0Lm9wdGlvbnMuekluZGV4fSksZSYmc2V0VGltZW91dChmdW5jdGlvbigpe3QuZGlzYWJsZVRyYW5zaXRpb24oaSksZS5jYWxsKCl9LHQub3B0aW9ucy5zcGVlZCkpfSxlLnByb3RvdHlwZS5mYWRlU2xpZGVPdXQ9ZnVuY3Rpb24oaSl7dmFyIGU9dGhpczshMT09PWUuY3NzVHJhbnNpdGlvbnM/ZS4kc2xpZGVzLmVxKGkpLmFuaW1hdGUoe29wYWNpdHk6MCx6SW5kZXg6ZS5vcHRpb25zLnpJbmRleC0yfSxlLm9wdGlvbnMuc3BlZWQsZS5vcHRpb25zLmVhc2luZyk6KGUuYXBwbHlUcmFuc2l0aW9uKGkpLGUuJHNsaWRlcy5lcShpKS5jc3Moe29wYWNpdHk6MCx6SW5kZXg6ZS5vcHRpb25zLnpJbmRleC0yfSkpfSxlLnByb3RvdHlwZS5maWx0ZXJTbGlkZXM9ZS5wcm90b3R5cGUuc2xpY2tGaWx0ZXI9ZnVuY3Rpb24oaSl7dmFyIGU9dGhpcztudWxsIT09aSYmKGUuJHNsaWRlc0NhY2hlPWUuJHNsaWRlcyxlLnVubG9hZCgpLGUuJHNsaWRlVHJhY2suY2hpbGRyZW4odGhpcy5vcHRpb25zLnNsaWRlKS5kZXRhY2goKSxlLiRzbGlkZXNDYWNoZS5maWx0ZXIoaSkuYXBwZW5kVG8oZS4kc2xpZGVUcmFjayksZS5yZWluaXQoKSl9LGUucHJvdG90eXBlLmZvY3VzSGFuZGxlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS4kc2xpZGVyLm9mZihcImZvY3VzLnNsaWNrIGJsdXIuc2xpY2tcIikub24oXCJmb2N1cy5zbGljayBibHVyLnNsaWNrXCIsXCIqXCIsZnVuY3Rpb24odCl7dC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTt2YXIgbz1pKHRoaXMpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtlLm9wdGlvbnMucGF1c2VPbkZvY3VzJiYoZS5mb2N1c3NlZD1vLmlzKFwiOmZvY3VzXCIpLGUuYXV0b1BsYXkoKSl9LDApfSl9LGUucHJvdG90eXBlLmdldEN1cnJlbnQ9ZS5wcm90b3R5cGUuc2xpY2tDdXJyZW50U2xpZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jdXJyZW50U2xpZGV9LGUucHJvdG90eXBlLmdldERvdENvdW50PWZ1bmN0aW9uKCl7dmFyIGk9dGhpcyxlPTAsdD0wLG89MDtpZighMD09PWkub3B0aW9ucy5pbmZpbml0ZSlpZihpLnNsaWRlQ291bnQ8PWkub3B0aW9ucy5zbGlkZXNUb1Nob3cpKytvO2Vsc2UgZm9yKDtlPGkuc2xpZGVDb3VudDspKytvLGU9dCtpLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwsdCs9aS5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsPD1pLm9wdGlvbnMuc2xpZGVzVG9TaG93P2kub3B0aW9ucy5zbGlkZXNUb1Njcm9sbDppLm9wdGlvbnMuc2xpZGVzVG9TaG93O2Vsc2UgaWYoITA9PT1pLm9wdGlvbnMuY2VudGVyTW9kZSlvPWkuc2xpZGVDb3VudDtlbHNlIGlmKGkub3B0aW9ucy5hc05hdkZvcilmb3IoO2U8aS5zbGlkZUNvdW50OykrK28sZT10K2kub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCx0Kz1pLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGw8PWkub3B0aW9ucy5zbGlkZXNUb1Nob3c/aS5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsOmkub3B0aW9ucy5zbGlkZXNUb1Nob3c7ZWxzZSBvPTErTWF0aC5jZWlsKChpLnNsaWRlQ291bnQtaS5vcHRpb25zLnNsaWRlc1RvU2hvdykvaS5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsKTtyZXR1cm4gby0xfSxlLnByb3RvdHlwZS5nZXRMZWZ0PWZ1bmN0aW9uKGkpe3ZhciBlLHQsbyxzLG49dGhpcyxyPTA7cmV0dXJuIG4uc2xpZGVPZmZzZXQ9MCx0PW4uJHNsaWRlcy5maXJzdCgpLm91dGVySGVpZ2h0KCEwKSwhMD09PW4ub3B0aW9ucy5pbmZpbml0ZT8obi5zbGlkZUNvdW50Pm4ub3B0aW9ucy5zbGlkZXNUb1Nob3cmJihuLnNsaWRlT2Zmc2V0PW4uc2xpZGVXaWR0aCpuLm9wdGlvbnMuc2xpZGVzVG9TaG93Ki0xLHM9LTEsITA9PT1uLm9wdGlvbnMudmVydGljYWwmJiEwPT09bi5vcHRpb25zLmNlbnRlck1vZGUmJigyPT09bi5vcHRpb25zLnNsaWRlc1RvU2hvdz9zPS0xLjU6MT09PW4ub3B0aW9ucy5zbGlkZXNUb1Nob3cmJihzPS0yKSkscj10Km4ub3B0aW9ucy5zbGlkZXNUb1Nob3cqcyksbi5zbGlkZUNvdW50JW4ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCE9MCYmaStuLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGw+bi5zbGlkZUNvdW50JiZuLnNsaWRlQ291bnQ+bi5vcHRpb25zLnNsaWRlc1RvU2hvdyYmKGk+bi5zbGlkZUNvdW50PyhuLnNsaWRlT2Zmc2V0PShuLm9wdGlvbnMuc2xpZGVzVG9TaG93LShpLW4uc2xpZGVDb3VudCkpKm4uc2xpZGVXaWR0aCotMSxyPShuLm9wdGlvbnMuc2xpZGVzVG9TaG93LShpLW4uc2xpZGVDb3VudCkpKnQqLTEpOihuLnNsaWRlT2Zmc2V0PW4uc2xpZGVDb3VudCVuLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwqbi5zbGlkZVdpZHRoKi0xLHI9bi5zbGlkZUNvdW50JW4ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCp0Ki0xKSkpOmkrbi5vcHRpb25zLnNsaWRlc1RvU2hvdz5uLnNsaWRlQ291bnQmJihuLnNsaWRlT2Zmc2V0PShpK24ub3B0aW9ucy5zbGlkZXNUb1Nob3ctbi5zbGlkZUNvdW50KSpuLnNsaWRlV2lkdGgscj0oaStuLm9wdGlvbnMuc2xpZGVzVG9TaG93LW4uc2xpZGVDb3VudCkqdCksbi5zbGlkZUNvdW50PD1uLm9wdGlvbnMuc2xpZGVzVG9TaG93JiYobi5zbGlkZU9mZnNldD0wLHI9MCksITA9PT1uLm9wdGlvbnMuY2VudGVyTW9kZSYmbi5zbGlkZUNvdW50PD1uLm9wdGlvbnMuc2xpZGVzVG9TaG93P24uc2xpZGVPZmZzZXQ9bi5zbGlkZVdpZHRoKk1hdGguZmxvb3Iobi5vcHRpb25zLnNsaWRlc1RvU2hvdykvMi1uLnNsaWRlV2lkdGgqbi5zbGlkZUNvdW50LzI6ITA9PT1uLm9wdGlvbnMuY2VudGVyTW9kZSYmITA9PT1uLm9wdGlvbnMuaW5maW5pdGU/bi5zbGlkZU9mZnNldCs9bi5zbGlkZVdpZHRoKk1hdGguZmxvb3Iobi5vcHRpb25zLnNsaWRlc1RvU2hvdy8yKS1uLnNsaWRlV2lkdGg6ITA9PT1uLm9wdGlvbnMuY2VudGVyTW9kZSYmKG4uc2xpZGVPZmZzZXQ9MCxuLnNsaWRlT2Zmc2V0Kz1uLnNsaWRlV2lkdGgqTWF0aC5mbG9vcihuLm9wdGlvbnMuc2xpZGVzVG9TaG93LzIpKSxlPSExPT09bi5vcHRpb25zLnZlcnRpY2FsP2kqbi5zbGlkZVdpZHRoKi0xK24uc2xpZGVPZmZzZXQ6aSp0Ki0xK3IsITA9PT1uLm9wdGlvbnMudmFyaWFibGVXaWR0aCYmKG89bi5zbGlkZUNvdW50PD1uLm9wdGlvbnMuc2xpZGVzVG9TaG93fHwhMT09PW4ub3B0aW9ucy5pbmZpbml0ZT9uLiRzbGlkZVRyYWNrLmNoaWxkcmVuKFwiLnNsaWNrLXNsaWRlXCIpLmVxKGkpOm4uJHNsaWRlVHJhY2suY2hpbGRyZW4oXCIuc2xpY2stc2xpZGVcIikuZXEoaStuLm9wdGlvbnMuc2xpZGVzVG9TaG93KSxlPSEwPT09bi5vcHRpb25zLnJ0bD9vWzBdPy0xKihuLiRzbGlkZVRyYWNrLndpZHRoKCktb1swXS5vZmZzZXRMZWZ0LW8ud2lkdGgoKSk6MDpvWzBdPy0xKm9bMF0ub2Zmc2V0TGVmdDowLCEwPT09bi5vcHRpb25zLmNlbnRlck1vZGUmJihvPW4uc2xpZGVDb3VudDw9bi5vcHRpb25zLnNsaWRlc1RvU2hvd3x8ITE9PT1uLm9wdGlvbnMuaW5maW5pdGU/bi4kc2xpZGVUcmFjay5jaGlsZHJlbihcIi5zbGljay1zbGlkZVwiKS5lcShpKTpuLiRzbGlkZVRyYWNrLmNoaWxkcmVuKFwiLnNsaWNrLXNsaWRlXCIpLmVxKGkrbi5vcHRpb25zLnNsaWRlc1RvU2hvdysxKSxlPSEwPT09bi5vcHRpb25zLnJ0bD9vWzBdPy0xKihuLiRzbGlkZVRyYWNrLndpZHRoKCktb1swXS5vZmZzZXRMZWZ0LW8ud2lkdGgoKSk6MDpvWzBdPy0xKm9bMF0ub2Zmc2V0TGVmdDowLGUrPShuLiRsaXN0LndpZHRoKCktby5vdXRlcldpZHRoKCkpLzIpKSxlfSxlLnByb3RvdHlwZS5nZXRPcHRpb249ZS5wcm90b3R5cGUuc2xpY2tHZXRPcHRpb249ZnVuY3Rpb24oaSl7cmV0dXJuIHRoaXMub3B0aW9uc1tpXX0sZS5wcm90b3R5cGUuZ2V0TmF2aWdhYmxlSW5kZXhlcz1mdW5jdGlvbigpe3ZhciBpLGU9dGhpcyx0PTAsbz0wLHM9W107Zm9yKCExPT09ZS5vcHRpb25zLmluZmluaXRlP2k9ZS5zbGlkZUNvdW50Oih0PS0xKmUub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCxvPS0xKmUub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCxpPTIqZS5zbGlkZUNvdW50KTt0PGk7KXMucHVzaCh0KSx0PW8rZS5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsLG8rPWUub3B0aW9ucy5zbGlkZXNUb1Njcm9sbDw9ZS5vcHRpb25zLnNsaWRlc1RvU2hvdz9lLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGw6ZS5vcHRpb25zLnNsaWRlc1RvU2hvdztyZXR1cm4gc30sZS5wcm90b3R5cGUuZ2V0U2xpY2s9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sZS5wcm90b3R5cGUuZ2V0U2xpZGVDb3VudD1mdW5jdGlvbigpe3ZhciBlLHQsbz10aGlzO3JldHVybiB0PSEwPT09by5vcHRpb25zLmNlbnRlck1vZGU/by5zbGlkZVdpZHRoKk1hdGguZmxvb3Ioby5vcHRpb25zLnNsaWRlc1RvU2hvdy8yKTowLCEwPT09by5vcHRpb25zLnN3aXBlVG9TbGlkZT8oby4kc2xpZGVUcmFjay5maW5kKFwiLnNsaWNrLXNsaWRlXCIpLmVhY2goZnVuY3Rpb24ocyxuKXtpZihuLm9mZnNldExlZnQtdCtpKG4pLm91dGVyV2lkdGgoKS8yPi0xKm8uc3dpcGVMZWZ0KXJldHVybiBlPW4sITF9KSxNYXRoLmFicyhpKGUpLmF0dHIoXCJkYXRhLXNsaWNrLWluZGV4XCIpLW8uY3VycmVudFNsaWRlKXx8MSk6by5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsfSxlLnByb3RvdHlwZS5nb1RvPWUucHJvdG90eXBlLnNsaWNrR29Ubz1mdW5jdGlvbihpLGUpe3RoaXMuY2hhbmdlU2xpZGUoe2RhdGE6e21lc3NhZ2U6XCJpbmRleFwiLGluZGV4OnBhcnNlSW50KGkpfX0sZSl9LGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpKHQuJHNsaWRlcikuaGFzQ2xhc3MoXCJzbGljay1pbml0aWFsaXplZFwiKXx8KGkodC4kc2xpZGVyKS5hZGRDbGFzcyhcInNsaWNrLWluaXRpYWxpemVkXCIpLHQuYnVpbGRSb3dzKCksdC5idWlsZE91dCgpLHQuc2V0UHJvcHMoKSx0LnN0YXJ0TG9hZCgpLHQubG9hZFNsaWRlcigpLHQuaW5pdGlhbGl6ZUV2ZW50cygpLHQudXBkYXRlQXJyb3dzKCksdC51cGRhdGVEb3RzKCksdC5jaGVja1Jlc3BvbnNpdmUoITApLHQuZm9jdXNIYW5kbGVyKCkpLGUmJnQuJHNsaWRlci50cmlnZ2VyKFwiaW5pdFwiLFt0XSksITA9PT10Lm9wdGlvbnMuYWNjZXNzaWJpbGl0eSYmdC5pbml0QURBKCksdC5vcHRpb25zLmF1dG9wbGF5JiYodC5wYXVzZWQ9ITEsdC5hdXRvUGxheSgpKX0sZS5wcm90b3R5cGUuaW5pdEFEQT1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1NYXRoLmNlaWwoZS5zbGlkZUNvdW50L2Uub3B0aW9ucy5zbGlkZXNUb1Nob3cpLG89ZS5nZXROYXZpZ2FibGVJbmRleGVzKCkuZmlsdGVyKGZ1bmN0aW9uKGkpe3JldHVybiBpPj0wJiZpPGUuc2xpZGVDb3VudH0pO2UuJHNsaWRlcy5hZGQoZS4kc2xpZGVUcmFjay5maW5kKFwiLnNsaWNrLWNsb25lZFwiKSkuYXR0cih7XCJhcmlhLWhpZGRlblwiOlwidHJ1ZVwiLHRhYmluZGV4OlwiLTFcIn0pLmZpbmQoXCJhLCBpbnB1dCwgYnV0dG9uLCBzZWxlY3RcIikuYXR0cih7dGFiaW5kZXg6XCItMVwifSksbnVsbCE9PWUuJGRvdHMmJihlLiRzbGlkZXMubm90KGUuJHNsaWRlVHJhY2suZmluZChcIi5zbGljay1jbG9uZWRcIikpLmVhY2goZnVuY3Rpb24odCl7dmFyIHM9by5pbmRleE9mKHQpO2kodGhpcykuYXR0cih7cm9sZTpcInRhYnBhbmVsXCIsaWQ6XCJzbGljay1zbGlkZVwiK2UuaW5zdGFuY2VVaWQrdCx0YWJpbmRleDotMX0pLC0xIT09cyYmaSh0aGlzKS5hdHRyKHtcImFyaWEtZGVzY3JpYmVkYnlcIjpcInNsaWNrLXNsaWRlLWNvbnRyb2xcIitlLmluc3RhbmNlVWlkK3N9KX0pLGUuJGRvdHMuYXR0cihcInJvbGVcIixcInRhYmxpc3RcIikuZmluZChcImxpXCIpLmVhY2goZnVuY3Rpb24ocyl7dmFyIG49b1tzXTtpKHRoaXMpLmF0dHIoe3JvbGU6XCJwcmVzZW50YXRpb25cIn0pLGkodGhpcykuZmluZChcImJ1dHRvblwiKS5maXJzdCgpLmF0dHIoe3JvbGU6XCJ0YWJcIixpZDpcInNsaWNrLXNsaWRlLWNvbnRyb2xcIitlLmluc3RhbmNlVWlkK3MsXCJhcmlhLWNvbnRyb2xzXCI6XCJzbGljay1zbGlkZVwiK2UuaW5zdGFuY2VVaWQrbixcImFyaWEtbGFiZWxcIjpzKzErXCIgb2YgXCIrdCxcImFyaWEtc2VsZWN0ZWRcIjpudWxsLHRhYmluZGV4OlwiLTFcIn0pfSkuZXEoZS5jdXJyZW50U2xpZGUpLmZpbmQoXCJidXR0b25cIikuYXR0cih7XCJhcmlhLXNlbGVjdGVkXCI6XCJ0cnVlXCIsdGFiaW5kZXg6XCIwXCJ9KS5lbmQoKSk7Zm9yKHZhciBzPWUuY3VycmVudFNsaWRlLG49cytlLm9wdGlvbnMuc2xpZGVzVG9TaG93O3M8bjtzKyspZS4kc2xpZGVzLmVxKHMpLmF0dHIoXCJ0YWJpbmRleFwiLDApO2UuYWN0aXZhdGVBREEoKX0sZS5wcm90b3R5cGUuaW5pdEFycm93RXZlbnRzPWZ1bmN0aW9uKCl7dmFyIGk9dGhpczshMD09PWkub3B0aW9ucy5hcnJvd3MmJmkuc2xpZGVDb3VudD5pLm9wdGlvbnMuc2xpZGVzVG9TaG93JiYoaS4kcHJldkFycm93Lm9mZihcImNsaWNrLnNsaWNrXCIpLm9uKFwiY2xpY2suc2xpY2tcIix7bWVzc2FnZTpcInByZXZpb3VzXCJ9LGkuY2hhbmdlU2xpZGUpLGkuJG5leHRBcnJvdy5vZmYoXCJjbGljay5zbGlja1wiKS5vbihcImNsaWNrLnNsaWNrXCIse21lc3NhZ2U6XCJuZXh0XCJ9LGkuY2hhbmdlU2xpZGUpLCEwPT09aS5vcHRpb25zLmFjY2Vzc2liaWxpdHkmJihpLiRwcmV2QXJyb3cub24oXCJrZXlkb3duLnNsaWNrXCIsaS5rZXlIYW5kbGVyKSxpLiRuZXh0QXJyb3cub24oXCJrZXlkb3duLnNsaWNrXCIsaS5rZXlIYW5kbGVyKSkpfSxlLnByb3RvdHlwZS5pbml0RG90RXZlbnRzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczshMD09PWUub3B0aW9ucy5kb3RzJiYoaShcImxpXCIsZS4kZG90cykub24oXCJjbGljay5zbGlja1wiLHttZXNzYWdlOlwiaW5kZXhcIn0sZS5jaGFuZ2VTbGlkZSksITA9PT1lLm9wdGlvbnMuYWNjZXNzaWJpbGl0eSYmZS4kZG90cy5vbihcImtleWRvd24uc2xpY2tcIixlLmtleUhhbmRsZXIpKSwhMD09PWUub3B0aW9ucy5kb3RzJiYhMD09PWUub3B0aW9ucy5wYXVzZU9uRG90c0hvdmVyJiZpKFwibGlcIixlLiRkb3RzKS5vbihcIm1vdXNlZW50ZXIuc2xpY2tcIixpLnByb3h5KGUuaW50ZXJydXB0LGUsITApKS5vbihcIm1vdXNlbGVhdmUuc2xpY2tcIixpLnByb3h5KGUuaW50ZXJydXB0LGUsITEpKX0sZS5wcm90b3R5cGUuaW5pdFNsaWRlRXZlbnRzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLm9wdGlvbnMucGF1c2VPbkhvdmVyJiYoZS4kbGlzdC5vbihcIm1vdXNlZW50ZXIuc2xpY2tcIixpLnByb3h5KGUuaW50ZXJydXB0LGUsITApKSxlLiRsaXN0Lm9uKFwibW91c2VsZWF2ZS5zbGlja1wiLGkucHJveHkoZS5pbnRlcnJ1cHQsZSwhMSkpKX0sZS5wcm90b3R5cGUuaW5pdGlhbGl6ZUV2ZW50cz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5pbml0QXJyb3dFdmVudHMoKSxlLmluaXREb3RFdmVudHMoKSxlLmluaXRTbGlkZUV2ZW50cygpLGUuJGxpc3Qub24oXCJ0b3VjaHN0YXJ0LnNsaWNrIG1vdXNlZG93bi5zbGlja1wiLHthY3Rpb246XCJzdGFydFwifSxlLnN3aXBlSGFuZGxlciksZS4kbGlzdC5vbihcInRvdWNobW92ZS5zbGljayBtb3VzZW1vdmUuc2xpY2tcIix7YWN0aW9uOlwibW92ZVwifSxlLnN3aXBlSGFuZGxlciksZS4kbGlzdC5vbihcInRvdWNoZW5kLnNsaWNrIG1vdXNldXAuc2xpY2tcIix7YWN0aW9uOlwiZW5kXCJ9LGUuc3dpcGVIYW5kbGVyKSxlLiRsaXN0Lm9uKFwidG91Y2hjYW5jZWwuc2xpY2sgbW91c2VsZWF2ZS5zbGlja1wiLHthY3Rpb246XCJlbmRcIn0sZS5zd2lwZUhhbmRsZXIpLGUuJGxpc3Qub24oXCJjbGljay5zbGlja1wiLGUuY2xpY2tIYW5kbGVyKSxpKGRvY3VtZW50KS5vbihlLnZpc2liaWxpdHlDaGFuZ2UsaS5wcm94eShlLnZpc2liaWxpdHksZSkpLCEwPT09ZS5vcHRpb25zLmFjY2Vzc2liaWxpdHkmJmUuJGxpc3Qub24oXCJrZXlkb3duLnNsaWNrXCIsZS5rZXlIYW5kbGVyKSwhMD09PWUub3B0aW9ucy5mb2N1c09uU2VsZWN0JiZpKGUuJHNsaWRlVHJhY2spLmNoaWxkcmVuKCkub24oXCJjbGljay5zbGlja1wiLGUuc2VsZWN0SGFuZGxlciksaSh3aW5kb3cpLm9uKFwib3JpZW50YXRpb25jaGFuZ2Uuc2xpY2suc2xpY2stXCIrZS5pbnN0YW5jZVVpZCxpLnByb3h5KGUub3JpZW50YXRpb25DaGFuZ2UsZSkpLGkod2luZG93KS5vbihcInJlc2l6ZS5zbGljay5zbGljay1cIitlLmluc3RhbmNlVWlkLGkucHJveHkoZS5yZXNpemUsZSkpLGkoXCJbZHJhZ2dhYmxlIT10cnVlXVwiLGUuJHNsaWRlVHJhY2spLm9uKFwiZHJhZ3N0YXJ0XCIsZS5wcmV2ZW50RGVmYXVsdCksaSh3aW5kb3cpLm9uKFwibG9hZC5zbGljay5zbGljay1cIitlLmluc3RhbmNlVWlkLGUuc2V0UG9zaXRpb24pLGkoZS5zZXRQb3NpdGlvbil9LGUucHJvdG90eXBlLmluaXRVST1mdW5jdGlvbigpe3ZhciBpPXRoaXM7ITA9PT1pLm9wdGlvbnMuYXJyb3dzJiZpLnNsaWRlQ291bnQ+aS5vcHRpb25zLnNsaWRlc1RvU2hvdyYmKGkuJHByZXZBcnJvdy5zaG93KCksaS4kbmV4dEFycm93LnNob3coKSksITA9PT1pLm9wdGlvbnMuZG90cyYmaS5zbGlkZUNvdW50Pmkub3B0aW9ucy5zbGlkZXNUb1Nob3cmJmkuJGRvdHMuc2hvdygpfSxlLnByb3RvdHlwZS5rZXlIYW5kbGVyPWZ1bmN0aW9uKGkpe3ZhciBlPXRoaXM7aS50YXJnZXQudGFnTmFtZS5tYXRjaChcIlRFWFRBUkVBfElOUFVUfFNFTEVDVFwiKXx8KDM3PT09aS5rZXlDb2RlJiYhMD09PWUub3B0aW9ucy5hY2Nlc3NpYmlsaXR5P2UuY2hhbmdlU2xpZGUoe2RhdGE6e21lc3NhZ2U6ITA9PT1lLm9wdGlvbnMucnRsP1wibmV4dFwiOlwicHJldmlvdXNcIn19KTozOT09PWkua2V5Q29kZSYmITA9PT1lLm9wdGlvbnMuYWNjZXNzaWJpbGl0eSYmZS5jaGFuZ2VTbGlkZSh7ZGF0YTp7bWVzc2FnZTohMD09PWUub3B0aW9ucy5ydGw/XCJwcmV2aW91c1wiOlwibmV4dFwifX0pKX0sZS5wcm90b3R5cGUubGF6eUxvYWQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe2koXCJpbWdbZGF0YS1sYXp5XVwiLGUpLmVhY2goZnVuY3Rpb24oKXt2YXIgZT1pKHRoaXMpLHQ9aSh0aGlzKS5hdHRyKFwiZGF0YS1sYXp5XCIpLG89aSh0aGlzKS5hdHRyKFwiZGF0YS1zcmNzZXRcIikscz1pKHRoaXMpLmF0dHIoXCJkYXRhLXNpemVzXCIpfHxuLiRzbGlkZXIuYXR0cihcImRhdGEtc2l6ZXNcIikscj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO3Iub25sb2FkPWZ1bmN0aW9uKCl7ZS5hbmltYXRlKHtvcGFjaXR5OjB9LDEwMCxmdW5jdGlvbigpe28mJihlLmF0dHIoXCJzcmNzZXRcIixvKSxzJiZlLmF0dHIoXCJzaXplc1wiLHMpKSxlLmF0dHIoXCJzcmNcIix0KS5hbmltYXRlKHtvcGFjaXR5OjF9LDIwMCxmdW5jdGlvbigpe2UucmVtb3ZlQXR0cihcImRhdGEtbGF6eSBkYXRhLXNyY3NldCBkYXRhLXNpemVzXCIpLnJlbW92ZUNsYXNzKFwic2xpY2stbG9hZGluZ1wiKX0pLG4uJHNsaWRlci50cmlnZ2VyKFwibGF6eUxvYWRlZFwiLFtuLGUsdF0pfSl9LHIub25lcnJvcj1mdW5jdGlvbigpe2UucmVtb3ZlQXR0cihcImRhdGEtbGF6eVwiKS5yZW1vdmVDbGFzcyhcInNsaWNrLWxvYWRpbmdcIikuYWRkQ2xhc3MoXCJzbGljay1sYXp5bG9hZC1lcnJvclwiKSxuLiRzbGlkZXIudHJpZ2dlcihcImxhenlMb2FkRXJyb3JcIixbbixlLHRdKX0sci5zcmM9dH0pfXZhciB0LG8scyxuPXRoaXM7aWYoITA9PT1uLm9wdGlvbnMuY2VudGVyTW9kZT8hMD09PW4ub3B0aW9ucy5pbmZpbml0ZT9zPShvPW4uY3VycmVudFNsaWRlKyhuLm9wdGlvbnMuc2xpZGVzVG9TaG93LzIrMSkpK24ub3B0aW9ucy5zbGlkZXNUb1Nob3crMjoobz1NYXRoLm1heCgwLG4uY3VycmVudFNsaWRlLShuLm9wdGlvbnMuc2xpZGVzVG9TaG93LzIrMSkpLHM9bi5vcHRpb25zLnNsaWRlc1RvU2hvdy8yKzErMituLmN1cnJlbnRTbGlkZSk6KG89bi5vcHRpb25zLmluZmluaXRlP24ub3B0aW9ucy5zbGlkZXNUb1Nob3crbi5jdXJyZW50U2xpZGU6bi5jdXJyZW50U2xpZGUscz1NYXRoLmNlaWwobytuLm9wdGlvbnMuc2xpZGVzVG9TaG93KSwhMD09PW4ub3B0aW9ucy5mYWRlJiYobz4wJiZvLS0sczw9bi5zbGlkZUNvdW50JiZzKyspKSx0PW4uJHNsaWRlci5maW5kKFwiLnNsaWNrLXNsaWRlXCIpLnNsaWNlKG8scyksXCJhbnRpY2lwYXRlZFwiPT09bi5vcHRpb25zLmxhenlMb2FkKWZvcih2YXIgcj1vLTEsbD1zLGQ9bi4kc2xpZGVyLmZpbmQoXCIuc2xpY2stc2xpZGVcIiksYT0wO2E8bi5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsO2ErKylyPDAmJihyPW4uc2xpZGVDb3VudC0xKSx0PSh0PXQuYWRkKGQuZXEocikpKS5hZGQoZC5lcShsKSksci0tLGwrKztlKHQpLG4uc2xpZGVDb3VudDw9bi5vcHRpb25zLnNsaWRlc1RvU2hvdz9lKG4uJHNsaWRlci5maW5kKFwiLnNsaWNrLXNsaWRlXCIpKTpuLmN1cnJlbnRTbGlkZT49bi5zbGlkZUNvdW50LW4ub3B0aW9ucy5zbGlkZXNUb1Nob3c/ZShuLiRzbGlkZXIuZmluZChcIi5zbGljay1jbG9uZWRcIikuc2xpY2UoMCxuLm9wdGlvbnMuc2xpZGVzVG9TaG93KSk6MD09PW4uY3VycmVudFNsaWRlJiZlKG4uJHNsaWRlci5maW5kKFwiLnNsaWNrLWNsb25lZFwiKS5zbGljZSgtMSpuLm9wdGlvbnMuc2xpZGVzVG9TaG93KSl9LGUucHJvdG90eXBlLmxvYWRTbGlkZXI9ZnVuY3Rpb24oKXt2YXIgaT10aGlzO2kuc2V0UG9zaXRpb24oKSxpLiRzbGlkZVRyYWNrLmNzcyh7b3BhY2l0eToxfSksaS4kc2xpZGVyLnJlbW92ZUNsYXNzKFwic2xpY2stbG9hZGluZ1wiKSxpLmluaXRVSSgpLFwicHJvZ3Jlc3NpdmVcIj09PWkub3B0aW9ucy5sYXp5TG9hZCYmaS5wcm9ncmVzc2l2ZUxhenlMb2FkKCl9LGUucHJvdG90eXBlLm5leHQ9ZS5wcm90b3R5cGUuc2xpY2tOZXh0PWZ1bmN0aW9uKCl7dGhpcy5jaGFuZ2VTbGlkZSh7ZGF0YTp7bWVzc2FnZTpcIm5leHRcIn19KX0sZS5wcm90b3R5cGUub3JpZW50YXRpb25DaGFuZ2U9ZnVuY3Rpb24oKXt2YXIgaT10aGlzO2kuY2hlY2tSZXNwb25zaXZlKCksaS5zZXRQb3NpdGlvbigpfSxlLnByb3RvdHlwZS5wYXVzZT1lLnByb3RvdHlwZS5zbGlja1BhdXNlPWZ1bmN0aW9uKCl7dmFyIGk9dGhpcztpLmF1dG9QbGF5Q2xlYXIoKSxpLnBhdXNlZD0hMH0sZS5wcm90b3R5cGUucGxheT1lLnByb3RvdHlwZS5zbGlja1BsYXk9ZnVuY3Rpb24oKXt2YXIgaT10aGlzO2kuYXV0b1BsYXkoKSxpLm9wdGlvbnMuYXV0b3BsYXk9ITAsaS5wYXVzZWQ9ITEsaS5mb2N1c3NlZD0hMSxpLmludGVycnVwdGVkPSExfSxlLnByb3RvdHlwZS5wb3N0U2xpZGU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0LnVuc2xpY2tlZHx8KHQuJHNsaWRlci50cmlnZ2VyKFwiYWZ0ZXJDaGFuZ2VcIixbdCxlXSksdC5hbmltYXRpbmc9ITEsdC5zbGlkZUNvdW50PnQub3B0aW9ucy5zbGlkZXNUb1Nob3cmJnQuc2V0UG9zaXRpb24oKSx0LnN3aXBlTGVmdD1udWxsLHQub3B0aW9ucy5hdXRvcGxheSYmdC5hdXRvUGxheSgpLCEwPT09dC5vcHRpb25zLmFjY2Vzc2liaWxpdHkmJih0LmluaXRBREEoKSx0Lm9wdGlvbnMuZm9jdXNPbkNoYW5nZSYmaSh0LiRzbGlkZXMuZ2V0KHQuY3VycmVudFNsaWRlKSkuYXR0cihcInRhYmluZGV4XCIsMCkuZm9jdXMoKSkpfSxlLnByb3RvdHlwZS5wcmV2PWUucHJvdG90eXBlLnNsaWNrUHJldj1mdW5jdGlvbigpe3RoaXMuY2hhbmdlU2xpZGUoe2RhdGE6e21lc3NhZ2U6XCJwcmV2aW91c1wifX0pfSxlLnByb3RvdHlwZS5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbihpKXtpLnByZXZlbnREZWZhdWx0KCl9LGUucHJvdG90eXBlLnByb2dyZXNzaXZlTGF6eUxvYWQ9ZnVuY3Rpb24oZSl7ZT1lfHwxO3ZhciB0LG8scyxuLHIsbD10aGlzLGQ9aShcImltZ1tkYXRhLWxhenldXCIsbC4kc2xpZGVyKTtkLmxlbmd0aD8odD1kLmZpcnN0KCksbz10LmF0dHIoXCJkYXRhLWxhenlcIikscz10LmF0dHIoXCJkYXRhLXNyY3NldFwiKSxuPXQuYXR0cihcImRhdGEtc2l6ZXNcIil8fGwuJHNsaWRlci5hdHRyKFwiZGF0YS1zaXplc1wiKSwocj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpKS5vbmxvYWQ9ZnVuY3Rpb24oKXtzJiYodC5hdHRyKFwic3Jjc2V0XCIscyksbiYmdC5hdHRyKFwic2l6ZXNcIixuKSksdC5hdHRyKFwic3JjXCIsbykucmVtb3ZlQXR0cihcImRhdGEtbGF6eSBkYXRhLXNyY3NldCBkYXRhLXNpemVzXCIpLnJlbW92ZUNsYXNzKFwic2xpY2stbG9hZGluZ1wiKSwhMD09PWwub3B0aW9ucy5hZGFwdGl2ZUhlaWdodCYmbC5zZXRQb3NpdGlvbigpLGwuJHNsaWRlci50cmlnZ2VyKFwibGF6eUxvYWRlZFwiLFtsLHQsb10pLGwucHJvZ3Jlc3NpdmVMYXp5TG9hZCgpfSxyLm9uZXJyb3I9ZnVuY3Rpb24oKXtlPDM/c2V0VGltZW91dChmdW5jdGlvbigpe2wucHJvZ3Jlc3NpdmVMYXp5TG9hZChlKzEpfSw1MDApOih0LnJlbW92ZUF0dHIoXCJkYXRhLWxhenlcIikucmVtb3ZlQ2xhc3MoXCJzbGljay1sb2FkaW5nXCIpLmFkZENsYXNzKFwic2xpY2stbGF6eWxvYWQtZXJyb3JcIiksbC4kc2xpZGVyLnRyaWdnZXIoXCJsYXp5TG9hZEVycm9yXCIsW2wsdCxvXSksbC5wcm9ncmVzc2l2ZUxhenlMb2FkKCkpfSxyLnNyYz1vKTpsLiRzbGlkZXIudHJpZ2dlcihcImFsbEltYWdlc0xvYWRlZFwiLFtsXSl9LGUucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24oZSl7dmFyIHQsbyxzPXRoaXM7bz1zLnNsaWRlQ291bnQtcy5vcHRpb25zLnNsaWRlc1RvU2hvdywhcy5vcHRpb25zLmluZmluaXRlJiZzLmN1cnJlbnRTbGlkZT5vJiYocy5jdXJyZW50U2xpZGU9bykscy5zbGlkZUNvdW50PD1zLm9wdGlvbnMuc2xpZGVzVG9TaG93JiYocy5jdXJyZW50U2xpZGU9MCksdD1zLmN1cnJlbnRTbGlkZSxzLmRlc3Ryb3koITApLGkuZXh0ZW5kKHMscy5pbml0aWFscyx7Y3VycmVudFNsaWRlOnR9KSxzLmluaXQoKSxlfHxzLmNoYW5nZVNsaWRlKHtkYXRhOnttZXNzYWdlOlwiaW5kZXhcIixpbmRleDp0fX0sITEpfSxlLnByb3RvdHlwZS5yZWdpc3RlckJyZWFrcG9pbnRzPWZ1bmN0aW9uKCl7dmFyIGUsdCxvLHM9dGhpcyxuPXMub3B0aW9ucy5yZXNwb25zaXZlfHxudWxsO2lmKFwiYXJyYXlcIj09PWkudHlwZShuKSYmbi5sZW5ndGgpe3MucmVzcG9uZFRvPXMub3B0aW9ucy5yZXNwb25kVG98fFwid2luZG93XCI7Zm9yKGUgaW4gbilpZihvPXMuYnJlYWtwb2ludHMubGVuZ3RoLTEsbi5oYXNPd25Qcm9wZXJ0eShlKSl7Zm9yKHQ9bltlXS5icmVha3BvaW50O28+PTA7KXMuYnJlYWtwb2ludHNbb10mJnMuYnJlYWtwb2ludHNbb109PT10JiZzLmJyZWFrcG9pbnRzLnNwbGljZShvLDEpLG8tLTtzLmJyZWFrcG9pbnRzLnB1c2godCkscy5icmVha3BvaW50U2V0dGluZ3NbdF09bltlXS5zZXR0aW5nc31zLmJyZWFrcG9pbnRzLnNvcnQoZnVuY3Rpb24oaSxlKXtyZXR1cm4gcy5vcHRpb25zLm1vYmlsZUZpcnN0P2ktZTplLWl9KX19LGUucHJvdG90eXBlLnJlaW5pdD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS4kc2xpZGVzPWUuJHNsaWRlVHJhY2suY2hpbGRyZW4oZS5vcHRpb25zLnNsaWRlKS5hZGRDbGFzcyhcInNsaWNrLXNsaWRlXCIpLGUuc2xpZGVDb3VudD1lLiRzbGlkZXMubGVuZ3RoLGUuY3VycmVudFNsaWRlPj1lLnNsaWRlQ291bnQmJjAhPT1lLmN1cnJlbnRTbGlkZSYmKGUuY3VycmVudFNsaWRlPWUuY3VycmVudFNsaWRlLWUub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCksZS5zbGlkZUNvdW50PD1lLm9wdGlvbnMuc2xpZGVzVG9TaG93JiYoZS5jdXJyZW50U2xpZGU9MCksZS5yZWdpc3RlckJyZWFrcG9pbnRzKCksZS5zZXRQcm9wcygpLGUuc2V0dXBJbmZpbml0ZSgpLGUuYnVpbGRBcnJvd3MoKSxlLnVwZGF0ZUFycm93cygpLGUuaW5pdEFycm93RXZlbnRzKCksZS5idWlsZERvdHMoKSxlLnVwZGF0ZURvdHMoKSxlLmluaXREb3RFdmVudHMoKSxlLmNsZWFuVXBTbGlkZUV2ZW50cygpLGUuaW5pdFNsaWRlRXZlbnRzKCksZS5jaGVja1Jlc3BvbnNpdmUoITEsITApLCEwPT09ZS5vcHRpb25zLmZvY3VzT25TZWxlY3QmJmkoZS4kc2xpZGVUcmFjaykuY2hpbGRyZW4oKS5vbihcImNsaWNrLnNsaWNrXCIsZS5zZWxlY3RIYW5kbGVyKSxlLnNldFNsaWRlQ2xhc3NlcyhcIm51bWJlclwiPT10eXBlb2YgZS5jdXJyZW50U2xpZGU/ZS5jdXJyZW50U2xpZGU6MCksZS5zZXRQb3NpdGlvbigpLGUuZm9jdXNIYW5kbGVyKCksZS5wYXVzZWQ9IWUub3B0aW9ucy5hdXRvcGxheSxlLmF1dG9QbGF5KCksZS4kc2xpZGVyLnRyaWdnZXIoXCJyZUluaXRcIixbZV0pfSxlLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2kod2luZG93KS53aWR0aCgpIT09ZS53aW5kb3dXaWR0aCYmKGNsZWFyVGltZW91dChlLndpbmRvd0RlbGF5KSxlLndpbmRvd0RlbGF5PXdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS53aW5kb3dXaWR0aD1pKHdpbmRvdykud2lkdGgoKSxlLmNoZWNrUmVzcG9uc2l2ZSgpLGUudW5zbGlja2VkfHxlLnNldFBvc2l0aW9uKCl9LDUwKSl9LGUucHJvdG90eXBlLnJlbW92ZVNsaWRlPWUucHJvdG90eXBlLnNsaWNrUmVtb3ZlPWZ1bmN0aW9uKGksZSx0KXt2YXIgbz10aGlzO2lmKGk9XCJib29sZWFuXCI9PXR5cGVvZiBpPyEwPT09KGU9aSk/MDpvLnNsaWRlQ291bnQtMTohMD09PWU/LS1pOmksby5zbGlkZUNvdW50PDF8fGk8MHx8aT5vLnNsaWRlQ291bnQtMSlyZXR1cm4hMTtvLnVubG9hZCgpLCEwPT09dD9vLiRzbGlkZVRyYWNrLmNoaWxkcmVuKCkucmVtb3ZlKCk6by4kc2xpZGVUcmFjay5jaGlsZHJlbih0aGlzLm9wdGlvbnMuc2xpZGUpLmVxKGkpLnJlbW92ZSgpLG8uJHNsaWRlcz1vLiRzbGlkZVRyYWNrLmNoaWxkcmVuKHRoaXMub3B0aW9ucy5zbGlkZSksby4kc2xpZGVUcmFjay5jaGlsZHJlbih0aGlzLm9wdGlvbnMuc2xpZGUpLmRldGFjaCgpLG8uJHNsaWRlVHJhY2suYXBwZW5kKG8uJHNsaWRlcyksby4kc2xpZGVzQ2FjaGU9by4kc2xpZGVzLG8ucmVpbml0KCl9LGUucHJvdG90eXBlLnNldENTUz1mdW5jdGlvbihpKXt2YXIgZSx0LG89dGhpcyxzPXt9OyEwPT09by5vcHRpb25zLnJ0bCYmKGk9LWkpLGU9XCJsZWZ0XCI9PW8ucG9zaXRpb25Qcm9wP01hdGguY2VpbChpKStcInB4XCI6XCIwcHhcIix0PVwidG9wXCI9PW8ucG9zaXRpb25Qcm9wP01hdGguY2VpbChpKStcInB4XCI6XCIwcHhcIixzW28ucG9zaXRpb25Qcm9wXT1pLCExPT09by50cmFuc2Zvcm1zRW5hYmxlZD9vLiRzbGlkZVRyYWNrLmNzcyhzKToocz17fSwhMT09PW8uY3NzVHJhbnNpdGlvbnM/KHNbby5hbmltVHlwZV09XCJ0cmFuc2xhdGUoXCIrZStcIiwgXCIrdCtcIilcIixvLiRzbGlkZVRyYWNrLmNzcyhzKSk6KHNbby5hbmltVHlwZV09XCJ0cmFuc2xhdGUzZChcIitlK1wiLCBcIit0K1wiLCAwcHgpXCIsby4kc2xpZGVUcmFjay5jc3MocykpKX0sZS5wcm90b3R5cGUuc2V0RGltZW5zaW9ucz1mdW5jdGlvbigpe3ZhciBpPXRoaXM7ITE9PT1pLm9wdGlvbnMudmVydGljYWw/ITA9PT1pLm9wdGlvbnMuY2VudGVyTW9kZSYmaS4kbGlzdC5jc3Moe3BhZGRpbmc6XCIwcHggXCIraS5vcHRpb25zLmNlbnRlclBhZGRpbmd9KTooaS4kbGlzdC5oZWlnaHQoaS4kc2xpZGVzLmZpcnN0KCkub3V0ZXJIZWlnaHQoITApKmkub3B0aW9ucy5zbGlkZXNUb1Nob3cpLCEwPT09aS5vcHRpb25zLmNlbnRlck1vZGUmJmkuJGxpc3QuY3NzKHtwYWRkaW5nOmkub3B0aW9ucy5jZW50ZXJQYWRkaW5nK1wiIDBweFwifSkpLGkubGlzdFdpZHRoPWkuJGxpc3Qud2lkdGgoKSxpLmxpc3RIZWlnaHQ9aS4kbGlzdC5oZWlnaHQoKSwhMT09PWkub3B0aW9ucy52ZXJ0aWNhbCYmITE9PT1pLm9wdGlvbnMudmFyaWFibGVXaWR0aD8oaS5zbGlkZVdpZHRoPU1hdGguY2VpbChpLmxpc3RXaWR0aC9pLm9wdGlvbnMuc2xpZGVzVG9TaG93KSxpLiRzbGlkZVRyYWNrLndpZHRoKE1hdGguY2VpbChpLnNsaWRlV2lkdGgqaS4kc2xpZGVUcmFjay5jaGlsZHJlbihcIi5zbGljay1zbGlkZVwiKS5sZW5ndGgpKSk6ITA9PT1pLm9wdGlvbnMudmFyaWFibGVXaWR0aD9pLiRzbGlkZVRyYWNrLndpZHRoKDVlMyppLnNsaWRlQ291bnQpOihpLnNsaWRlV2lkdGg9TWF0aC5jZWlsKGkubGlzdFdpZHRoKSxpLiRzbGlkZVRyYWNrLmhlaWdodChNYXRoLmNlaWwoaS4kc2xpZGVzLmZpcnN0KCkub3V0ZXJIZWlnaHQoITApKmkuJHNsaWRlVHJhY2suY2hpbGRyZW4oXCIuc2xpY2stc2xpZGVcIikubGVuZ3RoKSkpO3ZhciBlPWkuJHNsaWRlcy5maXJzdCgpLm91dGVyV2lkdGgoITApLWkuJHNsaWRlcy5maXJzdCgpLndpZHRoKCk7ITE9PT1pLm9wdGlvbnMudmFyaWFibGVXaWR0aCYmaS4kc2xpZGVUcmFjay5jaGlsZHJlbihcIi5zbGljay1zbGlkZVwiKS53aWR0aChpLnNsaWRlV2lkdGgtZSl9LGUucHJvdG90eXBlLnNldEZhZGU9ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXM7dC4kc2xpZGVzLmVhY2goZnVuY3Rpb24obyxzKXtlPXQuc2xpZGVXaWR0aCpvKi0xLCEwPT09dC5vcHRpb25zLnJ0bD9pKHMpLmNzcyh7cG9zaXRpb246XCJyZWxhdGl2ZVwiLHJpZ2h0OmUsdG9wOjAsekluZGV4OnQub3B0aW9ucy56SW5kZXgtMixvcGFjaXR5OjB9KTppKHMpLmNzcyh7cG9zaXRpb246XCJyZWxhdGl2ZVwiLGxlZnQ6ZSx0b3A6MCx6SW5kZXg6dC5vcHRpb25zLnpJbmRleC0yLG9wYWNpdHk6MH0pfSksdC4kc2xpZGVzLmVxKHQuY3VycmVudFNsaWRlKS5jc3Moe3pJbmRleDp0Lm9wdGlvbnMuekluZGV4LTEsb3BhY2l0eToxfSl9LGUucHJvdG90eXBlLnNldEhlaWdodD1mdW5jdGlvbigpe3ZhciBpPXRoaXM7aWYoMT09PWkub3B0aW9ucy5zbGlkZXNUb1Nob3cmJiEwPT09aS5vcHRpb25zLmFkYXB0aXZlSGVpZ2h0JiYhMT09PWkub3B0aW9ucy52ZXJ0aWNhbCl7dmFyIGU9aS4kc2xpZGVzLmVxKGkuY3VycmVudFNsaWRlKS5vdXRlckhlaWdodCghMCk7aS4kbGlzdC5jc3MoXCJoZWlnaHRcIixlKX19LGUucHJvdG90eXBlLnNldE9wdGlvbj1lLnByb3RvdHlwZS5zbGlja1NldE9wdGlvbj1mdW5jdGlvbigpe3ZhciBlLHQsbyxzLG4scj10aGlzLGw9ITE7aWYoXCJvYmplY3RcIj09PWkudHlwZShhcmd1bWVudHNbMF0pPyhvPWFyZ3VtZW50c1swXSxsPWFyZ3VtZW50c1sxXSxuPVwibXVsdGlwbGVcIik6XCJzdHJpbmdcIj09PWkudHlwZShhcmd1bWVudHNbMF0pJiYobz1hcmd1bWVudHNbMF0scz1hcmd1bWVudHNbMV0sbD1hcmd1bWVudHNbMl0sXCJyZXNwb25zaXZlXCI9PT1hcmd1bWVudHNbMF0mJlwiYXJyYXlcIj09PWkudHlwZShhcmd1bWVudHNbMV0pP249XCJyZXNwb25zaXZlXCI6dm9pZCAwIT09YXJndW1lbnRzWzFdJiYobj1cInNpbmdsZVwiKSksXCJzaW5nbGVcIj09PW4pci5vcHRpb25zW29dPXM7ZWxzZSBpZihcIm11bHRpcGxlXCI9PT1uKWkuZWFjaChvLGZ1bmN0aW9uKGksZSl7ci5vcHRpb25zW2ldPWV9KTtlbHNlIGlmKFwicmVzcG9uc2l2ZVwiPT09bilmb3IodCBpbiBzKWlmKFwiYXJyYXlcIiE9PWkudHlwZShyLm9wdGlvbnMucmVzcG9uc2l2ZSkpci5vcHRpb25zLnJlc3BvbnNpdmU9W3NbdF1dO2Vsc2V7Zm9yKGU9ci5vcHRpb25zLnJlc3BvbnNpdmUubGVuZ3RoLTE7ZT49MDspci5vcHRpb25zLnJlc3BvbnNpdmVbZV0uYnJlYWtwb2ludD09PXNbdF0uYnJlYWtwb2ludCYmci5vcHRpb25zLnJlc3BvbnNpdmUuc3BsaWNlKGUsMSksZS0tO3Iub3B0aW9ucy5yZXNwb25zaXZlLnB1c2goc1t0XSl9bCYmKHIudW5sb2FkKCksci5yZWluaXQoKSl9LGUucHJvdG90eXBlLnNldFBvc2l0aW9uPWZ1bmN0aW9uKCl7dmFyIGk9dGhpcztpLnNldERpbWVuc2lvbnMoKSxpLnNldEhlaWdodCgpLCExPT09aS5vcHRpb25zLmZhZGU/aS5zZXRDU1MoaS5nZXRMZWZ0KGkuY3VycmVudFNsaWRlKSk6aS5zZXRGYWRlKCksaS4kc2xpZGVyLnRyaWdnZXIoXCJzZXRQb3NpdGlvblwiLFtpXSl9LGUucHJvdG90eXBlLnNldFByb3BzPWZ1bmN0aW9uKCl7dmFyIGk9dGhpcyxlPWRvY3VtZW50LmJvZHkuc3R5bGU7aS5wb3NpdGlvblByb3A9ITA9PT1pLm9wdGlvbnMudmVydGljYWw/XCJ0b3BcIjpcImxlZnRcIixcInRvcFwiPT09aS5wb3NpdGlvblByb3A/aS4kc2xpZGVyLmFkZENsYXNzKFwic2xpY2stdmVydGljYWxcIik6aS4kc2xpZGVyLnJlbW92ZUNsYXNzKFwic2xpY2stdmVydGljYWxcIiksdm9pZCAwPT09ZS5XZWJraXRUcmFuc2l0aW9uJiZ2b2lkIDA9PT1lLk1velRyYW5zaXRpb24mJnZvaWQgMD09PWUubXNUcmFuc2l0aW9ufHwhMD09PWkub3B0aW9ucy51c2VDU1MmJihpLmNzc1RyYW5zaXRpb25zPSEwKSxpLm9wdGlvbnMuZmFkZSYmKFwibnVtYmVyXCI9PXR5cGVvZiBpLm9wdGlvbnMuekluZGV4P2kub3B0aW9ucy56SW5kZXg8MyYmKGkub3B0aW9ucy56SW5kZXg9Myk6aS5vcHRpb25zLnpJbmRleD1pLmRlZmF1bHRzLnpJbmRleCksdm9pZCAwIT09ZS5PVHJhbnNmb3JtJiYoaS5hbmltVHlwZT1cIk9UcmFuc2Zvcm1cIixpLnRyYW5zZm9ybVR5cGU9XCItby10cmFuc2Zvcm1cIixpLnRyYW5zaXRpb25UeXBlPVwiT1RyYW5zaXRpb25cIix2b2lkIDA9PT1lLnBlcnNwZWN0aXZlUHJvcGVydHkmJnZvaWQgMD09PWUud2Via2l0UGVyc3BlY3RpdmUmJihpLmFuaW1UeXBlPSExKSksdm9pZCAwIT09ZS5Nb3pUcmFuc2Zvcm0mJihpLmFuaW1UeXBlPVwiTW96VHJhbnNmb3JtXCIsaS50cmFuc2Zvcm1UeXBlPVwiLW1vei10cmFuc2Zvcm1cIixpLnRyYW5zaXRpb25UeXBlPVwiTW96VHJhbnNpdGlvblwiLHZvaWQgMD09PWUucGVyc3BlY3RpdmVQcm9wZXJ0eSYmdm9pZCAwPT09ZS5Nb3pQZXJzcGVjdGl2ZSYmKGkuYW5pbVR5cGU9ITEpKSx2b2lkIDAhPT1lLndlYmtpdFRyYW5zZm9ybSYmKGkuYW5pbVR5cGU9XCJ3ZWJraXRUcmFuc2Zvcm1cIixpLnRyYW5zZm9ybVR5cGU9XCItd2Via2l0LXRyYW5zZm9ybVwiLGkudHJhbnNpdGlvblR5cGU9XCJ3ZWJraXRUcmFuc2l0aW9uXCIsdm9pZCAwPT09ZS5wZXJzcGVjdGl2ZVByb3BlcnR5JiZ2b2lkIDA9PT1lLndlYmtpdFBlcnNwZWN0aXZlJiYoaS5hbmltVHlwZT0hMSkpLHZvaWQgMCE9PWUubXNUcmFuc2Zvcm0mJihpLmFuaW1UeXBlPVwibXNUcmFuc2Zvcm1cIixpLnRyYW5zZm9ybVR5cGU9XCItbXMtdHJhbnNmb3JtXCIsaS50cmFuc2l0aW9uVHlwZT1cIm1zVHJhbnNpdGlvblwiLHZvaWQgMD09PWUubXNUcmFuc2Zvcm0mJihpLmFuaW1UeXBlPSExKSksdm9pZCAwIT09ZS50cmFuc2Zvcm0mJiExIT09aS5hbmltVHlwZSYmKGkuYW5pbVR5cGU9XCJ0cmFuc2Zvcm1cIixpLnRyYW5zZm9ybVR5cGU9XCJ0cmFuc2Zvcm1cIixpLnRyYW5zaXRpb25UeXBlPVwidHJhbnNpdGlvblwiKSxpLnRyYW5zZm9ybXNFbmFibGVkPWkub3B0aW9ucy51c2VUcmFuc2Zvcm0mJm51bGwhPT1pLmFuaW1UeXBlJiYhMSE9PWkuYW5pbVR5cGV9LGUucHJvdG90eXBlLnNldFNsaWRlQ2xhc3Nlcz1mdW5jdGlvbihpKXt2YXIgZSx0LG8scyxuPXRoaXM7aWYodD1uLiRzbGlkZXIuZmluZChcIi5zbGljay1zbGlkZVwiKS5yZW1vdmVDbGFzcyhcInNsaWNrLWFjdGl2ZSBzbGljay1jZW50ZXIgc2xpY2stY3VycmVudFwiKS5hdHRyKFwiYXJpYS1oaWRkZW5cIixcInRydWVcIiksbi4kc2xpZGVzLmVxKGkpLmFkZENsYXNzKFwic2xpY2stY3VycmVudFwiKSwhMD09PW4ub3B0aW9ucy5jZW50ZXJNb2RlKXt2YXIgcj1uLm9wdGlvbnMuc2xpZGVzVG9TaG93JTI9PTA/MTowO2U9TWF0aC5mbG9vcihuLm9wdGlvbnMuc2xpZGVzVG9TaG93LzIpLCEwPT09bi5vcHRpb25zLmluZmluaXRlJiYoaT49ZSYmaTw9bi5zbGlkZUNvdW50LTEtZT9uLiRzbGlkZXMuc2xpY2UoaS1lK3IsaStlKzEpLmFkZENsYXNzKFwic2xpY2stYWN0aXZlXCIpLmF0dHIoXCJhcmlhLWhpZGRlblwiLFwiZmFsc2VcIik6KG89bi5vcHRpb25zLnNsaWRlc1RvU2hvdytpLHQuc2xpY2Uoby1lKzErcixvK2UrMikuYWRkQ2xhc3MoXCJzbGljay1hY3RpdmVcIikuYXR0cihcImFyaWEtaGlkZGVuXCIsXCJmYWxzZVwiKSksMD09PWk/dC5lcSh0Lmxlbmd0aC0xLW4ub3B0aW9ucy5zbGlkZXNUb1Nob3cpLmFkZENsYXNzKFwic2xpY2stY2VudGVyXCIpOmk9PT1uLnNsaWRlQ291bnQtMSYmdC5lcShuLm9wdGlvbnMuc2xpZGVzVG9TaG93KS5hZGRDbGFzcyhcInNsaWNrLWNlbnRlclwiKSksbi4kc2xpZGVzLmVxKGkpLmFkZENsYXNzKFwic2xpY2stY2VudGVyXCIpfWVsc2UgaT49MCYmaTw9bi5zbGlkZUNvdW50LW4ub3B0aW9ucy5zbGlkZXNUb1Nob3c/bi4kc2xpZGVzLnNsaWNlKGksaStuLm9wdGlvbnMuc2xpZGVzVG9TaG93KS5hZGRDbGFzcyhcInNsaWNrLWFjdGl2ZVwiKS5hdHRyKFwiYXJpYS1oaWRkZW5cIixcImZhbHNlXCIpOnQubGVuZ3RoPD1uLm9wdGlvbnMuc2xpZGVzVG9TaG93P3QuYWRkQ2xhc3MoXCJzbGljay1hY3RpdmVcIikuYXR0cihcImFyaWEtaGlkZGVuXCIsXCJmYWxzZVwiKToocz1uLnNsaWRlQ291bnQlbi5vcHRpb25zLnNsaWRlc1RvU2hvdyxvPSEwPT09bi5vcHRpb25zLmluZmluaXRlP24ub3B0aW9ucy5zbGlkZXNUb1Nob3craTppLG4ub3B0aW9ucy5zbGlkZXNUb1Nob3c9PW4ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCYmbi5zbGlkZUNvdW50LWk8bi5vcHRpb25zLnNsaWRlc1RvU2hvdz90LnNsaWNlKG8tKG4ub3B0aW9ucy5zbGlkZXNUb1Nob3ctcyksbytzKS5hZGRDbGFzcyhcInNsaWNrLWFjdGl2ZVwiKS5hdHRyKFwiYXJpYS1oaWRkZW5cIixcImZhbHNlXCIpOnQuc2xpY2UobyxvK24ub3B0aW9ucy5zbGlkZXNUb1Nob3cpLmFkZENsYXNzKFwic2xpY2stYWN0aXZlXCIpLmF0dHIoXCJhcmlhLWhpZGRlblwiLFwiZmFsc2VcIikpO1wib25kZW1hbmRcIiE9PW4ub3B0aW9ucy5sYXp5TG9hZCYmXCJhbnRpY2lwYXRlZFwiIT09bi5vcHRpb25zLmxhenlMb2FkfHxuLmxhenlMb2FkKCl9LGUucHJvdG90eXBlLnNldHVwSW5maW5pdGU9ZnVuY3Rpb24oKXt2YXIgZSx0LG8scz10aGlzO2lmKCEwPT09cy5vcHRpb25zLmZhZGUmJihzLm9wdGlvbnMuY2VudGVyTW9kZT0hMSksITA9PT1zLm9wdGlvbnMuaW5maW5pdGUmJiExPT09cy5vcHRpb25zLmZhZGUmJih0PW51bGwscy5zbGlkZUNvdW50PnMub3B0aW9ucy5zbGlkZXNUb1Nob3cpKXtmb3Iobz0hMD09PXMub3B0aW9ucy5jZW50ZXJNb2RlP3Mub3B0aW9ucy5zbGlkZXNUb1Nob3crMTpzLm9wdGlvbnMuc2xpZGVzVG9TaG93LGU9cy5zbGlkZUNvdW50O2U+cy5zbGlkZUNvdW50LW87ZS09MSl0PWUtMSxpKHMuJHNsaWRlc1t0XSkuY2xvbmUoITApLmF0dHIoXCJpZFwiLFwiXCIpLmF0dHIoXCJkYXRhLXNsaWNrLWluZGV4XCIsdC1zLnNsaWRlQ291bnQpLnByZXBlbmRUbyhzLiRzbGlkZVRyYWNrKS5hZGRDbGFzcyhcInNsaWNrLWNsb25lZFwiKTtmb3IoZT0wO2U8bytzLnNsaWRlQ291bnQ7ZSs9MSl0PWUsaShzLiRzbGlkZXNbdF0pLmNsb25lKCEwKS5hdHRyKFwiaWRcIixcIlwiKS5hdHRyKFwiZGF0YS1zbGljay1pbmRleFwiLHQrcy5zbGlkZUNvdW50KS5hcHBlbmRUbyhzLiRzbGlkZVRyYWNrKS5hZGRDbGFzcyhcInNsaWNrLWNsb25lZFwiKTtzLiRzbGlkZVRyYWNrLmZpbmQoXCIuc2xpY2stY2xvbmVkXCIpLmZpbmQoXCJbaWRdXCIpLmVhY2goZnVuY3Rpb24oKXtpKHRoaXMpLmF0dHIoXCJpZFwiLFwiXCIpfSl9fSxlLnByb3RvdHlwZS5pbnRlcnJ1cHQ9ZnVuY3Rpb24oaSl7dmFyIGU9dGhpcztpfHxlLmF1dG9QbGF5KCksZS5pbnRlcnJ1cHRlZD1pfSxlLnByb3RvdHlwZS5zZWxlY3RIYW5kbGVyPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbz1pKGUudGFyZ2V0KS5pcyhcIi5zbGljay1zbGlkZVwiKT9pKGUudGFyZ2V0KTppKGUudGFyZ2V0KS5wYXJlbnRzKFwiLnNsaWNrLXNsaWRlXCIpLHM9cGFyc2VJbnQoby5hdHRyKFwiZGF0YS1zbGljay1pbmRleFwiKSk7c3x8KHM9MCksdC5zbGlkZUNvdW50PD10Lm9wdGlvbnMuc2xpZGVzVG9TaG93P3Quc2xpZGVIYW5kbGVyKHMsITEsITApOnQuc2xpZGVIYW5kbGVyKHMpfSxlLnByb3RvdHlwZS5zbGlkZUhhbmRsZXI9ZnVuY3Rpb24oaSxlLHQpe3ZhciBvLHMsbixyLGwsZD1udWxsLGE9dGhpcztpZihlPWV8fCExLCEoITA9PT1hLmFuaW1hdGluZyYmITA9PT1hLm9wdGlvbnMud2FpdEZvckFuaW1hdGV8fCEwPT09YS5vcHRpb25zLmZhZGUmJmEuY3VycmVudFNsaWRlPT09aSkpaWYoITE9PT1lJiZhLmFzTmF2Rm9yKGkpLG89aSxkPWEuZ2V0TGVmdChvKSxyPWEuZ2V0TGVmdChhLmN1cnJlbnRTbGlkZSksYS5jdXJyZW50TGVmdD1udWxsPT09YS5zd2lwZUxlZnQ/cjphLnN3aXBlTGVmdCwhMT09PWEub3B0aW9ucy5pbmZpbml0ZSYmITE9PT1hLm9wdGlvbnMuY2VudGVyTW9kZSYmKGk8MHx8aT5hLmdldERvdENvdW50KCkqYS5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsKSkhMT09PWEub3B0aW9ucy5mYWRlJiYobz1hLmN1cnJlbnRTbGlkZSwhMCE9PXQ/YS5hbmltYXRlU2xpZGUocixmdW5jdGlvbigpe2EucG9zdFNsaWRlKG8pfSk6YS5wb3N0U2xpZGUobykpO2Vsc2UgaWYoITE9PT1hLm9wdGlvbnMuaW5maW5pdGUmJiEwPT09YS5vcHRpb25zLmNlbnRlck1vZGUmJihpPDB8fGk+YS5zbGlkZUNvdW50LWEub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCkpITE9PT1hLm9wdGlvbnMuZmFkZSYmKG89YS5jdXJyZW50U2xpZGUsITAhPT10P2EuYW5pbWF0ZVNsaWRlKHIsZnVuY3Rpb24oKXthLnBvc3RTbGlkZShvKX0pOmEucG9zdFNsaWRlKG8pKTtlbHNle2lmKGEub3B0aW9ucy5hdXRvcGxheSYmY2xlYXJJbnRlcnZhbChhLmF1dG9QbGF5VGltZXIpLHM9bzwwP2Euc2xpZGVDb3VudCVhLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwhPTA/YS5zbGlkZUNvdW50LWEuc2xpZGVDb3VudCVhLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGw6YS5zbGlkZUNvdW50K286bz49YS5zbGlkZUNvdW50P2Euc2xpZGVDb3VudCVhLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwhPTA/MDpvLWEuc2xpZGVDb3VudDpvLGEuYW5pbWF0aW5nPSEwLGEuJHNsaWRlci50cmlnZ2VyKFwiYmVmb3JlQ2hhbmdlXCIsW2EsYS5jdXJyZW50U2xpZGUsc10pLG49YS5jdXJyZW50U2xpZGUsYS5jdXJyZW50U2xpZGU9cyxhLnNldFNsaWRlQ2xhc3NlcyhhLmN1cnJlbnRTbGlkZSksYS5vcHRpb25zLmFzTmF2Rm9yJiYobD0obD1hLmdldE5hdlRhcmdldCgpKS5zbGljayhcImdldFNsaWNrXCIpKS5zbGlkZUNvdW50PD1sLm9wdGlvbnMuc2xpZGVzVG9TaG93JiZsLnNldFNsaWRlQ2xhc3NlcyhhLmN1cnJlbnRTbGlkZSksYS51cGRhdGVEb3RzKCksYS51cGRhdGVBcnJvd3MoKSwhMD09PWEub3B0aW9ucy5mYWRlKXJldHVybiEwIT09dD8oYS5mYWRlU2xpZGVPdXQobiksYS5mYWRlU2xpZGUocyxmdW5jdGlvbigpe2EucG9zdFNsaWRlKHMpfSkpOmEucG9zdFNsaWRlKHMpLHZvaWQgYS5hbmltYXRlSGVpZ2h0KCk7ITAhPT10P2EuYW5pbWF0ZVNsaWRlKGQsZnVuY3Rpb24oKXthLnBvc3RTbGlkZShzKX0pOmEucG9zdFNsaWRlKHMpfX0sZS5wcm90b3R5cGUuc3RhcnRMb2FkPWZ1bmN0aW9uKCl7dmFyIGk9dGhpczshMD09PWkub3B0aW9ucy5hcnJvd3MmJmkuc2xpZGVDb3VudD5pLm9wdGlvbnMuc2xpZGVzVG9TaG93JiYoaS4kcHJldkFycm93LmhpZGUoKSxpLiRuZXh0QXJyb3cuaGlkZSgpKSwhMD09PWkub3B0aW9ucy5kb3RzJiZpLnNsaWRlQ291bnQ+aS5vcHRpb25zLnNsaWRlc1RvU2hvdyYmaS4kZG90cy5oaWRlKCksaS4kc2xpZGVyLmFkZENsYXNzKFwic2xpY2stbG9hZGluZ1wiKX0sZS5wcm90b3R5cGUuc3dpcGVEaXJlY3Rpb249ZnVuY3Rpb24oKXt2YXIgaSxlLHQsbyxzPXRoaXM7cmV0dXJuIGk9cy50b3VjaE9iamVjdC5zdGFydFgtcy50b3VjaE9iamVjdC5jdXJYLGU9cy50b3VjaE9iamVjdC5zdGFydFktcy50b3VjaE9iamVjdC5jdXJZLHQ9TWF0aC5hdGFuMihlLGkpLChvPU1hdGgucm91bmQoMTgwKnQvTWF0aC5QSSkpPDAmJihvPTM2MC1NYXRoLmFicyhvKSksbzw9NDUmJm8+PTA/ITE9PT1zLm9wdGlvbnMucnRsP1wibGVmdFwiOlwicmlnaHRcIjpvPD0zNjAmJm8+PTMxNT8hMT09PXMub3B0aW9ucy5ydGw/XCJsZWZ0XCI6XCJyaWdodFwiOm8+PTEzNSYmbzw9MjI1PyExPT09cy5vcHRpb25zLnJ0bD9cInJpZ2h0XCI6XCJsZWZ0XCI6ITA9PT1zLm9wdGlvbnMudmVydGljYWxTd2lwaW5nP28+PTM1JiZvPD0xMzU/XCJkb3duXCI6XCJ1cFwiOlwidmVydGljYWxcIn0sZS5wcm90b3R5cGUuc3dpcGVFbmQ9ZnVuY3Rpb24oaSl7dmFyIGUsdCxvPXRoaXM7aWYoby5kcmFnZ2luZz0hMSxvLnN3aXBpbmc9ITEsby5zY3JvbGxpbmcpcmV0dXJuIG8uc2Nyb2xsaW5nPSExLCExO2lmKG8uaW50ZXJydXB0ZWQ9ITEsby5zaG91bGRDbGljaz0hKG8udG91Y2hPYmplY3Quc3dpcGVMZW5ndGg+MTApLHZvaWQgMD09PW8udG91Y2hPYmplY3QuY3VyWClyZXR1cm4hMTtpZighMD09PW8udG91Y2hPYmplY3QuZWRnZUhpdCYmby4kc2xpZGVyLnRyaWdnZXIoXCJlZGdlXCIsW28sby5zd2lwZURpcmVjdGlvbigpXSksby50b3VjaE9iamVjdC5zd2lwZUxlbmd0aD49by50b3VjaE9iamVjdC5taW5Td2lwZSl7c3dpdGNoKHQ9by5zd2lwZURpcmVjdGlvbigpKXtjYXNlXCJsZWZ0XCI6Y2FzZVwiZG93blwiOmU9by5vcHRpb25zLnN3aXBlVG9TbGlkZT9vLmNoZWNrTmF2aWdhYmxlKG8uY3VycmVudFNsaWRlK28uZ2V0U2xpZGVDb3VudCgpKTpvLmN1cnJlbnRTbGlkZStvLmdldFNsaWRlQ291bnQoKSxvLmN1cnJlbnREaXJlY3Rpb249MDticmVhaztjYXNlXCJyaWdodFwiOmNhc2VcInVwXCI6ZT1vLm9wdGlvbnMuc3dpcGVUb1NsaWRlP28uY2hlY2tOYXZpZ2FibGUoby5jdXJyZW50U2xpZGUtby5nZXRTbGlkZUNvdW50KCkpOm8uY3VycmVudFNsaWRlLW8uZ2V0U2xpZGVDb3VudCgpLG8uY3VycmVudERpcmVjdGlvbj0xfVwidmVydGljYWxcIiE9dCYmKG8uc2xpZGVIYW5kbGVyKGUpLG8udG91Y2hPYmplY3Q9e30sby4kc2xpZGVyLnRyaWdnZXIoXCJzd2lwZVwiLFtvLHRdKSl9ZWxzZSBvLnRvdWNoT2JqZWN0LnN0YXJ0WCE9PW8udG91Y2hPYmplY3QuY3VyWCYmKG8uc2xpZGVIYW5kbGVyKG8uY3VycmVudFNsaWRlKSxvLnRvdWNoT2JqZWN0PXt9KX0sZS5wcm90b3R5cGUuc3dpcGVIYW5kbGVyPWZ1bmN0aW9uKGkpe3ZhciBlPXRoaXM7aWYoISghMT09PWUub3B0aW9ucy5zd2lwZXx8XCJvbnRvdWNoZW5kXCJpbiBkb2N1bWVudCYmITE9PT1lLm9wdGlvbnMuc3dpcGV8fCExPT09ZS5vcHRpb25zLmRyYWdnYWJsZSYmLTEhPT1pLnR5cGUuaW5kZXhPZihcIm1vdXNlXCIpKSlzd2l0Y2goZS50b3VjaE9iamVjdC5maW5nZXJDb3VudD1pLm9yaWdpbmFsRXZlbnQmJnZvaWQgMCE9PWkub3JpZ2luYWxFdmVudC50b3VjaGVzP2kub3JpZ2luYWxFdmVudC50b3VjaGVzLmxlbmd0aDoxLGUudG91Y2hPYmplY3QubWluU3dpcGU9ZS5saXN0V2lkdGgvZS5vcHRpb25zLnRvdWNoVGhyZXNob2xkLCEwPT09ZS5vcHRpb25zLnZlcnRpY2FsU3dpcGluZyYmKGUudG91Y2hPYmplY3QubWluU3dpcGU9ZS5saXN0SGVpZ2h0L2Uub3B0aW9ucy50b3VjaFRocmVzaG9sZCksaS5kYXRhLmFjdGlvbil7Y2FzZVwic3RhcnRcIjplLnN3aXBlU3RhcnQoaSk7YnJlYWs7Y2FzZVwibW92ZVwiOmUuc3dpcGVNb3ZlKGkpO2JyZWFrO2Nhc2VcImVuZFwiOmUuc3dpcGVFbmQoaSl9fSxlLnByb3RvdHlwZS5zd2lwZU1vdmU9ZnVuY3Rpb24oaSl7dmFyIGUsdCxvLHMsbixyLGw9dGhpcztyZXR1cm4gbj12b2lkIDAhPT1pLm9yaWdpbmFsRXZlbnQ/aS5vcmlnaW5hbEV2ZW50LnRvdWNoZXM6bnVsbCwhKCFsLmRyYWdnaW5nfHxsLnNjcm9sbGluZ3x8biYmMSE9PW4ubGVuZ3RoKSYmKGU9bC5nZXRMZWZ0KGwuY3VycmVudFNsaWRlKSxsLnRvdWNoT2JqZWN0LmN1clg9dm9pZCAwIT09bj9uWzBdLnBhZ2VYOmkuY2xpZW50WCxsLnRvdWNoT2JqZWN0LmN1clk9dm9pZCAwIT09bj9uWzBdLnBhZ2VZOmkuY2xpZW50WSxsLnRvdWNoT2JqZWN0LnN3aXBlTGVuZ3RoPU1hdGgucm91bmQoTWF0aC5zcXJ0KE1hdGgucG93KGwudG91Y2hPYmplY3QuY3VyWC1sLnRvdWNoT2JqZWN0LnN0YXJ0WCwyKSkpLHI9TWF0aC5yb3VuZChNYXRoLnNxcnQoTWF0aC5wb3cobC50b3VjaE9iamVjdC5jdXJZLWwudG91Y2hPYmplY3Quc3RhcnRZLDIpKSksIWwub3B0aW9ucy52ZXJ0aWNhbFN3aXBpbmcmJiFsLnN3aXBpbmcmJnI+ND8obC5zY3JvbGxpbmc9ITAsITEpOighMD09PWwub3B0aW9ucy52ZXJ0aWNhbFN3aXBpbmcmJihsLnRvdWNoT2JqZWN0LnN3aXBlTGVuZ3RoPXIpLHQ9bC5zd2lwZURpcmVjdGlvbigpLHZvaWQgMCE9PWkub3JpZ2luYWxFdmVudCYmbC50b3VjaE9iamVjdC5zd2lwZUxlbmd0aD40JiYobC5zd2lwaW5nPSEwLGkucHJldmVudERlZmF1bHQoKSkscz0oITE9PT1sLm9wdGlvbnMucnRsPzE6LTEpKihsLnRvdWNoT2JqZWN0LmN1clg+bC50b3VjaE9iamVjdC5zdGFydFg/MTotMSksITA9PT1sLm9wdGlvbnMudmVydGljYWxTd2lwaW5nJiYocz1sLnRvdWNoT2JqZWN0LmN1clk+bC50b3VjaE9iamVjdC5zdGFydFk/MTotMSksbz1sLnRvdWNoT2JqZWN0LnN3aXBlTGVuZ3RoLGwudG91Y2hPYmplY3QuZWRnZUhpdD0hMSwhMT09PWwub3B0aW9ucy5pbmZpbml0ZSYmKDA9PT1sLmN1cnJlbnRTbGlkZSYmXCJyaWdodFwiPT09dHx8bC5jdXJyZW50U2xpZGU+PWwuZ2V0RG90Q291bnQoKSYmXCJsZWZ0XCI9PT10KSYmKG89bC50b3VjaE9iamVjdC5zd2lwZUxlbmd0aCpsLm9wdGlvbnMuZWRnZUZyaWN0aW9uLGwudG91Y2hPYmplY3QuZWRnZUhpdD0hMCksITE9PT1sLm9wdGlvbnMudmVydGljYWw/bC5zd2lwZUxlZnQ9ZStvKnM6bC5zd2lwZUxlZnQ9ZStvKihsLiRsaXN0LmhlaWdodCgpL2wubGlzdFdpZHRoKSpzLCEwPT09bC5vcHRpb25zLnZlcnRpY2FsU3dpcGluZyYmKGwuc3dpcGVMZWZ0PWUrbypzKSwhMCE9PWwub3B0aW9ucy5mYWRlJiYhMSE9PWwub3B0aW9ucy50b3VjaE1vdmUmJighMD09PWwuYW5pbWF0aW5nPyhsLnN3aXBlTGVmdD1udWxsLCExKTp2b2lkIGwuc2V0Q1NTKGwuc3dpcGVMZWZ0KSkpKX0sZS5wcm90b3R5cGUuc3dpcGVTdGFydD1mdW5jdGlvbihpKXt2YXIgZSx0PXRoaXM7aWYodC5pbnRlcnJ1cHRlZD0hMCwxIT09dC50b3VjaE9iamVjdC5maW5nZXJDb3VudHx8dC5zbGlkZUNvdW50PD10Lm9wdGlvbnMuc2xpZGVzVG9TaG93KXJldHVybiB0LnRvdWNoT2JqZWN0PXt9LCExO3ZvaWQgMCE9PWkub3JpZ2luYWxFdmVudCYmdm9pZCAwIT09aS5vcmlnaW5hbEV2ZW50LnRvdWNoZXMmJihlPWkub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdKSx0LnRvdWNoT2JqZWN0LnN0YXJ0WD10LnRvdWNoT2JqZWN0LmN1clg9dm9pZCAwIT09ZT9lLnBhZ2VYOmkuY2xpZW50WCx0LnRvdWNoT2JqZWN0LnN0YXJ0WT10LnRvdWNoT2JqZWN0LmN1clk9dm9pZCAwIT09ZT9lLnBhZ2VZOmkuY2xpZW50WSx0LmRyYWdnaW5nPSEwfSxlLnByb3RvdHlwZS51bmZpbHRlclNsaWRlcz1lLnByb3RvdHlwZS5zbGlja1VuZmlsdGVyPWZ1bmN0aW9uKCl7dmFyIGk9dGhpcztudWxsIT09aS4kc2xpZGVzQ2FjaGUmJihpLnVubG9hZCgpLGkuJHNsaWRlVHJhY2suY2hpbGRyZW4odGhpcy5vcHRpb25zLnNsaWRlKS5kZXRhY2goKSxpLiRzbGlkZXNDYWNoZS5hcHBlbmRUbyhpLiRzbGlkZVRyYWNrKSxpLnJlaW5pdCgpKX0sZS5wcm90b3R5cGUudW5sb2FkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpKFwiLnNsaWNrLWNsb25lZFwiLGUuJHNsaWRlcikucmVtb3ZlKCksZS4kZG90cyYmZS4kZG90cy5yZW1vdmUoKSxlLiRwcmV2QXJyb3cmJmUuaHRtbEV4cHIudGVzdChlLm9wdGlvbnMucHJldkFycm93KSYmZS4kcHJldkFycm93LnJlbW92ZSgpLGUuJG5leHRBcnJvdyYmZS5odG1sRXhwci50ZXN0KGUub3B0aW9ucy5uZXh0QXJyb3cpJiZlLiRuZXh0QXJyb3cucmVtb3ZlKCksZS4kc2xpZGVzLnJlbW92ZUNsYXNzKFwic2xpY2stc2xpZGUgc2xpY2stYWN0aXZlIHNsaWNrLXZpc2libGUgc2xpY2stY3VycmVudFwiKS5hdHRyKFwiYXJpYS1oaWRkZW5cIixcInRydWVcIikuY3NzKFwid2lkdGhcIixcIlwiKX0sZS5wcm90b3R5cGUudW5zbGljaz1mdW5jdGlvbihpKXt2YXIgZT10aGlzO2UuJHNsaWRlci50cmlnZ2VyKFwidW5zbGlja1wiLFtlLGldKSxlLmRlc3Ryb3koKX0sZS5wcm90b3R5cGUudXBkYXRlQXJyb3dzPWZ1bmN0aW9uKCl7dmFyIGk9dGhpcztNYXRoLmZsb29yKGkub3B0aW9ucy5zbGlkZXNUb1Nob3cvMiksITA9PT1pLm9wdGlvbnMuYXJyb3dzJiZpLnNsaWRlQ291bnQ+aS5vcHRpb25zLnNsaWRlc1RvU2hvdyYmIWkub3B0aW9ucy5pbmZpbml0ZSYmKGkuJHByZXZBcnJvdy5yZW1vdmVDbGFzcyhcInNsaWNrLWRpc2FibGVkXCIpLmF0dHIoXCJhcmlhLWRpc2FibGVkXCIsXCJmYWxzZVwiKSxpLiRuZXh0QXJyb3cucmVtb3ZlQ2xhc3MoXCJzbGljay1kaXNhYmxlZFwiKS5hdHRyKFwiYXJpYS1kaXNhYmxlZFwiLFwiZmFsc2VcIiksMD09PWkuY3VycmVudFNsaWRlPyhpLiRwcmV2QXJyb3cuYWRkQ2xhc3MoXCJzbGljay1kaXNhYmxlZFwiKS5hdHRyKFwiYXJpYS1kaXNhYmxlZFwiLFwidHJ1ZVwiKSxpLiRuZXh0QXJyb3cucmVtb3ZlQ2xhc3MoXCJzbGljay1kaXNhYmxlZFwiKS5hdHRyKFwiYXJpYS1kaXNhYmxlZFwiLFwiZmFsc2VcIikpOmkuY3VycmVudFNsaWRlPj1pLnNsaWRlQ291bnQtaS5vcHRpb25zLnNsaWRlc1RvU2hvdyYmITE9PT1pLm9wdGlvbnMuY2VudGVyTW9kZT8oaS4kbmV4dEFycm93LmFkZENsYXNzKFwic2xpY2stZGlzYWJsZWRcIikuYXR0cihcImFyaWEtZGlzYWJsZWRcIixcInRydWVcIiksaS4kcHJldkFycm93LnJlbW92ZUNsYXNzKFwic2xpY2stZGlzYWJsZWRcIikuYXR0cihcImFyaWEtZGlzYWJsZWRcIixcImZhbHNlXCIpKTppLmN1cnJlbnRTbGlkZT49aS5zbGlkZUNvdW50LTEmJiEwPT09aS5vcHRpb25zLmNlbnRlck1vZGUmJihpLiRuZXh0QXJyb3cuYWRkQ2xhc3MoXCJzbGljay1kaXNhYmxlZFwiKS5hdHRyKFwiYXJpYS1kaXNhYmxlZFwiLFwidHJ1ZVwiKSxpLiRwcmV2QXJyb3cucmVtb3ZlQ2xhc3MoXCJzbGljay1kaXNhYmxlZFwiKS5hdHRyKFwiYXJpYS1kaXNhYmxlZFwiLFwiZmFsc2VcIikpKX0sZS5wcm90b3R5cGUudXBkYXRlRG90cz1mdW5jdGlvbigpe3ZhciBpPXRoaXM7bnVsbCE9PWkuJGRvdHMmJihpLiRkb3RzLmZpbmQoXCJsaVwiKS5yZW1vdmVDbGFzcyhcInNsaWNrLWFjdGl2ZVwiKS5lbmQoKSxpLiRkb3RzLmZpbmQoXCJsaVwiKS5lcShNYXRoLmZsb29yKGkuY3VycmVudFNsaWRlL2kub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCkpLmFkZENsYXNzKFwic2xpY2stYWN0aXZlXCIpKX0sZS5wcm90b3R5cGUudmlzaWJpbGl0eT1mdW5jdGlvbigpe3ZhciBpPXRoaXM7aS5vcHRpb25zLmF1dG9wbGF5JiYoZG9jdW1lbnRbaS5oaWRkZW5dP2kuaW50ZXJydXB0ZWQ9ITA6aS5pbnRlcnJ1cHRlZD0hMSl9LGkuZm4uc2xpY2s9ZnVuY3Rpb24oKXt2YXIgaSx0LG89dGhpcyxzPWFyZ3VtZW50c1swXSxuPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxyPW8ubGVuZ3RoO2ZvcihpPTA7aTxyO2krKylpZihcIm9iamVjdFwiPT10eXBlb2Ygc3x8dm9pZCAwPT09cz9vW2ldLnNsaWNrPW5ldyBlKG9baV0scyk6dD1vW2ldLnNsaWNrW3NdLmFwcGx5KG9baV0uc2xpY2ssbiksdm9pZCAwIT09dClyZXR1cm4gdDtyZXR1cm4gb319KTtcclxuXHJcbiQoZnVuY3Rpb24oKXtcclxuXHJcbiAgXHJcblxyXG5cdCQoJ2lucHV0W3R5cGU9XCJ0ZWxcIl0nKS5tYXNrKFwiKzcgKDk5OSkgOTk5LTk5LTk5XCIpO1xyXG5cclxuICBsZXQgYWdlID0gJCgnI2FnZScpO1xyXG4gIFxyXG4gIGlmKGxvY2FsU3RvcmFnZS5hZ2UgIT0gMTgpIHtcclxuICAgIGFnZS5kZWxheSg3MDApLmZhZGVJbigpO1xyXG4gICAgJCgnaHRtbCcpLmFkZENsYXNzKCdzY3JvbGwtZGlzYWJsZWQnKTtcclxuICB9IFxyXG4gIFxyXG4gICQoJyNhZ2UgLmJ0bltocmVmPVwiI3llc1wiXScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7XHJcbiAgICBsb2NhbFN0b3JhZ2UuYWdlID0gMTg7XHJcbiAgICAkKCdodG1sJykucmVtb3ZlQ2xhc3MoJ3Njcm9sbC1kaXNhYmxlZCcpO1xyXG4gICAgYWdlLmZhZGVPdXQoKTtcclxuICB9KVxyXG4gIGNvbnN0IGJ1cmdlciA9ICQoJy5oZWFkZXJfX2J1cmdlcicpO1xyXG4gIGNvbnN0IG1lbnUgPSAkKCcuaGVhZGVyX19tZW51Jyk7XHJcbiAgXHJcbiAgYnVyZ2VyLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgXHJcbiAgICAvLyBpZiAoJCgnaHRtbCcpLmhhc0NsYXNzKCdzY3JvbGwtZGlzYWJsZWQnKSkge1xyXG4gICAgLy8gICAkKCdodG1sJykucmVtb3ZlQ2xhc3MoJ3Njcm9sbC1kaXNhYmxlZCcpO1xyXG4gICAgLy8gfVxyXG4gIFxyXG4gIFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIFx0YnVyZ2VyLnRvZ2dsZUNsYXNzKCdoZWFkZXJfX2J1cmdlci0tY2xvc2UnKTtcclxuICBcdG1lbnUudG9nZ2xlQ2xhc3MoJ2hlYWRlcl9fbWVudS0tb3BlbicpO1xyXG4gICAgLy8gJCgnaHRtbCcpLnRvZ2dsZUNsYXNzKCdzY3JvbGwtZGlzYWJsZWQnKTtcclxuICBcclxuICBcdCQoZG9jdW1lbnQpLmtleXVwKGZ1bmN0aW9uKGUpIHtcclxuICBcdFx0aWYgKGUua2V5ID09PSBcIkVzY2FwZVwiIHx8IGUua2V5Q29kZSA9PT0gMjcpIHtcclxuICBcdFx0XHQkKCcuaGVhZGVyX19tZW51JykucmVtb3ZlQ2xhc3MoJ2hlYWRlcl9fbWVudS0tb3BlbicpO1xyXG4gIFx0XHRcdGJ1cmdlci5yZW1vdmVDbGFzcygnaGVhZGVyX19idXJnZXItLWNsb3NlJyk7XHJcbiAgXHRcdFx0Ly8gJCgnaHRtbCcpLnJlbW92ZUNsYXNzKCdzY3JvbGwtZGlzYWJsZWQnKTtcclxuICBcdFx0fVxyXG4gIFx0fSk7XHJcbiAgfSk7XHJcbiAgJCgnYm9keScpLm9uKCdjbGljaycsICdbaHJlZio9XCIjXCJdJywgZnVuY3Rpb24oZSl7XHJcbiAgXHR2YXIgZml4ZWRfb2Zmc2V0ID0gMDtcclxuICBcclxuICBcdCQoJ2h0bWwsYm9keScpLnN0b3AoKS5hbmltYXRlKHsgXHJcbiAgXHRcdHNjcm9sbFRvcDogJCh0aGlzLmhhc2gpLm9mZnNldCgpLnRvcCAtIGZpeGVkX29mZnNldCBcclxuICBcdH0sIDMwMCk7XHJcbiAgXHRlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgXHRidXJnZXIudG9nZ2xlQ2xhc3MoJ2hlYWRlcl9fYnVyZ2VyLS1jbG9zZScpO1xyXG4gIFx0bWVudS50b2dnbGVDbGFzcygnaGVhZGVyX19tZW51LS1vcGVuJyk7XHJcbiAgICAvLyAkKCdodG1sJykudG9nZ2xlQ2xhc3MoJ3Njcm9sbC1kaXNhYmxlZCcpO1xyXG4gIH0pO1xyXG4gICQoJy5wcm9kX19pdGVtJykuaGlkZSgpO1xyXG4gIFxyXG4gIFxyXG4gIGxldCBhdHRyID0gJCgnLnByb2RfX3RhYi5wcm9kX190YWItLWFjdGl2ZScpLmF0dHIoJ2RhdGEtdGFiJyk7XHJcbiAgJCgnLnByb2RfX2l0ZW1bZGF0YS10YWI9XCInKyBhdHRyICsnXCJdJykuc2hvdygpO1xyXG4gIFxyXG4gICQoJy5wcm9kX190YWInKS5vbignY2xpY2snLCBmdW5jdGlvbigpe1xyXG4gIFxyXG4gICAgJCgnLnByb2RfX3RhYicpLnJlbW92ZUNsYXNzKCdwcm9kX190YWItLWFjdGl2ZScpO1xyXG4gIFx0JCh0aGlzKS5hZGRDbGFzcygncHJvZF9fdGFiLS1hY3RpdmUnKTtcclxuICBcclxuICAgIGxldCBpZCA9ICQodGhpcykuYXR0cignZGF0YS10YWInKTtcclxuICBcclxuICAgICQoJy5wcm9kX19pdGVtJykuaGlkZSgpO1xyXG4gICAgbGV0IGNvbnRlbnQgPSAkKCcucHJvZF9faXRlbVtkYXRhLXRhYj1cIicrIGlkICsnXCJdJyk7XHJcbiAgICBjb250ZW50LnNob3coKTtcclxuICAgIGluaXRQcm9kU3dpcGVyKCk7XHJcbiAgfSk7XHJcbiAgXHJcbiAgJCgnI3Byb2Qtc2VsZWN0Jykub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCl7XHJcbiAgXHRsZXQgaWQgPSAkKCcjcHJvZC1zZWxlY3QnKS52YWwoKTtcclxuICBcclxuICAgICQoJy5wcm9kX19pdGVtJykuaGlkZSgpO1xyXG4gICAgbGV0IGNvbnRlbnQgPSAkKCcucHJvZF9faXRlbVtkYXRhLXRhYj1cIicrIGlkICsnXCJdJyk7XHJcbiAgICBjb250ZW50LnNob3coKTtcclxuICAgIGluaXRQcm9kU3dpcGVyKCk7XHJcbiAgfSk7XHJcbiAgXHJcbiAgLy9tYXBcclxuICBcclxuICAkKCcucG9pbnRzX19saXN0IGxpJykuaGlkZSgpO1xyXG4gIGxldCBhdHRyUG9pbnRzID0gJCgnI21hcC1zZWxlY3QnKS52YWwoKTtcclxuICAkKCcucG9pbnRzX19saXN0IGxpW2RhdGEtdGFiPVwiJysgYXR0clBvaW50cyArJ1wiXScpLnNob3coKTtcclxuICBcclxuICAkKCcjbWFwLXNlbGVjdCcpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbigpe1xyXG4gIFx0bGV0IGlkID0gJCgnI21hcC1zZWxlY3QnKS52YWwoKTtcclxuICBcclxuICAgICQoJy5wb2ludHNfX2xpc3QgbGknKS5oaWRlKCk7XHJcbiAgICBsZXQgY29udGVudCA9ICQoJy5wb2ludHNfX2xpc3QgbGlbZGF0YS10YWI9XCInKyBpZCArJ1wiXScpO1xyXG4gICAgY29udGVudC5zaG93KCk7XHJcbiAgXHJcbiAgfSk7XHJcbiAgJCgnLmNhcm91c2VsX19zbGlkZXInKS5zbGljayh7XHJcbiAgXHRzbGlkZXNUb1Nob3c6IDQsXHJcbiAgXHRzbGlkZXNUb1Njcm9sbDogMSxcclxuICAgIC8vIGxhenlMb2FkOiAnb25kZW1hbmQnLFxyXG4gICAgYXV0b3BsYXk6IHRydWUsXHJcbiAgICBhdXRvcGxheVNwZWVkOiAzMDAwLFxyXG4gICAgLy8gYXJyb3dzOiBmYWxzZSxcclxuICBcdHJlc3BvbnNpdmU6IFtcclxuICAgICAge1xyXG4gIFx0XHRcdGJyZWFrcG9pbnQ6IDEyMDAsXHJcbiAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgIHNsaWRlc1RvU2hvdzogM1xyXG4gICAgICAgIH1cclxuICBcdFx0fSxcclxuICBcdFx0e1xyXG4gIFx0XHRcdGJyZWFrcG9pbnQ6IDk5MixcclxuICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgc2xpZGVzVG9TaG93OiAyXHJcbiAgICAgICAgfVxyXG4gIFx0XHR9LFxyXG4gIFx0XHR7XHJcbiAgXHRcdFx0YnJlYWtwb2ludDogNzcwLFxyXG4gICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICBzbGlkZXNUb1Nob3c6IDFcclxuICAgICAgICB9XHJcbiAgXHRcdH1cclxuICBcdF1cclxuICB9KTtcclxuICBcclxuICBcclxuICBmdW5jdGlvbiBpbml0UHJvZFN3aXBlcigpe1xyXG4gICAgY29uc3Qgc3dpcGVyID0gbmV3IFN3aXBlcignLnByb2RfX3NsaWRlcicsIHtcclxuICAgIC8vIE9wdGlvbmFsIHBhcmFtZXRlcnNcclxuICAgIGxvb3A6IHRydWUsXHJcbiAgICBzbGlkZXNQZXJWaWV3OiAxLFxyXG4gICAgLy8ga2V5Ym9hcmRDb250cm9sOiB0cnVlLFxyXG4gICAgLy8gZ3JhYkN1cnNvcjp0cnVlLFxyXG4gICAgcm91bmRMZW5ndGhzOiB0cnVlLFxyXG4gICAgLy8gZWZmZWN0OiAnZmFkZScsXHJcbiAgICAvLyBmYWRlOiB7IFxyXG4gICAgLy8gICBjcm9zc0ZhZGU6dHJ1ZSBcclxuICAgIC8vIH0sXHJcbiAgICAvLyBzcGFjZUJldHdlZW46IDYwLFxyXG4gICAgLy8gY2VudGVyZWRTbGlkZXM6IHRydWUsXHJcbiAgXHJcbiAgICAvLyBOYXZpZ2F0aW9uIGFycm93c1xyXG4gICAgbmF2aWdhdGlvbjoge1xyXG4gICAgICBuZXh0RWw6ICcuc3dpcGVyLWJ1dHRvbi1uZXh0JyxcclxuICAgICAgcHJldkVsOiAnLnN3aXBlci1idXR0b24tcHJldicsXHJcbiAgICAgIGNsaWNrYWJsZTogdHJ1ZSxcclxuICAgIH0sXHJcbiAgICBicmVha3BvaW50czoge1xyXG4gICAgICA2NDA6IHtcclxuICAgICAgICBzbGlkZXNQZXJWaWV3OiAyLFxyXG4gICAgICAgIHNwYWNlQmV0d2VlbjogMzAsXHJcbiAgICAgIH0sXHJcbiAgICAgIDEwMjQ6IHtcclxuICAgICAgICBzbGlkZXNQZXJWaWV3OiAzLFxyXG4gICAgICAgIHNwYWNlQmV0d2VlbjogNDAsXHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gIFxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIGlzSW5WaWV3cG9ydChlbGVtKSB7XHJcbiAgXHR2YXIgZWxlbWVudFRvcCA9ICQoZWxlbSkub2Zmc2V0KCkudG9wO1xyXG4gIFx0dmFyIGVsZW1lbnRIZWlnaHQgPSAkKGVsZW0pLm91dGVySGVpZ2h0KCk7XHJcbiAgXHR2YXIgZWxlbWVudEJvdHRvbSA9IGVsZW1lbnRUb3AgKyBlbGVtZW50SGVpZ2h0O1xyXG4gIFxyXG4gIFxyXG4gIFx0dmFyIHZpZXdwb3J0VG9wID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpO1xyXG4gIFx0dmFyIHZpZXdwb3J0Qm90dG9tID0gdmlld3BvcnRUb3AgKyAkKHdpbmRvdykuaGVpZ2h0KCk7XHJcbiAgXHJcbiAgXHRyZXR1cm4gZWxlbWVudEJvdHRvbSA+IHZpZXdwb3J0VG9wICYmIGVsZW1lbnRUb3AgIDwgdmlld3BvcnRCb3R0b207XHJcbiAgfTtcclxuICBcclxuICBmdW5jdGlvbiBzdGFydF9sYXp5X21hcChlbGVtKSB7XHJcbiAgXHRpZiAoIW1hcF9sb2FkZWQpIHtcclxuICBcdFx0XHR2YXIgbWFwX2Jsb2NrID0gJChlbGVtKTtcclxuICBcdFx0XHRtYXBfbG9hZGVkID0gdHJ1ZTtcclxuICBcdFx0XHRtYXBfYmxvY2suYXR0cignc3JjJywgbWFwX2Jsb2NrLmF0dHIoJ2RhdGEtc3JjJykpO1xyXG4gIFx0XHRcdG1hcF9ibG9jay5yZW1vdmVBdHRyKCdkYXRhLXNyYycpO1xyXG4gIFx0fVxyXG4gIH1cclxuICBcclxuICBcclxuICB2YXIgbWFwX2xvYWRlZCA9IGZhbHNlO1xyXG4gIFxyXG4gICQoJyNtYXAnKS5vbignY2xpY2snLCBmdW5jdGlvbigpe1xyXG4gIFx0c3RhcnRfbGF6eV9tYXAoJyN5bWFwX2xhenknKTtcclxuICB9KVxyXG4gIFxyXG4gICQod2luZG93KS5vbigncmVzaXplIHNjcm9sbCcsIGZ1bmN0aW9uKCkge1xyXG4gIFx0aWYgKGlzSW5WaWV3cG9ydCgnI21hcCcpKSB7XHJcbiAgXHRcdHN0YXJ0X2xhenlfbWFwKCcjeW1hcF9sYXp5Jyk7XHJcbiAgXHR9IFxyXG4gIH0pO1xyXG4gIC8vYm9keSBhcnJvdyB1cCAtIHNlZSBidG4ubGVzcyBmb3IgY3VzdG9taXppbmdcclxuICAkKCc8ZGl2PicpLmFkZENsYXNzKCdhcnJvd1VwQnRuJykuYXR0cigndGl0bGUnLCAn0JLQtdGA0L3Rg9GC0YzRgdGPINC6INC90LDRh9Cw0LvRgycpLmFwcGVuZFRvKCdib2R5Jyk7XHJcbiAgXHJcbiAgdmFyIGFycm93VXBCdG4gPSAkKCcuYXJyb3dVcEJ0bicpO1xyXG4gIFxyXG4gIGZ1bmN0aW9uIHNjcm9sbEJ0bigpIHtcclxuICBcdHZhciB0b3AgPSAkKHRoaXMpLnNjcm9sbFRvcCgpO1xyXG4gIFxyXG4gIFx0aWYgKHRvcCA+IDMwMCkge1xyXG4gIFx0XHRhcnJvd1VwQnRuLmZhZGVJbig1MDApO1xyXG4gIFx0fSBlbHNlIHtcclxuICBcdFx0YXJyb3dVcEJ0bi5mYWRlT3V0KDUwMCk7XHJcbiAgXHR9XHJcbiAgXHQvLyAkKHRoaXMpLnNjcm9sbFRvcCgpID4gMzAwID8gJCgnLmFycm93VXBCdG4nKS5mYWRlSW4oKSA6ICQoJy5hcnJvd1VwQnRuJykuZmFkZU91dCgpO1xyXG4gIH1cclxuICBcclxuICBzY3JvbGxCdG4oKTtcclxuICBcclxuICAkKHdpbmRvdykub24oJ3Njcm9sbCcsIHNjcm9sbEJ0bik7XHJcbiAgXHJcbiAgYXJyb3dVcEJ0bi5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgXHQkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XHJcbiAgXHRcdHNjcm9sbFRvcDogMFxyXG4gIFx0fSwgNTAwKTtcclxuICB9KVxyXG5cclxuICBpbml0UHJvZFN3aXBlcigpO1xyXG5cclxufSk7Il19
